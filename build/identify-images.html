<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Identify Product Images</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 {
      margin-bottom: 10px;
      color: #333;
    }
    .instructions {
      background: #fff3cd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #ffc107;
    }
    .needed-list {
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .needed-list h3 { margin-bottom: 10px; color: #6B0F1A; }
    .needed-list ul { columns: 3; list-style-position: inside; }
    .needed-list li { margin: 4px 0; }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: #f0f0f0;
    }
    .card-info {
      padding: 15px;
    }
    .filename {
      font-size: 11px;
      color: #999;
      margin-bottom: 8px;
      font-family: monospace;
    }
    select {
      width: 100%;
      padding: 8px;
      border: 2px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }
    select:focus {
      outline: none;
      border-color: #6B0F1A;
    }
    .apply-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #6B0F1A;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(107, 15, 26, 0.3);
      transition: all 0.2s;
    }
    .apply-btn:hover {
      background: #8B1F2A;
      transform: scale(1.05);
    }
    .applied { color: #28a745; font-size: 14px; margin-top: 8px; }
  </style>
</head>
<body>
  <h1>üñºÔ∏è Identify Your Product Images</h1>

  <div class="instructions">
    <strong>Instructions:</strong>
    <ol style="margin-left: 20px; margin-top: 10px;">
      <li>Look at each image below</li>
      <li>Select what product it shows from the dropdown</li>
      <li>Click "Apply Mappings" when done</li>
      <li>This will save the mappings to your menu.json</li>
    </ol>
  </div>

  <div class="needed-list">
    <h3>üìã Products Needing Images (7)</h3>
    <ul>
      <li>Lamb Chops</li>
      <li>Lamb Kebabs</li>
      <li>Extra Virgin Olive Oil</li>
      <li>Middle Eastern Spice Mix</li>
      <li>Fresh Pita Bread</li>
      <li>Premium Saffron</li>
      <li>Turkish Delight</li>
    </ul>
  </div>

  <div class="grid" id="imageGrid"></div>

  <button class="apply-btn" onclick="applyMappings()">‚úÖ Apply Mappings</button>

  <script>
    const baseUrl = 'https://cdfllxxtgguyveowmdis.supabase.co/storage/v1/object/public/make-a05c3297-product-images';

    const genericImages = [
      'item-1762280168527-1762280183462.webp',
      'item-1762436836215-1762436858206.jpg',
      'item-1762437347484-1762437381921.avif',
      'item-1762437347484-1762437412992.avif',
      'item-1762437462142-1762437536995.webp',
      'item-1762437595505-1762437618139.jpg',
      'item-1762438100116-1762438155461.jpeg',
      'item-1762438947137-1762439024150.webp',
      'item-1762439154712-1762439251458.webp',
      'item-1762440284289-1762440328373.jpg',
      'item-1762440401919-1762440418491.jpg',
      'item-1762440439480-1762440668616.webp',
      'item-1762440711850-1762440750344.jpg',
      'item-1762440753566-1762440844040.webp',
      'item-1762440711850-1762440875618.jpg',
      'item-1762440931645-1762440948347.png',
      'item-1762440965879-1762441016612.webp',
      'item-1762441067849-1762441108232.jpg'
    ];

    const products = [
      { id: 'lamb-chops', name: 'Lamb Chops' },
      { id: 'lamb-kebab', name: 'Lamb Kebabs' },
      { id: 'olive-oil', name: 'Extra Virgin Olive Oil' },
      { id: 'spice-mix', name: 'Middle Eastern Spice Mix' },
      { id: 'pita-bread', name: 'Fresh Pita Bread' },
      { id: 'saffron', name: 'Premium Saffron' },
      { id: 'turkish-delight', name: 'Turkish Delight' },
    ];

    const grid = document.getElementById('imageGrid');

    genericImages.forEach((filename, index) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${baseUrl}/${filename}" alt="${filename}" loading="lazy" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YwZjBmMCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+'">
        <div class="card-info">
          <div class="filename">${filename}</div>
          <select id="select-${index}" data-filename="${filename}">
            <option value="">-- Select Product --</option>
            ${products.map(p => `<option value="${p.id}">${p.name}</option>`).join('')}
          </select>
          <div class="applied" id="applied-${index}" style="display:none;">‚úì Saved</div>
        </div>
      `;
      grid.appendChild(card);
    });

    function applyMappings() {
      const mappings = {};
      genericImages.forEach((filename, index) => {
        const select = document.getElementById(`select-${index}`);
        if (select.value) {
          mappings[filename] = select.value;
          document.getElementById(`applied-${index}`).style.display = 'block';
        }
      });

      console.log('Image Mappings:', mappings);

      // Copy to clipboard
      const script = `
// Add this to scripts/apply-image-mappings.js:
const imageMap = ${JSON.stringify(mappings, null, 2)};
      `;

      navigator.clipboard.writeText(JSON.stringify(mappings, null, 2)).then(() => {
        alert('‚úÖ Mappings copied to clipboard!\\n\\nPaste this into your terminal or share with me.');
      });
    }
  </script>
</body>
</html>
