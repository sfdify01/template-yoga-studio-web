function HP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tU(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var x0={exports:{}},su={},y0={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function nU(){if(Sk)return at;Sk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function S(U,D,ee){this.props=U,this.context=D,this.refs=j,this.updater=ee||y}S.prototype.isReactComponent={},S.prototype.setState=function(U,D){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,D,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function _(){}_.prototype=S.prototype;function N(U,D,ee){this.props=U,this.context=D,this.refs=j,this.updater=ee||y}var C=N.prototype=new _;C.constructor=N,b(C,S.prototype),C.isPureReactComponent=!0;var T=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(U,D,ee){var z,L={},X=null,K=null;if(D!=null)for(z in D.ref!==void 0&&(K=D.ref),D.key!==void 0&&(X=""+D.key),D)M.call(D,z)&&!E.hasOwnProperty(z)&&(L[z]=D[z]);var se=arguments.length-2;if(se===1)L.children=ee;else if(1<se){for(var ue=Array(se),de=0;de<se;de++)ue[de]=arguments[de+2];L.children=ue}if(U&&U.defaultProps)for(z in se=U.defaultProps,se)L[z]===void 0&&(L[z]=se[z]);return{$$typeof:e,type:U,key:X,ref:K,props:L,_owner:P.current}}function q(U,D){return{$$typeof:e,type:U.type,key:D,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function Q(U){var D={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ee){return D[ee]})}var G=/\/+/g;function A(U,D){return typeof U=="object"&&U!==null&&U.key!=null?Q(""+U.key):D.toString(36)}function J(U,D,ee,z,L){var X=typeof U;(X==="undefined"||X==="boolean")&&(U=null);var K=!1;if(U===null)K=!0;else switch(X){case"string":case"number":K=!0;break;case"object":switch(U.$$typeof){case e:case t:K=!0}}if(K)return K=U,L=L(K),U=z===""?"."+A(K,0):z,T(L)?(ee="",U!=null&&(ee=U.replace(G,"$&/")+"/"),J(L,D,ee,"",function(de){return de})):L!=null&&(V(L)&&(L=q(L,ee+(!L.key||K&&K.key===L.key?"":(""+L.key).replace(G,"$&/")+"/")+U)),D.push(L)),1;if(K=0,z=z===""?".":z+":",T(U))for(var se=0;se<U.length;se++){X=U[se];var ue=z+A(X,se);K+=J(X,D,ee,ue,L)}else if(ue=g(U),typeof ue=="function")for(U=ue.call(U),se=0;!(X=U.next()).done;)X=X.value,ue=z+A(X,se++),K+=J(X,D,ee,ue,L);else if(X==="object")throw D=String(U),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return K}function $(U,D,ee){if(U==null)return U;var z=[],L=0;return J(U,z,"","",function(X){return D.call(ee,X,L++)}),z}function F(U){if(U._status===-1){var D=U._result;D=D(),D.then(function(ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=ee)},function(ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=ee)}),U._status===-1&&(U._status=0,U._result=D)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},O={transition:null},Z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:O,ReactCurrentOwner:P};function H(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:$,forEach:function(U,D,ee){$(U,function(){D.apply(this,arguments)},ee)},count:function(U){var D=0;return $(U,function(){D++}),D},toArray:function(U){return $(U,function(D){return D})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},at.Component=S,at.Fragment=n,at.Profiler=i,at.PureComponent=N,at.StrictMode=s,at.Suspense=d,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,at.act=H,at.cloneElement=function(U,D,ee){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var z=b({},U.props),L=U.key,X=U.ref,K=U._owner;if(D!=null){if(D.ref!==void 0&&(X=D.ref,K=P.current),D.key!==void 0&&(L=""+D.key),U.type&&U.type.defaultProps)var se=U.type.defaultProps;for(ue in D)M.call(D,ue)&&!E.hasOwnProperty(ue)&&(z[ue]=D[ue]===void 0&&se!==void 0?se[ue]:D[ue])}var ue=arguments.length-2;if(ue===1)z.children=ee;else if(1<ue){se=Array(ue);for(var de=0;de<ue;de++)se[de]=arguments[de+2];z.children=se}return{$$typeof:e,type:U.type,key:L,ref:X,props:z,_owner:K}},at.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},at.createElement=R,at.createFactory=function(U){var D=R.bind(null,U);return D.type=U,D},at.createRef=function(){return{current:null}},at.forwardRef=function(U){return{$$typeof:c,render:U}},at.isValidElement=V,at.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:F}},at.memo=function(U,D){return{$$typeof:h,type:U,compare:D===void 0?null:D}},at.startTransition=function(U){var D=O.transition;O.transition={};try{U()}finally{O.transition=D}},at.unstable_act=H,at.useCallback=function(U,D){return B.current.useCallback(U,D)},at.useContext=function(U){return B.current.useContext(U)},at.useDebugValue=function(){},at.useDeferredValue=function(U){return B.current.useDeferredValue(U)},at.useEffect=function(U,D){return B.current.useEffect(U,D)},at.useId=function(){return B.current.useId()},at.useImperativeHandle=function(U,D,ee){return B.current.useImperativeHandle(U,D,ee)},at.useInsertionEffect=function(U,D){return B.current.useInsertionEffect(U,D)},at.useLayoutEffect=function(U,D){return B.current.useLayoutEffect(U,D)},at.useMemo=function(U,D){return B.current.useMemo(U,D)},at.useReducer=function(U,D,ee){return B.current.useReducer(U,D,ee)},at.useRef=function(U){return B.current.useRef(U)},at.useState=function(U){return B.current.useState(U)},at.useSyncExternalStore=function(U,D,ee){return B.current.useSyncExternalStore(U,D,ee)},at.useTransition=function(){return B.current.useTransition()},at.version="18.3.1",at}var Nk;function Mw(){return Nk||(Nk=1,y0.exports=nU()),y0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k;function rU(){if(_k)return su;_k=1;var e=Mw(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var f,m={},g=null,y=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)s.call(d,f)&&!a.hasOwnProperty(f)&&(m[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:t,type:c,key:g,ref:y,props:m,_owner:i.current}}return su.Fragment=n,su.jsx=o,su.jsxs=o,su}var kk;function sU(){return kk||(kk=1,x0.exports=rU()),x0.exports}var r=sU();const Oe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ht=globalThis,Bo="10.28.0";function pl(){return yg(ht),ht}function yg(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bo,t[Bo]=t[Bo]||{}}function Xc(e,t,n=ht){const s=n.__SENTRY__=n.__SENTRY__||{},i=s[Bo]=s[Bo]||{};return i[e]||(i[e]=t())}const iU=["debug","info","warn","error","log","assert","trace"],aU="Sentry Logger ",Np={};function gl(e){if(!("console"in ht))return e();const t=ht.console,n={},s=Object.keys(Np);s.forEach(i=>{const a=Np[i];n[i]=t[i],t[i]=a});try{return e()}finally{s.forEach(i=>{t[i]=n[i]})}}function oU(){Lw().enabled=!0}function lU(){Lw().enabled=!1}function qP(){return Lw().enabled}function cU(...e){Dw("log",...e)}function dU(...e){Dw("warn",...e)}function uU(...e){Dw("error",...e)}function Dw(e,...t){Oe&&qP()&&gl(()=>{ht.console[e](`${aU}[${e}]:`,...t)})}function Lw(){return Oe?Xc("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const ve={enable:oU,disable:lU,isEnabled:qP,log:cU,warn:dU,error:uU},GP=50,Xo="?",Ck=/\(error: (.*)\)/,Ek=/captureMessage|captureException/;function KP(...e){const t=e.sort((n,s)=>n[0]-s[0]).map(n=>n[1]);return(n,s=0,i=0)=>{const a=[],o=n.split(`
`);for(let c=s;c<o.length;c++){let d=o[c];d.length>1024&&(d=d.slice(0,1024));const h=Ck.test(d)?d.replace(Ck,"$1"):d;if(!h.match(/\S*Error: /)){for(const f of t){const m=f(h);if(m){a.push(m);break}}if(a.length>=GP+i)break}}return fU(a.slice(i))}}function hU(e){return Array.isArray(e)?KP(...e):e}function fU(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(cm(t).function||"")&&t.pop(),t.reverse(),Ek.test(cm(t).function||"")&&(t.pop(),Ek.test(cm(t).function||"")&&t.pop()),t.slice(0,GP).map(n=>({...n,filename:n.filename||cm(t).filename,function:n.function||Xo}))}function cm(e){return e[e.length-1]||{}}const v0="<anonymous>";function Vi(e){try{return!e||typeof e!="function"?v0:e.name||v0}catch{return v0}}function Tk(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(s=>{s.stacktrace.frames&&n.push(...s.stacktrace.frames)}),n}catch{return}}}function YP(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const ep={},Pk={};function Xa(e,t){ep[e]=ep[e]||[],ep[e].push(t)}function Qa(e,t){if(!Pk[e]){Pk[e]=!0;try{t()}catch(n){Oe&&ve.error(`Error while instrumenting ${e}`,n)}}}function cs(e,t){const n=e&&ep[e];if(n)for(const s of n)try{s(t)}catch(i){Oe&&ve.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Vi(s)}
Error:`,i)}}let b0=null;function JP(e){const t="error";Xa(t,e),Qa(t,mU)}function mU(){b0=ht.onerror,ht.onerror=function(e,t,n,s,i){return cs("error",{column:s,error:i,line:n,msg:e,url:t}),b0?b0.apply(this,arguments):!1},ht.onerror.__SENTRY_INSTRUMENTED__=!0}let w0=null;function XP(e){const t="unhandledrejection";Xa(t,e),Qa(t,pU)}function pU(){w0=ht.onunhandledrejection,ht.onunhandledrejection=function(e){return cs("unhandledrejection",e),w0?w0.apply(this,arguments):!0},ht.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const QP=Object.prototype.toString;function vg(e){switch(QP.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Wi(e,Error)}}function Qc(e,t){return QP.call(e)===`[object ${t}]`}function ZP(e){return Qc(e,"ErrorEvent")}function Rk(e){return Qc(e,"DOMError")}function gU(e){return Qc(e,"DOMException")}function Fi(e){return Qc(e,"String")}function $w(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Pc(e){return e===null||$w(e)||typeof e!="object"&&typeof e!="function"}function Mu(e){return Qc(e,"Object")}function bg(e){return typeof Event<"u"&&Wi(e,Event)}function xU(e){return typeof Element<"u"&&Wi(e,Element)}function yU(e){return Qc(e,"RegExp")}function Zc(e){return!!(e?.then&&typeof e.then=="function")}function vU(e){return Mu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Wi(e,t){try{return e instanceof t}catch{return!1}}function eR(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function tR(e){return typeof Request<"u"&&Wi(e,Request)}const Fw=ht,bU=80;function jr(e,t={}){if(!e)return"<unknown>";try{let n=e;const s=5,i=[];let a=0,o=0;const c=" > ",d=c.length;let h;const f=Array.isArray(t)?t:t.keyAttrs,m=!Array.isArray(t)&&t.maxStringLength||bU;for(;n&&a++<s&&(h=wU(n,f),!(h==="html"||a>1&&o+i.length*d+h.length>=m));)i.push(h),o+=h.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function wU(e,t){const n=e,s=[];if(!n?.tagName)return"";if(Fw.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{s.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&s.push(`#${n.id}`);const o=n.className;if(o&&Fi(o)){const c=o.split(/\s+/);for(const d of c)s.push(`.${d}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const c=n.getAttribute(o);c&&s.push(`[${o}="${c}"]`)}return s.join("")}function ed(){try{return Fw.document.location.href}catch{return""}}function nR(e){if(!Fw.HTMLElement)return null;let t=e;const n=5;for(let s=0;s<n;s++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function br(e,t,n){if(!(t in e))return;const s=e[t];if(typeof s!="function")return;const i=n(s);typeof i=="function"&&rR(i,s);try{e[t]=i}catch{Oe&&ve.log(`Failed to replace method "${t}" in object`,e)}}function Wr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Oe&&ve.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function rR(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Wr(e,"__sentry_original__",t)}catch{}}function Uw(e){return e.__sentry_original__}function sR(e){if(vg(e))return{message:e.message,name:e.name,stack:e.stack,...Ik(e)};if(bg(e)){const t={type:e.type,target:Ak(e.target),currentTarget:Ak(e.currentTarget),...Ik(e)};return typeof CustomEvent<"u"&&Wi(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ak(e){try{return xU(e)?jr(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ik(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function jU(e){const t=Object.keys(sR(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Fv(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ok(e,t){if(!Array.isArray(e))return"";const n=[];for(let s=0;s<e.length;s++){const i=e[s];try{eR(i)?n.push(YP(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function tp(e,t,n=!1){return Fi(e)?yU(t)?t.test(e):Fi(t)?n?e===t:e.includes(t):!1:!1}function Ui(e,t=[],n=!1){return t.some(s=>tp(e,s,n))}function SU(){const e=ht;return e.crypto||e.msCrypto}let j0;function NU(){return Math.random()*16}function Br(e=SU()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return j0||(j0="10000000100040008000"+1e11),j0.replace(/[018]/g,t=>(t^(NU()&15)>>t/4).toString(16))}function iR(e){return e.exception?.values?.[0]}function Io(e){const{message:t,event_id:n}=e;if(t)return t;const s=iR(e);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||n||"<unknown>":n||"<unknown>"}function Uv(e,t,n){const s=e.exception=e.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function Rc(e,t){const n=iR(e);if(!n)return;const s={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...s,...i,...t},t&&"data"in t){const a={...i?.data,...t.data};n.mechanism.data=a}}function Mk(e){if(_U(e))return!0;try{Wr(e,"__sentry_captured__",!0)}catch{}return!1}function _U(e){try{return e.__sentry_captured__}catch{}}const aR=1e3;function xl(){return Date.now()/aR}function kU(){const{performance:e}=ht;if(!e?.now||!e.timeOrigin)return xl;const t=e.timeOrigin;return()=>(t+e.now())/aR}let Dk;function _n(){return(Dk??(Dk=kU()))()}let S0;function CU(){const{performance:e}=ht;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),s=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-s):t,a=i<t,o=e.timing?.navigationStart,d=typeof o=="number"?Math.abs(o+n-s):t,h=d<t;return a||h?i<=d?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[s,"dateNow"]}function Cr(){return S0||(S0=CU()),S0[0]}function EU(e){const t=_n(),n={sid:Br(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>PU(n)};return e&&Ac(n,e),n}function Ac(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||_n(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Br()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function TU(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ac(e,n)}function PU(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function xh(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const s={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=xh(s[i],t[i],n-1));return s}function Hi(){return Br()}function zi(){return Br().substring(16)}const zv="_sentrySpan";function Ic(e,t){t?Wr(e,zv,t):delete e[zv]}function _p(e){return e[zv]}const RU=100;class hi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Hi(),sampleRand:Math.random()}}clone(){const t=new hi;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ic(t,_p(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ac(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,s=n instanceof hi?n.getScopeData():Mu(n)?t:void 0,{tags:i,attributes:a,extra:o,user:c,contexts:d,level:h,fingerprint:f=[],propagationContext:m}=s||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...d},c&&Object.keys(c).length&&(this._user=c),h&&(this._level=h),f.length&&(this._fingerprint=f),m&&(this._propagationContext=m),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ic(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Hi(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const s=typeof n=="number"?n:RU;if(s<=0)return this;const i={timestamp:xl(),...t,message:t.message?Fv(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>s&&(this._breadcrumbs=this._breadcrumbs.slice(-s),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_p(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=xh(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const s=n?.event_id||Br();if(!this._client)return Oe&&ve.warn("No client configured on scope - will not capture exception!"),s;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureMessage(t,n,s){const i=s?.event_id||Br();if(!this._client)return Oe&&ve.warn("No client configured on scope - will not capture message!"),i;const a=s?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...s,event_id:i},this),i}captureEvent(t,n){const s=n?.event_id||Br();return this._client?(this._client.captureEvent(t,{...n,event_id:s},this),s):(Oe&&ve.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function AU(){return Xc("defaultCurrentScope",()=>new hi)}function IU(){return Xc("defaultIsolationScope",()=>new hi)}class OU{constructor(t,n){let s;t?s=t:s=new hi;let i;n?i=n:i=new hi,this._stack=[{scope:s}],this._isolationScope=i}withScope(t){const n=this._pushScope();let s;try{s=t(n)}catch(i){throw this._popScope(),i}return Zc(s)?s.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Oc(){const e=pl(),t=yg(e);return t.stack=t.stack||new OU(AU(),IU())}function MU(e){return Oc().withScope(e)}function DU(e,t){const n=Oc();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Lk(e){return Oc().withScope(()=>e(Oc().getIsolationScope()))}function LU(){return{withIsolationScope:Lk,withScope:MU,withSetScope:DU,withSetIsolationScope:(e,t)=>Lk(t),getCurrentScope:()=>Oc().getScope(),getIsolationScope:()=>Oc().getIsolationScope()}}function td(e){const t=yg(e);return t.acs?t.acs:LU()}function vt(){const e=pl();return td(e).getCurrentScope()}function qs(){const e=pl();return td(e).getIsolationScope()}function $U(){return Xc("globalScope",()=>new hi)}function nd(...e){const t=pl(),n=td(t);if(e.length===2){const[s,i]=e;return s?n.withSetScope(s,i):n.withScope(i)}return n.withScope(e[0])}function dt(){return vt().getClient()}function FU(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:s,propagationSpanId:i}=t,a={trace_id:n,span_id:i||zi()};return s&&(a.parent_span_id=s),a}const Ds="sentry.source",zw="sentry.sample_rate",oR="sentry.previous_trace_sample_rate",qi="sentry.op",vn="sentry.origin",Du="sentry.idle_span_finish_reason",yh="sentry.measurement_unit",vh="sentry.measurement_value",$k="sentry.custom_span_name",Bw="sentry.profile_id",rd="sentry.exclusive_time",UU="sentry.link.type",zU=0,Vw=1,yn=2;function BU(e){if(e<400&&e>=100)return{code:Vw};if(e>=400&&e<500)switch(e){case 401:return{code:yn,message:"unauthenticated"};case 403:return{code:yn,message:"permission_denied"};case 404:return{code:yn,message:"not_found"};case 409:return{code:yn,message:"already_exists"};case 413:return{code:yn,message:"failed_precondition"};case 429:return{code:yn,message:"resource_exhausted"};case 499:return{code:yn,message:"cancelled"};default:return{code:yn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:yn,message:"unimplemented"};case 503:return{code:yn,message:"unavailable"};case 504:return{code:yn,message:"deadline_exceeded"};default:return{code:yn,message:"internal_error"}}return{code:yn,message:"internal_error"}}function lR(e,t){e.setAttribute("http.response.status_code",t);const n=BU(t);n.message!=="unknown_error"&&e.setStatus(n)}const cR="_sentryScope",dR="_sentryIsolationScope";function VU(e){try{const t=ht.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function WU(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function HU(e,t,n){e&&(Wr(e,dR,VU(n)),Wr(e,cR,t))}function kp(e){const t=e;return{scope:t[cR],isolationScope:WU(t[dR])}}const Ww="sentry-",qU=/^sentry-/,GU=8192;function uR(e){const t=YU(e);if(!t)return;const n=Object.entries(t).reduce((s,[i,a])=>{if(i.match(qU)){const o=i.slice(Ww.length);s[o]=a}return s},{});if(Object.keys(n).length>0)return n}function KU(e){if(!e)return;const t=Object.entries(e).reduce((n,[s,i])=>(i&&(n[`${Ww}${s}`]=i),n),{});return JU(t)}function YU(e){if(!(!e||!Fi(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const s=Fk(n);return Object.entries(s).forEach(([i,a])=>{t[i]=a}),t},{}):Fk(e)}function Fk(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const s=t.slice(0,n),i=t.slice(n+1);return[s,i].map(a=>{try{return decodeURIComponent(a.trim())}catch{return}})}).reduce((t,[n,s])=>(n&&s&&(t[n]=s),t),{})}function JU(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,s],i)=>{const a=`${encodeURIComponent(n)}=${encodeURIComponent(s)}`,o=i===0?a:`${t},${a}`;return o.length>GU?(Oe&&ve.warn(`Not adding key: ${n} with val: ${s} to baggage header due to exceeding baggage size limits.`),t):o},"")}const XU=/^o(\d+)\./,QU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ZU(e){return e==="http"||e==="https"}function yl(e,t=!1){const{host:n,path:s,pass:i,port:a,projectId:o,protocol:c,publicKey:d}=e;return`${c}://${d}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${s&&`${s}/`}${o}`}function ez(e){const t=QU.exec(e);if(!t){gl(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,s,i="",a="",o="",c=""]=t.slice(1);let d="",h=c;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return hR({host:a,pass:i,path:d,projectId:h,port:o,protocol:n,publicKey:s})}function hR(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function tz(e){if(!Oe)return!0;const{port:t,projectId:n,protocol:s}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(ve.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?ZU(s)?t&&isNaN(parseInt(t,10))?(ve.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(ve.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(ve.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function nz(e){return e.match(XU)?.[1]}function rz(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let s;return t.orgId?s=String(t.orgId):n&&(s=nz(n)),s}function fR(e){const t=typeof e=="string"?ez(e):hR(e);if(!(!t||!tz(t)))return t}function Qo(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const mR=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function sz(e){if(!e)return;const t=e.match(mR);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function iz(e,t){const n=sz(e),s=uR(t);if(!n?.traceId)return{traceId:Hi(),sampleRand:Math.random()};const i=az(n,s);s&&(s.sample_rand=i.toString());const{traceId:a,parentSpanId:o,parentSampled:c}=n;return{traceId:a,parentSpanId:o,sampled:c,dsc:s||{},sampleRand:i}}function pR(e=Hi(),t=zi(),n){let s="";return n!==void 0&&(s=n?"-1":"-0"),`${e}-${t}${s}`}function gR(e=Hi(),t=zi(),n){return`00-${e}-${t}-${n?"01":"00"}`}function az(e,t){const n=Qo(t?.sample_rand);if(n!==void 0)return n;const s=Qo(t?.sample_rate);return s&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*s:s+Math.random()*(1-s):Math.random()}const xR=0,Hw=1;let Uk=!1;function oz(e){const{spanId:t,traceId:n}=e.spanContext(),{data:s,op:i,parent_span_id:a,status:o,origin:c,links:d}=gt(e);return{parent_span_id:a,span_id:t,trace_id:n,data:s,op:i,status:o,origin:c,links:d}}function lz(e){const{spanId:t,traceId:n,isRemote:s}=e.spanContext(),i=s?t:gt(e).parent_span_id,a=kp(e).scope,o=s?a?.getPropagationContext().propagationSpanId||zi():t;return{parent_span_id:i,span_id:o,trace_id:n}}function cz(e){const{traceId:t,spanId:n}=e.spanContext(),s=Za(e);return pR(t,n,s)}function dz(e){const{traceId:t,spanId:n}=e.spanContext(),s=Za(e);return gR(t,n,s)}function yR(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:s,...i},attributes:a})=>({span_id:t,trace_id:n,sampled:s===Hw,attributes:a,...i}))}function Vo(e){return typeof e=="number"?zk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?zk(e.getTime()):_n()}function zk(e){return e>9999999999?e/1e3:e}function gt(e){if(hz(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(uz(e)){const{attributes:s,startTime:i,name:a,endTime:o,status:c,links:d}=e,h="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:a,parent_span_id:h,start_timestamp:Vo(i),timestamp:Vo(o)||void 0,status:vR(c),op:s[qi],origin:s[vn],links:yR(d)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function uz(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function hz(e){return typeof e.getSpanJSON=="function"}function Za(e){const{traceFlags:t}=e.spanContext();return t===Hw}function vR(e){if(!(!e||e.code===zU))return e.code===Vw?"ok":e.message||"internal_error"}const Wo="_sentryChildSpans",Bv="_sentryRootSpan";function bR(e,t){const n=e[Bv]||e;Wr(t,Bv,n),e[Wo]?e[Wo].add(t):Wr(e,Wo,new Set([t]))}function fz(e,t){e[Wo]&&e[Wo].delete(t)}function np(e){const t=new Set;function n(s){if(!t.has(s)&&Za(s)){t.add(s);const i=s[Wo]?Array.from(s[Wo]):[];for(const a of i)n(a)}}return n(e),Array.from(t)}function qn(e){return e[Bv]||e}function or(){const e=pl(),t=td(e);return t.getActiveSpan?t.getActiveSpan():_p(vt())}function Vv(){Uk||(gl(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Uk=!0)}let Bk=!1;function mz(){if(Bk)return;function e(){const t=or(),n=t&&qn(t);if(n){const s="internal_error";Oe&&ve.log(`[Tracing] Root span: ${s} -> Global error occurred`),n.setStatus({code:yn,message:s})}}e.tag="sentry_tracingErrorCallback",Bk=!0,JP(e),XP(e)}function $s(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||dt()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Vk(e){ve.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Cp(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(gz(n)){if(tp(e.description,n))return Oe&&Vk(e),!0;continue}if(!n.name&&!n.op)continue;const s=n.name?tp(e.description,n.name):!0,i=n.op?e.op&&tp(e.op,n.op):!0;if(s&&i)return Oe&&Vk(e),!0}return!1}function pz(e,t){const n=t.parent_span_id,s=t.span_id;if(n)for(const i of e)i.parent_span_id===s&&(i.parent_span_id=n)}function gz(e){return typeof e=="string"||e instanceof RegExp}const qw="production",wR="_frozenDsc";function rp(e,t){Wr(e,wR,t)}function jR(e,t){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},i={environment:n.environment||qw,release:n.release,public_key:s,trace_id:e,org_id:rz(t)};return t.emit("createDsc",i),i}function SR(e,t){const n=t.getPropagationContext();return n.dsc||jR(n.traceId,e)}function Gi(e){const t=dt();if(!t)return{};const n=qn(e),s=gt(n),i=s.data,a=n.spanContext().traceState,o=a?.get("sentry.sample_rate")??i[zw]??i[oR];function c(b){return(typeof o=="number"||typeof o=="string")&&(b.sample_rate=`${o}`),b}const d=n[wR];if(d)return c(d);const h=a?.get("sentry.dsc"),f=h&&uR(h);if(f)return c(f);const m=jR(e.spanContext().traceId,t),g=i[Ds],y=s.description;return g!=="url"&&y&&(m.transaction=y),$s()&&(m.sampled=String(Za(n)),m.sample_rand=a?.get("sentry.sample_rand")??kp(n).scope?.getPropagationContext().sampleRand.toString()),c(m),t.emit("createDsc",m,n),m}class Ua{constructor(t={}){this._traceId=t.traceId||Hi(),this._spanId=t.spanId||zi()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:xR}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,s){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Is(e,t=100,n=1/0){try{return Wv("",e,t,n)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function NR(e,t=3,n=100*1024){const s=Is(e,t);return bz(s)>n?NR(e,t-1,n):s}function Wv(e,t,n=1/0,s=1/0,i=wz()){const[a,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=xz(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return c.replace("object ","");if(a(t))return"[Circular ~]";const h=t;if(h&&typeof h.toJSON=="function")try{const y=h.toJSON();return Wv("",y,d-1,s,i)}catch{}const f=Array.isArray(t)?[]:{};let m=0;const g=sR(t);for(const y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(m>=s){f[y]="[MaxProperties ~]";break}const b=g[y];f[y]=Wv(y,b,d-1,s,i),m++}return o(t),f}function xz(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(eR(t))return YP(t);if(vU(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Vi(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=yz(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function yz(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function vz(e){return~-encodeURI(e).split(/%..|./).length}function bz(e){return vz(JSON.stringify(e))}function wz(){const e=new WeakSet;function t(s){return e.has(s)?!0:(e.add(s),!1)}function n(s){e.delete(s)}return[t,n]}function eo(e,t=[]){return[e,t]}function jz(e,t){const[n,s]=e;return[n,[...s,t]]}function Wk(e,t){const n=e[1];for(const s of n){const i=s[0].type;if(t(s,i))return!0}return!1}function Hv(e){const t=yg(ht);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Sz(e){const[t,n]=e;let s=JSON.stringify(t);function i(a){typeof s=="string"?s=typeof a=="string"?s+a:[Hv(s),a]:s.push(typeof a=="string"?Hv(a):a)}for(const a of n){const[o,c]=a;if(i(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let d;try{d=JSON.stringify(c)}catch{d=JSON.stringify(Is(c))}i(d)}}return typeof s=="string"?s:Nz(s)}function Nz(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let s=0;for(const i of e)n.set(i,s),s+=i.length;return n}function _z(e){return[{type:"span"},e]}function kz(e){const t=typeof e.data=="string"?Hv(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Cz={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Hk(e){return Cz[e]}function Gw(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _R(e,t,n,s){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&s&&{dsn:yl(s)},...i&&{trace:i}}}function Ez(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Tz(e,t,n,s){const i=Gw(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!s&&t&&{dsn:yl(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return eo(a,[o])}function Pz(e,t,n,s){const i=Gw(n),a=e.type&&e.type!=="replay_event"?e.type:"event";Ez(e,n?.sdk);const o=_R(e,i,s,t);return delete e.sdkProcessingMetadata,eo(o,[[{type:a},e]])}function Rz(e,t){function n(y){return!!y.trace_id&&!!y.public_key}const s=Gi(e[0]),i=t?.getDsn(),a=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(s)&&{trace:s},...!!a&&i&&{dsn:yl(i)}},{beforeSendSpan:c,ignoreSpans:d}=t?.getOptions()||{},h=d?.length?e.filter(y=>!Cp(gt(y),d)):e,f=e.length-h.length;f&&t?.recordDroppedEvent("before_send","span",f);const m=c?y=>{const b=gt(y),j=c(b);return j||(Vv(),b)}:gt,g=[];for(const y of h){const b=m(y);b&&g.push(_z(b))}return eo(o,g)}function Az(e){if(!Oe)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:s}=gt(e),{spanId:i}=e.spanContext(),a=Za(e),o=qn(e),c=o===e,d=`[Tracing] Starting ${a?"sampled":"unsampled"} ${c?"root ":""}span`,h=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(s&&h.push(`parent ID: ${s}`),!c){const{op:f,description:m}=gt(o);h.push(`root ID: ${o.spanContext().spanId}`),f&&h.push(`root op: ${f}`),m&&h.push(`root description: ${m}`)}ve.log(`${d}
  ${h.join(`
  `)}`)}function Iz(e){if(!Oe)return;const{description:t="< unknown name >",op:n="< unknown op >"}=gt(e),{spanId:s}=e.spanContext(),a=qn(e)===e,o=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${s}`;ve.log(o)}function Oz(e,t,n,s=or()){const i=s&&qn(s);i&&(Oe&&ve.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[vh]:t,[yh]:n}))}function qk(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const s=n.attributes||{},i=s[yh],a=s[vh];typeof i=="string"&&typeof a=="number"&&(t[n.name]={value:a,unit:i})}),t}const Gk=1e3;class wg{constructor(t={}){this._traceId=t.traceId||Hi(),this._spanId=t.spanId||zi(),this._startTime=t.startTimestamp||_n(),this._links=t.links,this._attributes={},this.setAttributes({[vn]:"manual",[qi]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:s}=this;return{spanId:t,traceId:n,traceFlags:s?Hw:xR}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Vo(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ds,"custom"),this}end(t){this._endTime||(this._endTime=Vo(t),Iz(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[qi],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:vR(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[vn],profile_id:this._attributes[Bw],exclusive_time:this._attributes[rd],measurements:qk(this._events),is_segment:this._isStandaloneSpan&&qn(this)===this||void 0,segment_id:this._isStandaloneSpan?qn(this).spanContext().spanId:void 0,links:yR(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,s){Oe&&ve.log("[Tracing] Adding an event to span:",t);const i=Kk(n)?n:s||_n(),a=Kk(n)?{}:n||{},o={name:t,time:Vo(i),attributes:a};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=dt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===qn(this)))return;if(this._isStandaloneSpan){this._sampled?Dz(Rz([this],t)):(Oe&&ve.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const s=this._convertSpanToTransaction();s&&(kp(this).scope||vt()).captureEvent(s)}_convertSpanToTransaction(){if(!Yk(gt(this)))return;this._name||(Oe&&ve.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=kp(this),s=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const a=np(this).filter(f=>f!==this&&!Mz(f)).map(f=>gt(f)).filter(Yk),o=this._attributes[Ds];delete this._attributes[$k],a.forEach(f=>{delete f.data[$k]});const c={contexts:{trace:oz(this)},spans:a.length>Gk?a.sort((f,m)=>f.start_timestamp-m.start_timestamp).slice(0,Gk):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Gi(this)},request:s,...o&&{transaction_info:{source:o}}},d=qk(this._events);return d&&Object.keys(d).length&&(Oe&&ve.log("[Measurements] Adding measurements to transaction event",JSON.stringify(d,void 0,2)),c.measurements=d),c}}function Kk(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Yk(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Mz(e){return e instanceof wg&&e.isStandaloneSpan()}function Dz(e){const t=dt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Lz(e,t,n=()=>{},s=()=>{}){let i;try{i=e()}catch(a){throw t(a),n(),a}return $z(i,t,n,s)}function $z(e,t,n,s){return Zc(e)?e.then(i=>(n(),s(i),i),i=>{throw t(i),n(),i}):(n(),s(e),e)}function Fz(e,t,n){if(!$s(e))return[!1];let s,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:c=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):c}),s=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,s=!0);const a=Qo(i);if(a===void 0)return Oe&&ve.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!a)return Oe&&ve.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a,s];const o=n<a;return o||Oe&&ve.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,a,s]}const kR="__SENTRY_SUPPRESS_TRACING__";function Uz(e,t){const n=Yw();if(n.startSpan)return n.startSpan(e,t);const s=ER(e),{forceTransaction:i,parentSpan:a,scope:o}=e,c=o?.clone();return nd(c,()=>Bz(a)(()=>{const h=vt(),f=TR(h,a),g=e.onlyIfParent&&!f?new Ua:CR({parentSpan:f,spanArguments:s,forceTransaction:i,scope:h});return Ic(h,g),Lz(()=>t(g),()=>{const{status:y}=gt(g);g.isRecording()&&(!y||y==="ok")&&g.setStatus({code:yn,message:"internal_error"})},()=>{g.end()})}))}function sd(e){const t=Yw();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=ER(e),{forceTransaction:s,parentSpan:i}=e;return(e.scope?o=>nd(e.scope,o):i!==void 0?o=>Kw(i,o):o=>o())(()=>{const o=vt(),c=TR(o,i);return e.onlyIfParent&&!c?new Ua:CR({parentSpan:c,spanArguments:n,forceTransaction:s,scope:o})})}function Kw(e,t){const n=Yw();return n.withActiveSpan?n.withActiveSpan(e,t):nd(s=>(Ic(s,e||void 0),t(s)))}function CR({parentSpan:e,spanArguments:t,forceTransaction:n,scope:s}){if(!$s()){const o=new Ua;if(n||!e){const c={sampled:"false",sample_rate:"0",transaction:t.name,...Gi(o)};rp(o,c)}return o}const i=qs();let a;if(e&&!n)a=zz(e,s,t),bR(e,a);else if(e){const o=Gi(e),{traceId:c,spanId:d}=e.spanContext(),h=Za(e);a=Jk({traceId:c,parentSpanId:d,...t},s,h),rp(a,o)}else{const{traceId:o,dsc:c,parentSpanId:d,sampled:h}={...i.getPropagationContext(),...s.getPropagationContext()};a=Jk({traceId:o,parentSpanId:d,...t},s,h),c&&rp(a,c)}return Az(a),HU(a,s,i),a}function ER(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const s={...n};return s.startTimestamp=Vo(e.startTime),delete s.startTime,s}return n}function Yw(){const e=pl();return td(e)}function Jk(e,t,n){const s=dt(),i=s?.getOptions()||{},{name:a=""}=e,o={spanAttributes:{...e.attributes},spanName:a,parentSampled:n};s?.emit("beforeSampling",o,{decision:!1});const c=o.parentSampled??n,d=o.spanAttributes,h=t.getPropagationContext(),[f,m,g]=t.getScopeData().sdkProcessingMetadata[kR]?[!1]:Fz(i,{name:a,parentSampled:c,attributes:d,parentSampleRate:Qo(h.dsc?.sample_rate)},h.sampleRand),y=new wg({...e,attributes:{[Ds]:"custom",[zw]:m!==void 0&&g?m:void 0,...d},sampled:f});return!f&&s&&(Oe&&ve.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),s.recordDroppedEvent("sample_rate","transaction")),s&&s.emit("spanStart",y),y}function zz(e,t,n){const{spanId:s,traceId:i}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[kR]?!1:Za(e),o=a?new wg({...n,parentSpanId:s,traceId:i,sampled:a}):new Ua({traceId:i});bR(e,o);const c=dt();return c&&(c.emit("spanStart",o),n.endTimestamp&&c.emit("spanEnd",o)),o}function TR(e,t){if(t)return t;if(t===null)return;const n=_p(e);if(!n)return;const s=dt();return(s?s.getOptions():{}).parentSpanIsAlwaysRootSpan?qn(n):n}function Bz(e){return e!==void 0?t=>Kw(e,t):t=>t()}const sp={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Vz="heartbeatFailed",Wz="idleTimeout",Hz="finalTimeout",qz="externalFinish";function PR(e,t={}){const n=new Map;let s=!1,i,a=qz,o=!t.disableAutoFinish;const c=[],{idleTimeout:d=sp.idleTimeout,finalTimeout:h=sp.finalTimeout,childSpanTimeout:f=sp.childSpanTimeout,beforeSpanEnd:m,trimIdleSpanEndTimestamp:g=!0}=t,y=dt();if(!y||!$s()){const E=new Ua,R={sample_rate:"0",sampled:"false",...Gi(E)};return rp(E,R),E}const b=vt(),j=or(),S=Gz(e);S.end=new Proxy(S.end,{apply(E,R,q){if(m&&m(S),R instanceof Ua)return;const[V,...Q]=q,G=V||_n(),A=Vo(G),J=np(S).filter(H=>H!==S),$=gt(S);if(!J.length||!g)return P(A),Reflect.apply(E,R,[A,...Q]);const F=y.getOptions().ignoreSpans,B=J?.reduce((H,U)=>{const D=gt(U);return!D.timestamp||F&&Cp(D,F)?H:H?Math.max(H,D.timestamp):D.timestamp},void 0),O=$.start_timestamp,Z=Math.min(O?O+h/1e3:1/0,Math.max(O||-1/0,Math.min(A,B||1/0)));return P(Z),Reflect.apply(E,R,[Z,...Q])}});function _(){i&&(clearTimeout(i),i=void 0)}function N(E){_(),i=setTimeout(()=>{!s&&n.size===0&&o&&(a=Wz,S.end(E))},d)}function C(E){i=setTimeout(()=>{!s&&o&&(a=Vz,S.end(E))},f)}function T(E){_(),n.set(E,!0);const R=_n();C(R+f/1e3)}function M(E){if(n.has(E)&&n.delete(E),n.size===0){const R=_n();N(R+d/1e3)}}function P(E){s=!0,n.clear(),c.forEach(J=>J()),Ic(b,j);const R=gt(S),{start_timestamp:q}=R;if(!q)return;R.data[Du]||S.setAttribute(Du,a);const Q=R.status;(!Q||Q==="unknown")&&S.setStatus({code:Vw}),ve.log(`[Tracing] Idle span "${R.op}" finished`);const G=np(S).filter(J=>J!==S);let A=0;G.forEach(J=>{J.isRecording()&&(J.setStatus({code:yn,message:"cancelled"}),J.end(E),Oe&&ve.log("[Tracing] Cancelling span since span ended early",JSON.stringify(J,void 0,2)));const $=gt(J),{timestamp:F=0,start_timestamp:B=0}=$,O=B<=E,Z=(h+d)/1e3,H=F-B<=Z;if(Oe){const U=JSON.stringify(J,void 0,2);O?H||ve.log("[Tracing] Discarding span since it finished after idle span final timeout",U):ve.log("[Tracing] Discarding span since it happened after idle span was finished",U)}(!H||!O)&&(fz(S,J),A++)}),A>0&&S.setAttribute("sentry.idle_span_discarded_spans",A)}return c.push(y.on("spanStart",E=>{if(s||E===S||gt(E).timestamp||E instanceof wg&&E.isStandaloneSpan())return;np(S).includes(E)&&T(E.spanContext().spanId)})),c.push(y.on("spanEnd",E=>{s||M(E.spanContext().spanId)})),c.push(y.on("idleSpanEnableAutoFinish",E=>{E===S&&(o=!0,N(),n.size&&C())})),t.disableAutoFinish||N(),setTimeout(()=>{s||(S.setStatus({code:yn,message:"deadline_exceeded"}),a=Hz,S.end())},h),S}function Gz(e){const t=sd(e);return Ic(vt(),t),Oe&&ve.log("[Tracing] Started span is an idle span"),t}const N0=0,Xk=1,Qk=2;function jg(e){return new Lu(t=>{t(e)})}function Jw(e){return new Lu((t,n)=>{n(e)})}class Lu{constructor(t){this._state=N0,this._handlers=[],this._runExecutor(t)}then(t,n){return new Lu((s,i)=>{this._handlers.push([!1,a=>{if(!t)s(a);else try{s(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{s(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Lu((n,s)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){s(i);return}n(i)})})}_executeHandlers(){if(this._state===N0)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Xk&&n[1](this._value),this._state===Qk&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(a,o)=>{if(this._state===N0){if(Zc(o)){o.then(s,i);return}this._state=a,this._value=o,this._executeHandlers()}},s=a=>{n(Xk,a)},i=a=>{n(Qk,a)};try{t(s,i)}catch(a){i(a)}}}function Kz(e,t,n,s=0){try{const i=qv(t,n,e,s);return Zc(i)?i:jg(i)}catch(i){return Jw(i)}}function qv(e,t,n,s){const i=n[s];if(!e||!i)return e;const a=i({...e},t);return Oe&&a===null&&ve.log(`Event processor "${i.id||"?"}" dropped event`),Zc(a)?a.then(o=>qv(o,t,n,s+1)):qv(a,t,n,s+1)}function Yz(e,t){const{fingerprint:n,span:s,breadcrumbs:i,sdkProcessingMetadata:a}=t;Jz(e,t),s&&Zz(e,s),eB(e,n),Xz(e,i),Qz(e,a)}function Zk(e,t){const{extra:n,tags:s,user:i,contexts:a,level:o,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:h,eventProcessors:f,attachments:m,propagationContext:g,transactionName:y,span:b}=t;dm(e,"extra",n),dm(e,"tags",s),dm(e,"user",i),dm(e,"contexts",a),e.sdkProcessingMetadata=xh(e.sdkProcessingMetadata,c,2),o&&(e.level=o),y&&(e.transactionName=y),b&&(e.span=b),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),h.length&&(e.fingerprint=[...e.fingerprint,...h]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),m.length&&(e.attachments=[...e.attachments,...m]),e.propagationContext={...e.propagationContext,...g}}function dm(e,t,n){e[t]=xh(e[t],n,1)}function Jz(e,t){const{extra:n,tags:s,user:i,contexts:a,level:o,transactionName:c}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(s).length&&(e.tags={...s,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(a).length&&(e.contexts={...a,...e.contexts}),o&&(e.level=o),c&&e.type!=="transaction"&&(e.transaction=c)}function Xz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Qz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Zz(e,t){e.contexts={trace:lz(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Gi(t),...e.sdkProcessingMetadata};const n=qn(t),s=gt(n).description;s&&!e.transaction&&e.type==="transaction"&&(e.transaction=s)}function eB(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let _o,eC,tC,ja;function tB(e){const t=ht._sentryDebugIds,n=ht._debugIds;if(!t&&!n)return{};const s=t?Object.keys(t):[],i=n?Object.keys(n):[];if(ja&&s.length===eC&&i.length===tC)return ja;eC=s.length,tC=i.length,ja={},_o||(_o={});const a=(o,c)=>{for(const d of o){const h=c[d],f=_o?.[d];if(f&&ja&&h)ja[f[0]]=h,_o&&(_o[d]=[f[0],h]);else if(h){const m=e(d);for(let g=m.length-1;g>=0;g--){const b=m[g]?.filename;if(b&&ja&&_o){ja[b]=h,_o[d]=[b,h];break}}}}};return t&&a(s,t),n&&a(i,n),ja}function RR(e,t,n,s,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:c=1e3}=e,d={...t,event_id:t.event_id||n.event_id||Br(),timestamp:t.timestamp||xl()},h=n.integrations||e.integrations.map(S=>S.name);nB(d,e),iB(d,h),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&rB(d,e.stackParser);const f=oB(s,n.captureContext);n.mechanism&&Rc(d,n.mechanism);const m=i?i.getEventProcessors():[],g=$U().getScopeData();if(a){const S=a.getScopeData();Zk(g,S)}if(f){const S=f.getScopeData();Zk(g,S)}const y=[...n.attachments||[],...g.attachments];y.length&&(n.attachments=y),Yz(d,g);const b=[...m,...g.eventProcessors];return Kz(b,d,n).then(S=>(S&&sB(S),typeof o=="number"&&o>0?aB(S,o,c):S))}function nB(e,t){const{environment:n,release:s,dist:i,maxValueLength:a}=t;e.environment=e.environment||n||qw,!e.release&&s&&(e.release=s),!e.dist&&i&&(e.dist=i);const o=e.request;o?.url&&a&&(o.url=Fv(o.url,a)),a&&e.exception?.values?.forEach(c=>{c.value&&(c.value=Fv(c.value,a))})}function rB(e,t){const n=tB(t);e.exception?.values?.forEach(s=>{s.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function sB(e){const t={};if(e.exception?.values?.forEach(s=>{s.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,i])=>{n.push({type:"sourcemap",code_file:s,debug_id:i})})}function iB(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function aB(e,t,n){if(!e)return null;const s={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Is(i.data,t,n)}}))},...e.user&&{user:Is(e.user,t,n)},...e.contexts&&{contexts:Is(e.contexts,t,n)},...e.extra&&{extra:Is(e.extra,t,n)}};return e.contexts?.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=Is(e.contexts.trace.data,t,n))),e.spans&&(s.spans=e.spans.map(i=>({...i,...i.data&&{data:Is(i.data,t,n)}}))),e.contexts?.flags&&s.contexts&&(s.contexts.flags=Is(e.contexts.flags,3,n)),s}function oB(e,t){if(!t)return e;const n=e?e.clone():new hi;return n.update(t),n}function lB(e){if(e)return cB(e)?{captureContext:e}:uB(e)?{captureContext:e}:e}function cB(e){return e instanceof hi||typeof e=="function"}const dB=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function uB(e){return Object.keys(e).some(t=>dB.includes(t))}function Xw(e,t){return vt().captureException(e,lB(t))}function AR(e,t){return vt().captureEvent(e,t)}function IR(e,t){qs().setContext(e,t)}function hB(){return qs().lastEventId()}function fB(){const e=dt();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function mB(e){qs().addEventProcessor(e)}function nC(e){const t=qs(),n=vt(),{userAgent:s}=ht.navigator||{},i=EU({user:n.getUser()||t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession();return a?.status==="ok"&&Ac(a,{status:"exited"}),OR(),t.setSession(i),i}function OR(){const e=qs(),n=vt().getSession()||e.getSession();n&&TU(n),MR(),e.setSession()}function MR(){const e=qs(),t=dt(),n=e.getSession();n&&t&&t.captureSession(n)}function rC(e=!1){if(e){OR();return}MR()}const pB="7";function DR(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function gB(e){return`${DR(e)}${e.projectId}/envelope/`}function xB(e,t){const n={sentry_version:pB};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function yB(e,t,n){return t||`${gB(e)}?${xB(e,n)}`}function vB(e,t){const n=fR(e);if(!n)return"";const s=`${DR(n)}embed/error-page/`;let i=`dsn=${yl(n)}`;for(const a in t)if(a!=="dsn"&&a!=="onClose")if(a==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(a)}=${encodeURIComponent(t[a])}`;return`${s}?${i}`}const sC=[];function bB(e){const t={};return e.forEach(n=>{const{name:s}=n,i=t[s];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[s]=n)}),Object.values(t)}function wB(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let s;if(Array.isArray(n))s=[...t,...n];else if(typeof n=="function"){const i=n(t);s=Array.isArray(i)?i:[i]}else s=t;return bB(s)}function jB(e,t){const n={};return t.forEach(s=>{s&&LR(e,s,n)}),n}function iC(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function LR(e,t,n){if(n[t.name]){Oe&&ve.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!sC.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),sC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const s=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>s(i,a,e))}if(typeof t.processEvent=="function"){const s=t.processEvent.bind(t),i=Object.assign((a,o)=>s(a,o,e),{id:t.name});e.addEventProcessor(i)}Oe&&ve.log(`Integration installed: ${t.name}`)}function SB(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function NB(e,t,n,s){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&s&&(i.dsn=yl(s)),eo(i,[SB(e)])}function $R(e,t){const n=t??_B(e)??[];if(n.length===0)return;const s=e.getOptions(),i=NB(n,s._metadata,s.tunnel,e.getDsn());FR().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function _B(e){return FR().get(e)}function FR(){return Xc("clientToLogBufferMap",()=>new WeakMap)}function kB(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function CB(e,t,n,s){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&s&&(i.dsn=yl(s)),eo(i,[kB(e)])}function UR(e,t){const n=t??EB(e)??[];if(n.length===0)return;const s=e.getOptions(),i=CB(n,s._metadata,s.tunnel,e.getDsn());zR().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function EB(e){return zR().get(e)}function zR(){return Xc("clientToMetricBufferMap",()=>new WeakMap)}const Qw=Symbol.for("SentryBufferFullError");function Zw(e=100){const t=new Set;function n(){return t.size<e}function s(o){t.delete(o)}function i(o){if(!n())return Jw(Qw);const c=o();return t.add(c),c.then(()=>s(c),()=>s(c)),c}function a(o){if(!t.size)return jg(!0);const c=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return c;const d=[c,new Promise(h=>setTimeout(()=>h(!1),o))];return Promise.race(d)}return{get $(){return Array.from(t)},add:i,drain:a}}const TB=60*1e3;function PB(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const s=Date.parse(`${e}`);return isNaN(s)?TB:s-t}function RB(e,t){return e[t]||e.all||0}function BR(e,t,n=Date.now()){return RB(e,t)>n}function VR(e,{statusCode:t,headers:n},s=Date.now()){const i={...e},a=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(a)for(const c of a.trim().split(",")){const[d,h,,,f]=c.split(":",5),m=parseInt(d,10),g=(isNaN(m)?60:m)*1e3;if(!h)i.all=s+g;else for(const y of h.split(";"))y==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[y]=s+g):i[y]=s+g}else o?i.all=s+PB(o,s):t===429&&(i.all=s+60*1e3);return i}const WR=64;function AB(e,t,n=Zw(e.bufferSize||WR)){let s={};const i=o=>n.drain(o);function a(o){const c=[];if(Wk(o,(m,g)=>{const y=Hk(g);BR(s,y)?e.recordDroppedEvent("ratelimit_backoff",y):c.push(m)}),c.length===0)return Promise.resolve({});const d=eo(o[0],c),h=m=>{Wk(d,(g,y)=>{e.recordDroppedEvent(m,Hk(y))})},f=()=>t({body:Sz(d)}).then(m=>(m.statusCode!==void 0&&(m.statusCode<200||m.statusCode>=300)&&Oe&&ve.warn(`Sentry responded with status code ${m.statusCode} to sent event.`),s=VR(s,m),m),m=>{throw h("network_error"),Oe&&ve.error("Encountered error running transport request:",m),m});return n.add(f).then(m=>m,m=>{if(m===Qw)return Oe&&ve.error("Skipped sending event because buffer is full."),h("queue_overflow"),Promise.resolve({});throw m})}return{send:a,flush:i}}function IB(e,t,n){const s=[{type:"client_report"},{timestamp:xl(),discarded_events:e}];return eo(t?{dsn:t}:{},[s])}function HR(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function OB(e){const{trace_id:t,parent_span_id:n,span_id:s,status:i,origin:a,data:o,op:c}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:c,parent_span_id:n,span_id:s??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:o?.[Bw],exclusive_time:o?.[rd],measurements:e.measurements,is_segment:!0}}function MB(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Bw]:e.profile_id},...e.exclusive_time&&{[rd]:e.exclusive_time}}}},measurements:e.measurements}}const aC="Not capturing exception because it's already been captured.",oC="Discarded session because of missing or non-string release",qR=Symbol.for("SentryInternalError"),GR=Symbol.for("SentryDoNotSendEventError"),DB=5e3;function ip(e){return{message:e,[qR]:!0}}function _0(e){return{message:e,[GR]:!0}}function lC(e){return!!e&&typeof e=="object"&&qR in e}function cC(e){return!!e&&typeof e=="object"&&GR in e}function dC(e,t,n,s,i){let a=0,o,c=!1;e.on(n,()=>{a=0,clearTimeout(o),c=!1}),e.on(t,d=>{a+=s(d),a>=8e5?i(e):c||(c=!0,o=setTimeout(()=>{i(e)},DB))}),e.on("flush",()=>{i(e)})}class LB{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Zw(t.transportOptions?.bufferSize??WR),t.dsn?this._dsn=fR(t.dsn):Oe&&ve.warn("No DSN provided, client will not send events."),this._dsn){const s=yB(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&dC(this,"afterCaptureLog","flushLogs",zB,$R),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&dC(this,"afterCaptureMetric","flushMetrics",UB,UR)}captureException(t,n,s){const i=Br();if(Mk(t))return Oe&&ve.log(aC),i;const a={event_id:i,...n};return this._process(()=>this.eventFromException(t,a).then(o=>this._captureEvent(o,a,s)).then(o=>o),"error"),a.event_id}captureMessage(t,n,s,i){const a={event_id:Br(),...s},o=$w(t)?t:String(t),c=Pc(t),d=c?this.eventFromMessage(o,n,a):this.eventFromException(t,a);return this._process(()=>d.then(h=>this._captureEvent(h,a,i)),c?"unknown":"error"),a.event_id}captureEvent(t,n,s){const i=Br();if(n?.originalException&&Mk(n.originalException))return Oe&&ve.log(aC),i;const a={event_id:i,...n},o=t.sdkProcessingMetadata||{},c=o.capturedSpanScope,d=o.capturedSpanIsolationScope,h=uC(t.type);return this._process(()=>this._captureEvent(t,a,c||s,d),h),a.event_id}captureSession(t){this.sendSession(t),Ac(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const s=await this._isClientDoneProcessing(t),i=await n.flush(t);return s&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];LR(this,t,this._integrations),n||iC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let s=Pz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])s=jz(s,kz(i));this.sendEnvelope(s).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:s=qw}=this._options;if("aggregates"in t){const a=t.attrs||{};if(!a.release&&!n){Oe&&ve.warn(oC);return}a.release=a.release||n,a.environment=a.environment||s,t.attrs=a}else{if(!t.release&&!n){Oe&&ve.warn(oC);return}t.release=t.release||n,t.environment=t.environment||s}this.emit("beforeSendSession",t);const i=Tz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,s=1){if(this._options.sendClientReports){const i=`${t}:${n}`;Oe&&ve.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const s=this._hooks[t]=this._hooks[t]||new Set,i=(...a)=>n(...a);return s.add(i),()=>{s.delete(i)}}emit(t,...n){const s=this._hooks[t];s&&s.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return Oe&&ve.error("Error while sending envelope:",n),{}}return Oe&&ve.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=jB(this,t),iC(this,t)}_updateSessionFromEvent(t,n){let s=n.level==="fatal",i=!1;const a=n.exception?.values;if(a){i=!0,s=!1;for(const d of a)if(d.mechanism?.handled===!1){s=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&s)&&(Ac(t,{...s&&{status:"crashed"},errors:t.errors||Number(i||s)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(s=>setTimeout(s,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,s,i){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),RR(a,t,n,s,this,i).then(c=>{if(c===null)return c;this.emit("postprocessEvent",c,n),c.contexts={trace:FU(s),...c.contexts};const d=SR(this,s);return c.sdkProcessingMetadata={dynamicSamplingContext:d,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},s=vt(),i=qs()){return Oe&&Gv(t)&&ve.log(`Captured error event \`${HR(t)[0]||"<unknown>"}\``),this._processEvent(t,n,s,i).then(a=>a.event_id,a=>{Oe&&(cC(a)?ve.log(a.message):lC(a)?ve.warn(a.message):ve.warn(a))})}_processEvent(t,n,s,i){const a=this.getOptions(),{sampleRate:o}=a,c=KR(t),d=Gv(t),f=`before send for type \`${t.type||"error"}\``,m=typeof o>"u"?void 0:Qo(o);if(d&&typeof m=="number"&&Math.random()>m)return this.recordDroppedEvent("sample_rate","error"),Jw(_0(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const g=uC(t.type);return this._prepareEvent(t,n,s,i).then(y=>{if(y===null)throw this.recordDroppedEvent("event_processor",g),_0("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return y;const j=FB(this,a,y,n);return $B(j,f)}).then(y=>{if(y===null){if(this.recordDroppedEvent("before_send",g),c){const _=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw _0(`${f} returned \`null\`, will not send event.`)}const b=s.getSession()||i.getSession();if(d&&b&&this._updateSessionFromEvent(b,y),c){const S=y.sdkProcessingMetadata?.spanCountBeforeProcessing||0,_=y.spans?y.spans.length:0,N=S-_;N>0&&this.recordDroppedEvent("before_send","span",N)}const j=y.transaction_info;if(c&&j&&y.transaction!==t.transaction){const S="custom";y.transaction_info={...j,source:S}}return this.sendEvent(y,n),y}).then(null,y=>{throw cC(y)||lC(y)?y:(this.captureException(y,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:y}),ip(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${y}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(s=>(this._numProcessing--,s),s=>(this._numProcessing--,s===Qw&&this.recordDroppedEvent("queue_overflow",n),s))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,s])=>{const[i,a]=n.split(":");return{reason:i,category:a,quantity:s}})}_flushOutcomes(){Oe&&ve.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Oe&&ve.log("No outcomes to send");return}if(!this._dsn){Oe&&ve.log("No dsn provided, will not send outcomes");return}Oe&&ve.log("Sending outcomes:",t);const n=IB(t,this._options.tunnel&&yl(this._dsn));this.sendEnvelope(n)}}function uC(e){return e==="replay_event"?"replay":e||"error"}function $B(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Zc(e))return e.then(s=>{if(!Mu(s)&&s!==null)throw ip(n);return s},s=>{throw ip(`${t} rejected with ${s}`)});if(!Mu(e)&&e!==null)throw ip(n);return e}function FB(e,t,n,s){const{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o,ignoreSpans:c}=t;let d=n;if(Gv(d)&&i)return i(d,s);if(KR(d)){if(o||c){const h=OB(d);if(c?.length&&Cp(h,c))return null;if(o){const f=o(h);f?d=xh(n,MB(f)):Vv()}if(d.spans){const f=[],m=d.spans;for(const y of m){if(c?.length&&Cp(y,c)){pz(m,y);continue}if(o){const b=o(y);b?f.push(b):(Vv(),f.push(y))}else f.push(y)}const g=d.spans.length-f.length;g&&e.recordDroppedEvent("before_send","span",g),d.spans=f}}if(a){if(d.spans){const h=d.spans.length;d.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:h}}return a(d,s)}}return d}function Gv(e){return e.type===void 0}function KR(e){return e.type==="transaction"}function UB(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+YR(e.attributes)}function zB(e){let t=0;return e.message&&(t+=e.message.length*2),t+YR(e.attributes)}function YR(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*hC(n[0]):Pc(n)?t+=hC(n):t+=100}),t}function hC(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function BB(e,t){t.debug===!0&&(Oe?ve.enable():gl(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),vt().update(t.initialScope);const s=new e(t);return VB(s),s.init(),s}function VB(e){vt().setClient(e)}const WB="thismessage:/";function ej(e){return"isRelative"in e}function tj(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,s=n?WB:void 0;try{if("canParse"in URL&&!URL.canParse(e,s))return;const i=new URL(e,s);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function HB(e){if(ej(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ho(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:s,relative:t[5]+n+s}}function qB(e){return e.split(/[?#]/,1)[0]}function GB(e,t){const n=t?.getDsn(),s=t?.getOptions().tunnel;return YB(e,n)||KB(e,s)}function KB(e,t){return t?fC(e)===fC(t):!1}function YB(e,t){const n=tj(e);return!n||ej(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function fC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function JB(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function JR(e,t,n=[t],s="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${s}:@sentry/${a}`,version:Bo})),version:Bo}),e._metadata=i}function XR(e={}){const t=e.client||dt();if(!fB()||!t)return{};const n=pl(),s=td(n);if(s.getTraceData)return s.getTraceData(e);const i=e.scope||vt(),a=e.span||or(),o=a?cz(a):XB(i),c=a?Gi(a):SR(t,i),d=KU(c);if(!mR.test(o))return ve.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const f={"sentry-trace":o,baggage:d};if(e.propagateTraceparent){const m=a?dz(a):QB(i);m&&(f.traceparent=m)}return f}function XB(e){const{traceId:t,sampled:n,propagationSpanId:s}=e.getPropagationContext();return pR(t,s,n)}function QB(e){const{traceId:t,sampled:n,propagationSpanId:s}=e.getPropagationContext();return gR(t,s,n)}function ZB(e,t,n){let s,i,a;const o=n?.maxWait?Math.max(n.maxWait,t):0,c=n?.setTimeoutImpl||setTimeout;function d(){return h(),s=e(),s}function h(){i!==void 0&&clearTimeout(i),a!==void 0&&clearTimeout(a),i=a=void 0}function f(){return i!==void 0||a!==void 0?d():s}function m(){return i&&clearTimeout(i),i=c(d,t),o&&a===void 0&&(a=c(d,o)),s}return m.cancel=h,m.flush=f,m}const e8=100;function za(e,t){const n=dt(),s=qs();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=e8}=n.getOptions();if(a<=0)return;const c={timestamp:xl(),...e},d=i?gl(()=>i(c,t)):c;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),s.addBreadcrumb(d,a))}let mC;const t8="FunctionToString",pC=new WeakMap,n8=(()=>({name:t8,setupOnce(){mC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Uw(this),n=pC.has(dt())&&t!==void 0?t:this;return mC.apply(n,e)}}catch{}},setup(e){pC.set(e,!0)}})),r8=n8,s8=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],i8="EventFilters",a8=(e={})=>{let t;return{name:i8,setup(n){const s=n.getOptions();t=gC(e,s)},processEvent(n,s,i){if(!t){const a=i.getOptions();t=gC(e,a)}return l8(n,t)?null:n}}},o8=((e={})=>({...a8(e),name:"InboundFilters"}));function gC(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:s8],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function l8(e,t){if(e.type){if(e.type==="transaction"&&d8(e,t.ignoreTransactions))return Oe&&ve.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Io(e)}`),!0}else{if(c8(e,t.ignoreErrors))return Oe&&ve.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Io(e)}`),!0;if(m8(e))return Oe&&ve.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Io(e)}`),!0;if(u8(e,t.denyUrls))return Oe&&ve.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Io(e)}.
Url: ${Ep(e)}`),!0;if(!h8(e,t.allowUrls))return Oe&&ve.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Io(e)}.
Url: ${Ep(e)}`),!0}return!1}function c8(e,t){return t?.length?HR(e).some(n=>Ui(n,t)):!1}function d8(e,t){if(!t?.length)return!1;const n=e.transaction;return n?Ui(n,t):!1}function u8(e,t){if(!t?.length)return!1;const n=Ep(e);return n?Ui(n,t):!1}function h8(e,t){if(!t?.length)return!0;const n=Ep(e);return n?Ui(n,t):!0}function f8(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ep(e){try{const n=[...e.exception?.values??[]].reverse().find(s=>s.mechanism?.parent_id===void 0&&s.stacktrace?.frames?.length)?.stacktrace?.frames;return n?f8(n):null}catch{return Oe&&ve.error(`Cannot extract url for event ${Io(e)}`),null}}function m8(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function p8(e,t,n,s,i,a){if(!i.exception?.values||!a||!Wi(a.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=Kv(e,t,s,a.originalException,n,i.exception.values,o,0))}function Kv(e,t,n,s,i,a,o,c){if(a.length>=n+1)return a;let d=[...a];if(Wi(s[i],Error)){xC(o,c);const h=e(t,s[i]),f=d.length;yC(h,i,f,c),d=Kv(e,t,n,s[i],i,[h,...d],h,f)}return Array.isArray(s.errors)&&s.errors.forEach((h,f)=>{if(Wi(h,Error)){xC(o,c);const m=e(t,h),g=d.length;yC(m,`errors[${f}]`,g,c),d=Kv(e,t,n,h,i,[m,...d],m,g)}}),d}function xC(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function yC(e,t,n,s){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:s}}function g8(e){const t="console";Xa(t,e),Qa(t,x8)}function x8(){"console"in ht&&iU.forEach(function(e){e in ht.console&&br(ht.console,e,function(t){return Np[e]=t,function(...n){cs("console",{args:n,level:e}),Np[e]?.apply(ht.console,n)}})})}function QR(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const y8="Dedupe",v8=(()=>{let e;return{name:y8,processEvent(t){if(t.type)return t;try{if(w8(t,e))return Oe&&ve.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),b8=v8;function w8(e,t){return t?!!(j8(e,t)||S8(e,t)):!1}function j8(e,t){const n=e.message,s=t.message;return!(!n&&!s||n&&!s||!n&&s||n!==s||!eA(e,t)||!ZR(e,t))}function S8(e,t){const n=vC(t),s=vC(e);return!(!n||!s||n.type!==s.type||n.value!==s.value||!eA(e,t)||!ZR(e,t))}function ZR(e,t){let n=Tk(e),s=Tk(t);if(!n&&!s)return!0;if(n&&!s||!n&&s||(n=n,s=s,s.length!==n.length))return!1;for(let i=0;i<s.length;i++){const a=s[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function eA(e,t){let n=e.fingerprint,s=t.fingerprint;if(!n&&!s)return!0;if(n&&!s||!n&&s)return!1;n=n,s=s;try{return n.join("")===s.join("")}catch{return!1}}function vC(e){return e.exception?.values?.[0]}function N8(e,t,n,s,i){if(!e.fetchData)return;const{method:a,url:o}=e.fetchData,c=$s()&&t(o);if(e.endTimestamp&&c){const y=e.fetchData.__span;if(!y)return;const b=s[y];b&&(C8(b,e),_8(b,e,i),delete s[y]);return}const{spanOrigin:d="auto.http.browser",propagateTraceparent:h=!1}=typeof i=="object"?i:{spanOrigin:i},f=!!or(),m=c&&f?sd(T8(o,a,d)):new Ua;if(e.fetchData.__span=m.spanContext().spanId,s[m.spanContext().spanId]=m,n(e.fetchData.url)){const y=e.args[0],b=e.args[1]||{},j=k8(y,b,$s()&&f?m:void 0,h);j&&(e.args[1]=b,b.headers=j)}const g=dt();if(g){const y={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};g.emit("beforeOutgoingRequestSpan",m,y)}return m}function _8(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function k8(e,t,n,s){const i=XR({span:n,propagateTraceparent:s}),a=i["sentry-trace"],o=i.baggage,c=i.traceparent;if(!a)return;const d=t.headers||(tR(e)?e.headers:void 0);if(d)if(E8(d)){const h=new Headers(d);if(h.get("sentry-trace")||h.set("sentry-trace",a),s&&c&&!h.get("traceparent")&&h.set("traceparent",c),o){const f=h.get("baggage");f?um(f)||h.set("baggage",`${f},${o}`):h.set("baggage",o)}return h}else if(Array.isArray(d)){const h=[...d];d.find(m=>m[0]==="sentry-trace")||h.push(["sentry-trace",a]),s&&c&&!d.find(m=>m[0]==="traceparent")&&h.push(["traceparent",c]);const f=d.find(m=>m[0]==="baggage"&&um(m[1]));return o&&!f&&h.push(["baggage",o]),h}else{const h="sentry-trace"in d?d["sentry-trace"]:void 0,f="traceparent"in d?d.traceparent:void 0,m="baggage"in d?d.baggage:void 0,g=m?Array.isArray(m)?[...m]:[m]:[],y=m&&(Array.isArray(m)?m.find(j=>um(j)):um(m));o&&!y&&g.push(o);const b={...d,"sentry-trace":h??a,baggage:g.length>0?g.join(","):void 0};return s&&c&&!f&&(b.traceparent=c),b}else return{...i}}function C8(e,t){if(t.response){lR(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const s=parseInt(n);s>0&&e.setAttribute("http.response_content_length",s)}}else t.error&&e.setStatus({code:yn,message:"internal_error"});e.end()}function um(e){return e.split(",").some(t=>t.trim().startsWith(Ww))}function E8(e){return typeof Headers<"u"&&Wi(e,Headers)}function T8(e,t,n){const s=tj(e);return{name:s?`${t} ${HB(s)}`:t,attributes:P8(e,s,t,n)}}function P8(e,t,n,s){const i={url:e,type:"fetch","http.method":n,[vn]:s,[qi]:"http.client"};return t&&(ej(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function tA(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $u=ht;function R8(){return"history"in $u&&!!$u.history}function A8(){if(!("fetch"in $u))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Yv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function I8(){if(typeof EdgeRuntime=="string")return!0;if(!A8())return!1;if(Yv($u.fetch))return!0;let e=!1;const t=$u.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Yv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Oe&&ve.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function nA(e,t){const n="fetch";Xa(n,e),Qa(n,()=>rA(void 0,t))}function O8(e){const t="fetch-body-resolved";Xa(t,e),Qa(t,()=>rA(D8))}function rA(e,t=!1){t&&!I8()||br(ht,"fetch",function(n){return function(...s){const i=new Error,{method:a,url:o}=L8(s),c={args:s,fetchData:{method:a,url:o},startTimestamp:_n()*1e3,virtualError:i,headers:$8(s)};return e||cs("fetch",{...c}),n.apply(ht,s).then(async d=>(e?e(d):cs("fetch",{...c,endTimestamp:_n()*1e3,response:d}),d),d=>{if(cs("fetch",{...c,endTimestamp:_n()*1e3,error:d}),vg(d)&&d.stack===void 0&&(d.stack=i.stack,Wr(d,"framesToPop",1)),d instanceof TypeError&&(d.message==="Failed to fetch"||d.message==="Load failed"||d.message==="NetworkError when attempting to fetch resource."))try{const h=new URL(c.fetchData.url);d.message=`${d.message} (${h.host})`}catch{}throw d})}})}async function M8(e,t){if(e?.body){const n=e.body,s=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let a=!0;for(;a;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await s.read();clearTimeout(o),c&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(o)}}clearTimeout(i),s.releaseLock(),n.cancel().then(null,()=>{})}}function D8(e){let t;try{t=e.clone()}catch{return}M8(t,()=>{cs("fetch-body-resolved",{endTimestamp:_n()*1e3,response:e})})}function Jv(e,t){return!!e&&typeof e=="object"&&!!e[t]}function bC(e){return typeof e=="string"?e:e?Jv(e,"url")?e.url:e.toString?e.toString():"":""}function L8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,s]=e;return{url:bC(n),method:Jv(s,"method")?String(s.method).toUpperCase():"GET"}}const t=e[0];return{url:bC(t),method:Jv(t,"method")?String(t.method).toUpperCase():"GET"}}function $8(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(tR(t))return new Headers(t.headers)}catch{}}function F8(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function U8(){return"npm"}function z8(){return!F8()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Xv(){return typeof window<"u"&&(!z8()||B8())}function B8(){return ht.process?.type==="renderer"}const ct=ht;let Qv=0;function sA(){return Qv>0}function V8(){Qv++,setTimeout(()=>{Qv--})}function Mc(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Uw(e))return e}catch{return e}const s=function(...i){try{const a=i.map(o=>Mc(o,t));return e.apply(this,a)}catch(a){throw V8(),nd(o=>{o.addEventProcessor(c=>(t.mechanism&&(Uv(c,void 0),Rc(c,t.mechanism)),c.extra={...c.extra,arguments:i},c)),Xw(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}catch{}rR(s,e),Wr(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get(){return e.name}})}catch{}return s}function nj(){const e=ed(),{referrer:t}=ct.document||{},{userAgent:n}=ct.navigator||{},s={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:s}}function rj(e,t){const n=sj(e,t),s={type:K8(t),value:Y8(t)};return n.length&&(s.stacktrace={frames:n}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function W8(e,t,n,s){const a=dt()?.getOptions().normalizeDepth,o=eV(t),c={__serialized__:NR(t,a)};if(o)return{exception:{values:[rj(e,o)]},extra:c};const d={exception:{values:[{type:bg(t)?t.constructor.name:s?"UnhandledRejection":"Error",value:Q8(t,{isUnhandledRejection:s})}]},extra:c};if(n){const h=sj(e,n);h.length&&(d.exception.values[0].stacktrace={frames:h})}return d}function k0(e,t){return{exception:{values:[rj(e,t)]}}}function sj(e,t){const n=t.stacktrace||t.stack||"",s=q8(t),i=G8(t);try{return e(n,s,i)}catch{}return[]}const H8=/Minified React error #\d+;/i;function q8(e){return e&&H8.test(e.message)?1:0}function G8(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function iA(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function K8(e){const t=e?.name;return!t&&iA(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Y8(e){const t=e?.message;return iA(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function J8(e,t,n,s){const i=n?.syntheticException||void 0,a=ij(e,t,i,s);return Rc(a),a.level="error",n?.event_id&&(a.event_id=n.event_id),jg(a)}function X8(e,t,n="info",s,i){const a=s?.syntheticException||void 0,o=Zv(e,t,a,i);return o.level=n,s?.event_id&&(o.event_id=s.event_id),jg(o)}function ij(e,t,n,s,i){let a;if(ZP(t)&&t.error)return k0(e,t.error);if(Rk(t)||gU(t)){const o=t;if("stack"in t)a=k0(e,t);else{const c=o.name||(Rk(o)?"DOMError":"DOMException"),d=o.message?`${c}: ${o.message}`:c;a=Zv(e,d,n,s),Uv(a,d)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return vg(t)?k0(e,t):Mu(t)||bg(t)?(a=W8(e,t,n,i),Rc(a,{synthetic:!0}),a):(a=Zv(e,t,n,s),Uv(a,`${t}`),Rc(a,{synthetic:!0}),a)}function Zv(e,t,n,s){const i={};if(s&&n){const a=sj(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),Rc(i,{synthetic:!0})}if($w(t)){const{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function Q8(e,{isUnhandledRejection:t}){const n=jU(e),s=t?"promise rejection":"exception";return ZP(e)?`Event \`ErrorEvent\` captured as ${s} with message \`${e.message}\``:bg(e)?`Event \`${Z8(e)}\` (type=${e.type}) captured as ${s}`:`Object captured as ${s} with keys: ${n}`}function Z8(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function eV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class tV extends LB{constructor(t){const n=nV(t),s=ct.SENTRY_SDK_SOURCE||U8();JR(n,"browser",["browser"],s),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:a,enableLogs:o,_experiments:c,enableMetrics:d}=this._options,h=d??c?.enableMetrics??!0;ct.document&&(a||o||h)&&ct.document.addEventListener("visibilitychange",()=>{ct.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),o&&$R(this),h&&UR(this))}),i&&this.on("beforeSendSession",JB)}eventFromException(t,n){return J8(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",s){return X8(this._options.stackParser,t,n,s,this._options.attachStacktrace)}_prepareEvent(t,n,s,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,s,i)}}function nV(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ct.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Zo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qe=ht,rV=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",bh=(e,t,n,s)=>{let i,a;return o=>{t.value>=0&&(o||s)&&(a=t.value-(i??0),(a||i===void 0)&&(i=t.value,t.delta=a,t.rating=rV(t.value,n),e(t)))}},wh=(e=!0)=>{const t=Qe.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},id=()=>wh()?.activationStart??0;function qo(e,t,n){Qe.document&&Qe.addEventListener(e,t,n)}function aj(e,t,n){Qe.document&&Qe.removeEventListener(e,t,n)}let bc=-1;const aA=new Set,sV=()=>Qe.document?.visibilityState==="hidden"&&!Qe.document?.prerendering?0:1/0,ap=e=>{if(iV(e)&&bc>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of aA)t();isFinite(bc)||(bc=e.type==="visibilitychange"?e.timeStamp:0,aj("prerenderingchange",ap,!0))}},jh=()=>{if(Qe.document&&bc<0){const e=id();bc=(Qe.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??sV(),qo("visibilitychange",ap,!0),qo("pagehide",ap,!0),qo("prerenderingchange",ap,!0)}return{get firstHiddenTime(){return bc},onHidden(e){aA.add(e)}}};function iV(e){return e.type==="pagehide"||Qe.document?.visibilityState==="hidden"}const aV=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Sh=(e,t=-1)=>{const n=wh();let s="navigate";return n&&(Qe.document?.prerendering||id()>0?s="prerender":Qe.document?.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:aV(),navigationType:s}},C0=new WeakMap;function oj(e,t){return C0.get(e)||C0.set(e,new t),C0.get(e)}class Tp{constructor(){Tp.prototype.__init.call(this),Tp.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],s=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&s&&t.startTime-s.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const ad=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const s=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return s.observe({type:e,buffered:!0,...n}),s}}catch{}},lj=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Sg=e=>{Qe.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},oV=[1800,3e3],lV=(e,t={})=>{Sg(()=>{const n=jh(),s=Sh("FCP");let i;const o=ad("paint",c=>{for(const d of c)d.name==="first-contentful-paint"&&(o.disconnect(),d.startTime<n.firstHiddenTime&&(s.value=Math.max(d.startTime-id(),0),s.entries.push(d),i(!0)))});o&&(i=bh(e,s,oV,t.reportAllChanges))})},cV=[.1,.25],dV=(e,t={})=>{lV(lj(()=>{const n=Sh("CLS",0);let s;const i=jh(),a=oj(t,Tp),o=d=>{for(const h of d)a._processEntry(h);a._sessionValue>n.value&&(n.value=a._sessionValue,n.entries=a._sessionEntries,s())},c=ad("layout-shift",o);c&&(s=bh(e,n,cV,t.reportAllChanges),i.onHidden(()=>{o(c.takeRecords()),s(!0)}),Qe?.setTimeout?.(s))}))};let oA=0,E0=1/0,hm=0;const uV=e=>{e.forEach(t=>{t.interactionId&&(E0=Math.min(E0,t.interactionId),hm=Math.max(hm,t.interactionId),oA=hm?(hm-E0)/7+1:0)})};let eb;const lA=()=>eb?oA:performance.interactionCount||0,hV=()=>{"interactionCount"in performance||eb||(eb=ad("event",uV,{type:"event",buffered:!0,durationThreshold:0}))},T0=10;let cA=0;const fV=()=>lA()-cA;class Pp{constructor(){Pp.prototype.__init.call(this),Pp.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){cA=lA(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(fV()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let s=this._longestInteractionMap.get(t.interactionId);if(s||this._longestInteractionList.length<T0||t.duration>n._latency){if(s?t.duration>s._latency?(s.entries=[t],s._latency=t.duration):t.duration===s._latency&&t.startTime===s.entries[0].startTime&&s.entries.push(t):(s={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(s.id,s),this._longestInteractionList.push(s)),this._longestInteractionList.sort((i,a)=>a._latency-i._latency),this._longestInteractionList.length>T0){const i=this._longestInteractionList.splice(T0);for(const a of i)this._longestInteractionMap.delete(a.id)}this._onAfterProcessingINPCandidate?.(s)}}}const dA=e=>{const t=n=>{(n.type==="pagehide"||Qe.document?.visibilityState==="hidden")&&e(n)};qo("visibilitychange",t,!0),qo("pagehide",t,!0)},uA=e=>{const t=Qe.requestIdleCallback||Qe.setTimeout;Qe.document?.visibilityState==="hidden"?e():(e=lj(e),qo("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),aj("visibilitychange",e,{capture:!0})}),dA(e))},mV=[200,500],pV=40,gV=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=jh();Sg(()=>{hV();const s=Sh("INP");let i;const a=oj(t,Pp),o=d=>{uA(()=>{for(const f of d)a._processEntry(f);const h=a._estimateP98LongestInteraction();h&&h._latency!==s.value&&(s.value=h._latency,s.entries=h.entries,i())})},c=ad("event",o,{durationThreshold:t.durationThreshold??pV});i=bh(e,s,mV,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(c.takeRecords()),i(!0)}))})};class xV{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const yV=[2500,4e3],vV=(e,t={})=>{Sg(()=>{const n=jh(),s=Sh("LCP");let i;const a=oj(t,xV),o=d=>{t.reportAllChanges||(d=d.slice(-1));for(const h of d)a._processEntry(h),h.startTime<n.firstHiddenTime&&(s.value=Math.max(h.startTime-id(),0),s.entries=[h],i())},c=ad("largest-contentful-paint",o);if(c){i=bh(e,s,yV,t.reportAllChanges);const d=lj(()=>{o(c.takeRecords()),c.disconnect(),i(!0)}),h=f=>{f.isTrusted&&(uA(d),aj(f.type,h,{capture:!0}))};for(const f of["keydown","click","visibilitychange"])qo(f,h,{capture:!0})}})},bV=[800,1800],tb=e=>{Qe.document?.prerendering?Sg(()=>tb(e)):Qe.document?.readyState!=="complete"?addEventListener("load",()=>tb(e),!0):setTimeout(e)},wV=(e,t={})=>{const n=Sh("TTFB"),s=bh(e,n,bV,t.reportAllChanges);tb(()=>{const i=wh();i&&(n.value=Math.max(i.responseStart-id(),0),n.entries=[i],s(!0))})},vu={},Rp={};let hA,fA,mA,pA;function cj(e,t=!1){return Ng("cls",e,SV,hA,t)}function dj(e,t=!1){return Ng("lcp",e,NV,fA,t)}function jV(e){return Ng("ttfb",e,_V,mA)}function gA(e){return Ng("inp",e,kV,pA)}function el(e,t){return xA(e,t),Rp[e]||(CV(e),Rp[e]=!0),yA(e,t)}function Nh(e,t){const n=vu[e];if(n?.length)for(const s of n)try{s(t)}catch(i){Zo&&ve.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Vi(s)}
Error:`,i)}}function SV(){return dV(e=>{Nh("cls",{metric:e}),hA=e},{reportAllChanges:!0})}function NV(){return vV(e=>{Nh("lcp",{metric:e}),fA=e},{reportAllChanges:!0})}function _V(){return wV(e=>{Nh("ttfb",{metric:e}),mA=e})}function kV(){return gV(e=>{Nh("inp",{metric:e}),pA=e})}function Ng(e,t,n,s,i=!1){xA(e,t);let a;return Rp[e]||(a=n(),Rp[e]=!0),s&&t({metric:s}),yA(e,t,i?a:void 0)}function CV(e){const t={};e==="event"&&(t.durationThreshold=0),ad(e,n=>{Nh(e,{entries:n})},t)}function xA(e,t){vu[e]=vu[e]||[],vu[e].push(t)}function yA(e,t,n){return()=>{n&&n();const s=vu[e];if(!s)return;const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}function EV(e){return"duration"in e}function P0(e){return typeof e=="number"&&isFinite(e)}function Ba(e,t,n,{...s}){const i=gt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Kw(e,()=>{const a=sd({startTime:t,...s});return a&&a.end(n),a})}function uj(e){const t=dt();if(!t)return;const{name:n,transaction:s,attributes:i,startTime:a}=e,{release:o,environment:c,sendDefaultPii:d}=t.getOptions(),f=t.getIntegrationByName("Replay")?.getReplayId(),m=vt(),g=m.getUser(),y=g!==void 0?g.email||g.id||g.ip_address:void 0;let b;try{b=m.getScopeData().contexts.profile.profile_id}catch{}const j={release:o,environment:c,user:y||void 0,profile_id:b||void 0,replay_id:f||void 0,transaction:s,"user_agent.original":Qe.navigator?.userAgent,"client.address":d?"{{auto}}":void 0,...i};return sd({name:n,attributes:j,startTime:a,experimental:{standalone:!0}})}function _h(){return Qe.addEventListener&&Qe.performance}function Yt(e){return e/1e3}function TV(e){let t="unknown",n="unknown",s="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=s==="h"?"http":s,n=e.split(s)[1];break}s+=i}return s===e&&(t=s),{name:t,version:n}}function vA(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function bA(e,t){let n,s=!1;function i(c){!s&&n&&t(c,n),s=!0}dA(()=>{i("pagehide")});const a=e.on("beforeStartNavigationSpan",(c,d)=>{d?.isRedirect||(i("navigation"),a(),o())}),o=e.on("afterStartPageLoadSpan",c=>{n=c.spanContext().spanId,o()})}function PV(e){let t=0,n;if(!vA("layout-shift"))return;const s=cj(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(t=i.value,n=a)},!0);bA(e,(i,a)=>{RV(t,n,a,i),s()})}function RV(e,t,n,s){Zo&&ve.log(`Sending CLS span (${e})`);const i=t?Yt((Cr()||0)+t.startTime):_n(),a=vt().getScopeData().transactionName,o=t?jr(t.sources[0]?.node):"Layout shift",c={[vn]:"auto.http.browser.cls",[qi]:"ui.webvital.cls",[rd]:0,"sentry.pageload.span_id":n,"sentry.report_event":s};t?.sources&&t.sources.forEach((h,f)=>{c[`cls.source.${f+1}`]=jr(h.node)});const d=uj({name:o,transaction:a,attributes:c,startTime:i});d&&(d.addEvent("cls",{[yh]:"",[vh]:e}),d.end(i))}function AV(e){let t=0,n;if(!vA("largest-contentful-paint"))return;const s=dj(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(t=i.value,n=a)},!0);bA(e,(i,a)=>{IV(t,n,a,i),s()})}function IV(e,t,n,s){Zo&&ve.log(`Sending LCP span (${e})`);const i=Yt((Cr()||0)+(t?.startTime||0)),a=vt().getScopeData().transactionName,o=t?jr(t.element):"Largest contentful paint",c={[vn]:"auto.http.browser.lcp",[qi]:"ui.webvital.lcp",[rd]:0,"sentry.pageload.span_id":n,"sentry.report_event":s};t&&(t.element&&(c["lcp.element"]=jr(t.element)),t.id&&(c["lcp.id"]=t.id),t.url&&(c["lcp.url"]=t.url),t.loadTime!=null&&(c["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(c["lcp.renderTime"]=t.renderTime),t.size!=null&&(c["lcp.size"]=t.size));const d=uj({name:o,transaction:a,attributes:c,startTime:i});d&&(d.addEvent("lcp",{[yh]:"millisecond",[vh]:e}),d.end(i))}function ss(e){return e&&((Cr()||performance.timeOrigin)+e)/1e3}function wA(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:s}=TV(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=n}return Cr()||_h()?.timeOrigin?OV({...t,"http.request.redirect_start":ss(e.redirectStart),"http.request.redirect_end":ss(e.redirectEnd),"http.request.worker_start":ss(e.workerStart),"http.request.fetch_start":ss(e.fetchStart),"http.request.domain_lookup_start":ss(e.domainLookupStart),"http.request.domain_lookup_end":ss(e.domainLookupEnd),"http.request.connect_start":ss(e.connectStart),"http.request.secure_connection_start":ss(e.secureConnectionStart),"http.request.connection_end":ss(e.connectEnd),"http.request.request_start":ss(e.requestStart),"http.request.response_start":ss(e.responseStart),"http.request.response_end":ss(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function OV(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const MV=2147483647;let wC=0,Os={},xr,Ap;function DV({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const s=_h();if(s&&Cr()){s.mark&&Qe.performance.mark("sentry-tracing-init");const i=t?AV(n):zV(),a=BV(),o=e?PV(n):UV();return()=>{i?.(),a(),o?.()}}return()=>{}}function LV(){el("longtask",({entries:e})=>{const t=or();if(!t)return;const{op:n,start_timestamp:s}=gt(t);for(const i of e){const a=Yt(Cr()+i.startTime),o=Yt(i.duration);n==="navigation"&&s&&a<s||Ba(t,a,a+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[vn]:"auto.ui.browser.metrics"}})}})}function $V(){new PerformanceObserver(t=>{const n=or();if(n)for(const s of t.getEntries()){if(!s.scripts[0])continue;const i=Yt(Cr()+s.startTime),{start_timestamp:a,op:o}=gt(n);if(o==="navigation"&&a&&i<a)continue;const c=Yt(s.duration),d={[vn]:"auto.ui.browser.metrics"},h=s.scripts[0],{invoker:f,invokerType:m,sourceURL:g,sourceFunctionName:y,sourceCharPosition:b}=h;d["browser.script.invoker"]=f,d["browser.script.invoker_type"]=m,g&&(d["code.filepath"]=g),y&&(d["code.function"]=y),b!==-1&&(d["browser.script.source_char_position"]=b),Ba(n,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function FV(){el("event",({entries:e})=>{const t=or();if(t){for(const n of e)if(n.name==="click"){const s=Yt(Cr()+n.startTime),i=Yt(n.duration),a={name:jr(n.target),op:`ui.interaction.${n.name}`,startTime:s,attributes:{[vn]:"auto.ui.browser.metrics"}},o=nR(n.target);o&&(a.attributes["ui.component_name"]=o),Ba(t,s,s+i,a)}}})}function UV(){return cj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Os.cls={value:e.value,unit:""},Ap=t)},!0)}function zV(){return dj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Os.lcp={value:e.value,unit:"millisecond"},xr=t)},!0)}function BV(){return jV(({metric:e})=>{e.entries[e.entries.length-1]&&(Os.ttfb={value:e.value,unit:"millisecond"})})}function VV(e,t){const n=_h(),s=Cr();if(!n?.getEntries||!s)return;const i=Yt(s),a=n.getEntries(),{op:o,start_timestamp:c}=gt(e);a.slice(wC).forEach(d=>{const h=Yt(d.startTime),f=Yt(Math.max(0,d.duration));if(!(o==="navigation"&&c&&i+h<c))switch(d.entryType){case"navigation":{GV(e,d,i);break}case"mark":case"paint":case"measure":{HV(e,d,h,f,i,t.ignorePerformanceApiSpans);const m=jh(),g=d.startTime<m.firstHiddenTime;d.name==="first-paint"&&g&&(Os.fp={value:d.startTime,unit:"millisecond"}),d.name==="first-contentful-paint"&&g&&(Os.fcp={value:d.startTime,unit:"millisecond"});break}case"resource":{JV(e,d,d.name,h,f,i,t.ignoreResourceSpans);break}}}),wC=Math.max(a.length-1,0),XV(e),o==="pageload"&&(e9(Os),t.recordClsOnPageloadSpan||delete Os.cls,t.recordLcpOnPageloadSpan||delete Os.lcp,Object.entries(Os).forEach(([d,h])=>{Oz(d,h.value,h.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",id()),QV(e,t)),xr=void 0,Ap=void 0,Os={}}function WV(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function HV(e,t,n,s,i,a){if(WV(t)||["mark","measure"].includes(t.entryType)&&Ui(t.name,a))return;const o=wh(!1),c=Yt(o?o.requestStart:0),d=i+Math.max(n,c),h=i+n,f=h+s,m={[vn]:"auto.resource.browser.metrics"};d!==h&&(m["sentry.browser.measure_happened_before_request"]=!0,m["sentry.browser.measure_start_time"]=d),qV(m,t),d<=f&&Ba(e,d,f,{name:t.name,op:t.entryType,attributes:m})}function qV(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[s,i]of Object.entries(n))if(i&&Pc(i))e[`sentry.browser.measure.detail.${s}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${s}`]=JSON.stringify(i)}catch{}return}if(Pc(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function GV(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(s=>{fm(e,t,s,n)}),fm(e,t,"secureConnection",n,"TLS/SSL"),fm(e,t,"fetch",n,"cache"),fm(e,t,"domainLookup",n,"DNS"),YV(e,t,n)}function fm(e,t,n,s,i=n){const a=KV(n),o=t[a],c=t[`${n}Start`];!c||!o||Ba(e,s+Yt(c),s+Yt(o),{op:`browser.${i}`,name:t.name,attributes:{[vn]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function KV(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function YV(e,t,n){const s=n+Yt(t.requestStart),i=n+Yt(t.responseEnd),a=n+Yt(t.responseStart);t.responseEnd&&(Ba(e,s,i,{op:"browser.request",name:t.name,attributes:{[vn]:"auto.ui.browser.metrics"}}),Ba(e,a,i,{op:"browser.response",name:t.name,attributes:{[vn]:"auto.ui.browser.metrics"}}))}function JV(e,t,n,s,i,a,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const c=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(c))return;const d={[vn]:"auto.resource.browser.metrics"},h=Ho(n);h.protocol&&(d["url.scheme"]=h.protocol.split(":").pop()),h.host&&(d["server.address"]=h.host),d["url.same_origin"]=n.includes(Qe.location.origin),ZV(t,d,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const f={...d,...wA(t)},m=a+s,g=m+i;Ba(e,m,g,{name:n.replace(Qe.location.origin,""),op:c,attributes:f})}function XV(e){const t=Qe.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),P0(n.rtt)&&(Os["connection.rtt"]={value:n.rtt,unit:"millisecond"})),P0(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),P0(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function QV(e,t){xr&&t.recordLcpOnPageloadSpan&&(xr.element&&e.setAttribute("lcp.element",jr(xr.element)),xr.id&&e.setAttribute("lcp.id",xr.id),xr.url&&e.setAttribute("lcp.url",xr.url.trim().slice(0,200)),xr.loadTime!=null&&e.setAttribute("lcp.loadTime",xr.loadTime),xr.renderTime!=null&&e.setAttribute("lcp.renderTime",xr.renderTime),e.setAttribute("lcp.size",xr.size)),Ap?.sources&&t.recordClsOnPageloadSpan&&Ap.sources.forEach((n,s)=>e.setAttribute(`cls.source.${s+1}`,jr(n.node)))}function ZV(e,t,n){n.forEach(([s,i])=>{const a=e[s];a!=null&&(typeof a=="number"&&a<MV||typeof a=="string")&&(t[i]=a)})}function e9(e){const t=wh(!1);if(!t)return;const{responseStart:n,requestStart:s}=t;s<=n&&(e["ttfb.requestTime"]={value:n-s,unit:"millisecond"})}function t9(){return _h()&&Cr()?el("element",n9):()=>{}}const n9=({entries:e})=>{const t=or(),n=t?qn(t):void 0,s=n?gt(n).description:vt().getScopeData().transactionName;e.forEach(i=>{const a=i;if(!a.identifier)return;const o=a.name,c=a.renderTime,d=a.loadTime,[h,f]=d?[Yt(d),"load-time"]:c?[Yt(c),"render-time"]:[_n(),"entry-emission"],m=o==="image-paint"?Yt(Math.max(0,(c??0)-(d??0))):0,g={[vn]:"auto.ui.browser.elementtiming",[qi]:"ui.elementtiming",[Ds]:"component","sentry.span_start_time_source":f,"sentry.transaction_name":s,"element.id":a.id,"element.type":a.element?.tagName?.toLowerCase()||"unknown","element.size":a.naturalWidth&&a.naturalHeight?`${a.naturalWidth}x${a.naturalHeight}`:void 0,"element.render_time":c,"element.load_time":d,"element.url":a.url||void 0,"element.identifier":a.identifier,"element.paint_type":o};Uz({name:`element[${a.identifier}]`,attributes:g,startTime:h,onlyIfParent:!0},y=>{y.end(h+m)})})},r9=1e3;let jC,nb,rb;function jA(e){Xa("dom",e),Qa("dom",s9)}function s9(){if(!Qe.document)return;const e=cs.bind(null,"dom"),t=SC(e,!0);Qe.document.addEventListener("click",t,!1),Qe.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=Qe[n]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(br(i,"addEventListener",function(a){return function(o,c,d){if(o==="click"||o=="keypress")try{const h=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=h[o]=h[o]||{refCount:0};if(!f.handler){const m=SC(e);f.handler=m,a.call(this,o,m,d)}f.refCount++}catch{}return a.call(this,o,c,d)}}),br(i,"removeEventListener",function(a){return function(o,c,d){if(o==="click"||o=="keypress")try{const h=this.__sentry_instrumentation_handlers__||{},f=h[o];f&&(f.refCount--,f.refCount<=0&&(a.call(this,o,f.handler,d),f.handler=void 0,delete h[o]),Object.keys(h).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,o,c,d)}}))})}function i9(e){if(e.type!==nb)return!1;try{if(!e.target||e.target._sentryId!==rb)return!1}catch{}return!0}function a9(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function SC(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const s=o9(n);if(a9(n.type,s))return;Wr(n,"_sentryCaptured",!0),s&&!s._sentryId&&Wr(s,"_sentryId",Br());const i=n.type==="keypress"?"input":n.type;i9(n)||(e({event:n,name:i,global:t}),nb=n.type,rb=s?s._sentryId:void 0),clearTimeout(jC),jC=Qe.setTimeout(()=>{rb=void 0,nb=void 0},r9)}}function o9(e){try{return e.target}catch{return null}}let mm;function _g(e){const t="history";Xa(t,e),Qa(t,l9)}function l9(){if(Qe.addEventListener("popstate",()=>{const t=Qe.location.href,n=mm;if(mm=t,n===t)return;cs("history",{from:n,to:t})}),!R8())return;function e(t){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=mm,a=c9(String(s));if(mm=a,i===a)return t.apply(this,n);cs("history",{from:i,to:a})}return t.apply(this,n)}}br(Qe.history,"pushState",e),br(Qe.history,"replaceState",e)}function c9(e){try{return new URL(e,Qe.location.origin).toString()}catch{return e}}const op={};function SA(e){const t=op[e];if(t)return t;let n=Qe[e];if(Yv(n))return op[e]=n.bind(Qe);const s=Qe.document;if(s&&typeof s.createElement=="function")try{const i=s.createElement("iframe");i.hidden=!0,s.head.appendChild(i);const a=i.contentWindow;a?.[e]&&(n=a[e]),s.head.removeChild(i)}catch(i){Zo&&ve.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(op[e]=n.bind(Qe))}function d9(e){op[e]=void 0}function kh(...e){return SA("setTimeout")(...e)}const Lo="__sentry_xhr_v3__";function NA(e){Xa("xhr",e),Qa("xhr",u9)}function u9(){if(!Qe.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,s){const i=new Error,a=_n()*1e3,o=Fi(s[0])?s[0].toUpperCase():void 0,c=h9(s[1]);if(!o||!c)return t.apply(n,s);n[Lo]={method:o,url:c,request_headers:{}},o==="POST"&&c.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const d=()=>{const h=n[Lo];if(h&&n.readyState===4){try{h.status_code=n.status}catch{}const f={endTimestamp:_n()*1e3,startTimestamp:a,xhr:n,virtualError:i};cs("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(h,f,m){return d(),h.apply(f,m)}}):n.addEventListener("readystatechange",d),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(h,f,m){const[g,y]=m,b=f[Lo];return b&&Fi(g)&&Fi(y)&&(b.request_headers[g.toLowerCase()]=y),h.apply(f,m)}}),t.apply(n,s)}}),e.send=new Proxy(e.send,{apply(t,n,s){const i=n[Lo];if(!i)return t.apply(n,s);s[0]!==void 0&&(i.body=s[0]);const a={startTimestamp:_n()*1e3,xhr:n};return cs("xhr",a),t.apply(n,s)}})}function h9(e){if(Fi(e))return e;try{return e.toString()}catch{}}function _A(e){return new URLSearchParams(e).toString()}function kA(e,t=ve){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[_A(e)];if(!e)return[void 0]}catch(n){return Zo&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Zo&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function CA(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function EA(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return Zo&&ve.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,s)=>{const[i,a]=s.split(": ");return a&&(n[i.toLowerCase()]=a),n},{}):{}}const R0=[],lp=new Map,Hl=new Map,f9=60;function m9(){if(_h()&&Cr()){const t=p9();return()=>{t()}}return()=>{}}const sb={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function p9(){return gA(g9)}const g9=({metric:e})=>{if(e.value==null)return;const t=Yt(e.value);if(t>f9)return;const n=e.entries.find(b=>b.duration===e.value&&sb[b.name]);if(!n)return;const{interactionId:s}=n,i=sb[n.name],a=Yt(Cr()+n.startTime),o=or(),c=o?qn(o):void 0,d=s!=null?lp.get(s):void 0,h=d?.span||c,f=h?gt(h).description:vt().getScopeData().transactionName,m=d?.elementName||jr(n.target),g={[vn]:"auto.http.browser.inp",[qi]:`ui.interaction.${i}`,[rd]:n.duration},y=uj({name:m,transaction:f,attributes:g,startTime:a});y&&(y.addEvent("inp",{[yh]:"millisecond",[vh]:e.value}),y.end(a+t))};function x9(){const e=Object.keys(sb);Xv()&&e.forEach(i=>{Qe.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const a=i.target;if(!a)return;const o=jr(a),c=Math.round(i.timeStamp);if(Hl.set(c,o),Hl.size>50){const d=Hl.keys().next().value;d!==void 0&&Hl.delete(d)}}function n(i){const a=Math.round(i.startTime);let o=Hl.get(a);if(!o)for(let c=-5;c<=5;c++){const d=Hl.get(a+c);if(d){o=d;break}}return o||"<unknown>"}const s=({entries:i})=>{const a=or(),o=a&&qn(a);i.forEach(c=>{if(!EV(c))return;const d=c.interactionId;if(d==null||lp.has(d))return;const h=c.target?jr(c.target):n(c);if(R0.length>10){const f=R0.shift();lp.delete(f)}R0.push(d),lp.set(d,{span:o,elementName:h})})};el("event",s),el("first-input",s)}const y9=40;function v9(e,t=SA("fetch")){let n=0,s=0;async function i(a){const o=a.body.length;n+=o,s++;const c={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&s<15,...e.fetchOptions};try{const d=await t(e.url,c);return{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}}catch(d){throw d9("fetch"),d}finally{n-=o,s--}}return AB(e,i,Zw(e.bufferSize||y9))}const Sr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,b9=30,w9=50;function ib(e,t,n,s){const i={filename:e,function:t==="<anonymous>"?Xo:t,in_app:!0};return n!==void 0&&(i.lineno=n),s!==void 0&&(i.colno=s),i}const j9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,S9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,N9=/\((\S*)(?::(\d+))(?::(\d+))\)/,_9=/at (.+?) ?\(data:(.+?),/,k9=e=>{const t=e.match(_9);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=j9.exec(e);if(n){const[,i,a,o]=n;return ib(i,Xo,+a,+o)}const s=S9.exec(e);if(s){if(s[2]&&s[2].indexOf("eval")===0){const c=N9.exec(s[2]);c&&(s[2]=c[1],s[3]=c[2],s[4]=c[3])}const[a,o]=TA(s[1]||Xo,s[2]);return ib(o,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}},C9=[b9,k9],E9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,T9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,P9=e=>{const t=E9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=T9.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let s=t[3],i=t[1]||Xo;return[i,s]=TA(i,s),ib(s,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},R9=[w9,P9],A9=[C9,R9],I9=KP(...A9),TA=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,s=e.indexOf("safari-web-extension")!==-1;return n||s?[e.indexOf("@")!==-1?e.split("@")[0]:Xo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},pm=1024,O9="Breadcrumbs",M9=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:O9,setup(n){t.console&&g8(F9(n)),t.dom&&jA($9(n,t.dom)),t.xhr&&NA(U9(n)),t.fetch&&nA(z9(n)),t.history&&_g(B9(n)),t.sentry&&n.on("beforeSendEvent",L9(n))}}}),D9=M9;function L9(e){return function(n){dt()===e&&za({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Io(n)},{event:n})}}function $9(e,t){return function(s){if(dt()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>pm&&(Sr&&ve.warn(`\`dom.maxStringLength\` cannot exceed ${pm}, but a value of ${c} was configured. Sentry will use ${pm} instead.`),c=pm),typeof o=="string"&&(o=[o]);try{const h=s.event,f=V9(h)?h.target:h;i=jr(f,{keyAttrs:o,maxStringLength:c}),a=nR(f)}catch{i="<unknown>"}if(i.length===0)return;const d={category:`ui.${s.name}`,message:i};a&&(d.data={"ui.component_name":a}),za(d,{event:s.event,name:s.name,global:s.global})}}function F9(e){return function(n){if(dt()!==e)return;const s={category:"console",data:{arguments:n.args,logger:"console"},level:QR(n.level),message:Ok(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)s.message=`Assertion failed: ${Ok(n.args.slice(1)," ")||"console.assert"}`,s.data.arguments=n.args.slice(1);else return;za(s,{input:n.args,level:n.level})}}function U9(e){return function(n){if(dt()!==e)return;const{startTimestamp:s,endTimestamp:i}=n,a=n.xhr[Lo];if(!s||!i||!a)return;const{method:o,url:c,status_code:d,body:h}=a,f={method:o,url:c,status_code:d},m={xhr:n.xhr,input:h,startTimestamp:s,endTimestamp:i},g={category:"xhr",data:f,type:"http",level:tA(d)};e.emit("beforeOutgoingRequestBreadcrumb",g,m),za(g,m)}}function z9(e){return function(n){if(dt()!==e)return;const{startTimestamp:s,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const a=n.fetchData,o={data:n.error,input:n.args,startTimestamp:s,endTimestamp:i},c={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",c,o),za(c,o)}else{const a=n.response,o={...n.fetchData,status_code:a?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,a?.status;const c={input:n.args,response:a,startTimestamp:s,endTimestamp:i},d={category:"fetch",data:o,type:"http",level:tA(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",d,c),za(d,c)}}}function B9(e){return function(n){if(dt()!==e)return;let s=n.from,i=n.to;const a=Ho(ct.location.href);let o=s?Ho(s):void 0;const c=Ho(i);o?.path||(o=a),a.protocol===c.protocol&&a.host===c.host&&(i=c.relative),a.protocol===o.protocol&&a.host===o.host&&(s=o.relative),za({category:"navigation",data:{from:s,to:i}})}}function V9(e){return!!e&&!!e.target}const W9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],H9="BrowserApiErrors",q9=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:H9,setupOnce(){t.setTimeout&&br(ct,"setTimeout",NC),t.setInterval&&br(ct,"setInterval",NC),t.requestAnimationFrame&&br(ct,"requestAnimationFrame",K9),t.XMLHttpRequest&&"XMLHttpRequest"in ct&&br(XMLHttpRequest.prototype,"send",Y9);const n=t.eventTarget;n&&(Array.isArray(n)?n:W9).forEach(i=>J9(i,t))}}}),G9=q9;function NC(e){return function(...t){const n=t[0];return t[0]=Mc(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Vi(e)}`}}),e.apply(this,t)}}function K9(e){return function(t){return e.apply(this,[Mc(t,{mechanism:{data:{handler:Vi(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Y9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&br(n,i,function(a){const o={mechanism:{data:{handler:Vi(a)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},c=Uw(a);return c&&(o.mechanism.data.handler=Vi(c)),Mc(a,o)})}),e.apply(this,t)}}function J9(e,t){const s=ct[e]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(br(s,"addEventListener",function(i){return function(a,o,c){try{X9(o)&&(o.handleEvent=Mc(o.handleEvent,{mechanism:{data:{handler:Vi(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&Q9(this,a,o),i.apply(this,[a,Mc(o,{mechanism:{data:{handler:Vi(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),c])}}),br(s,"removeEventListener",function(i){return function(a,o,c){try{const d=o.__sentry_wrapped__;d&&i.call(this,a,d,c)}catch{}return i.call(this,a,o,c)}}))}function X9(e){return typeof e.handleEvent=="function"}function Q9(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Z9=()=>({name:"BrowserSession",setupOnce(){if(typeof ct.document>"u"){Sr&&ve.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}nC({ignoreDuration:!0}),rC(),_g(({from:e,to:t})=>{e!==void 0&&e!==t&&(nC({ignoreDuration:!0}),rC())})}}),e7="GlobalHandlers",t7=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:e7,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(r7(n),_C("onerror")),t.onunhandledrejection&&(s7(n),_C("onunhandledrejection"))}}}),n7=t7;function r7(e){JP(t=>{const{stackParser:n,attachStacktrace:s}=PA();if(dt()!==e||sA())return;const{msg:i,url:a,line:o,column:c,error:d}=t,h=o7(ij(n,d||i,void 0,s,!1),a,o,c);h.level="error",AR(h,{originalException:d,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function s7(e){XP(t=>{const{stackParser:n,attachStacktrace:s}=PA();if(dt()!==e||sA())return;const i=i7(t),a=Pc(i)?a7(i):ij(n,i,void 0,s,!0);a.level="error",AR(a,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function i7(e){if(Pc(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function a7(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function o7(e,t,n,s){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},c=o.stacktrace=o.stacktrace||{},d=c.frames=c.frames||[],h=s,f=n,m=l7(t)??ed();return d.length===0&&d.push({colno:h,filename:m,function:Xo,in_app:!0,lineno:f}),e}function _C(e){Sr&&ve.log(`Global Handler attached: ${e}`)}function PA(){return dt()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function l7(e){if(!(!Fi(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",s=e.includes("base64,");return`<data:${n}${s?",base64":""}>`}return e}}const c7=()=>({name:"HttpContext",preprocessEvent(e){if(!ct.navigator&&!ct.location&&!ct.document)return;const t=nj(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),d7="cause",u7=5,h7="LinkedErrors",f7=((e={})=>{const t=e.limit||u7,n=e.key||d7;return{name:h7,preprocessEvent(s,i,a){const o=a.getOptions();p8(rj,o.stackParser,n,t,s,i)}}}),m7=f7;function p7(){return g7()?(Sr&&gl(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function g7(){if(typeof ct.window>"u")return!1;const e=ct;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=ed(),s=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ct===ct.top&&s.some(a=>n.startsWith(`${a}://`)))}function x7(e){return[o8(),r8(),G9(),D9(),n7(),m7(),b8(),c7(),Z9()]}function y7(e={}){const t=!e.skipBrowserExtensionCheck&&p7();let n=e.defaultIntegrations==null?x7():e.defaultIntegrations;const s={...e,enabled:t?!1:e.enabled,stackParser:hU(e.stackParser||I9),integrations:wB({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||v9};return BB(tV,s)}function kC(e={}){const t=ct.document,n=t?.head||t?.body;if(!n){Sr&&ve.error("[showReportDialog] Global document not defined");return}const s=vt(),a=dt()?.getDsn();if(!a){Sr&&ve.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...s.getUser(),...e.user},eventId:e.eventId||hB()},c=ct.document.createElement("script");c.async=!0,c.crossOrigin="anonymous",c.src=vB(a,o);const{onLoad:d,onClose:h}=o;if(d&&(c.onload=d),h){const f=m=>{if(m.data==="__sentry_reportdialog_closed__")try{h()}finally{ct.removeEventListener("message",f)}};ct.addEventListener("message",f)}n.appendChild(c)}const At=ht,hj="sentryReplaySession",v7="replay_event",fj="Unable to send Replay",b7=3e5,w7=9e5,j7=5e3,S7=5500,N7=6e4,_7=5e3,k7=3,CC=15e4,gm=5e3,C7=3e3,E7=300,mj=2e7,T7=4999,P7=5e4,EC=36e5;var R7=Object.defineProperty,A7=(e,t,n)=>t in e?R7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TC=(e,t,n)=>A7(e,typeof t!="symbol"?t+"":t,n),un=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(un||{});function I7(e){return e.nodeType===e.ELEMENT_NODE}function bu(e){return e?.host?.shadowRoot===e}function wu(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function O7(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function M7(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ip(e){try{const t=e.rules||e.cssRules;return t?O7(Array.from(t,RA).join("")):null}catch{return null}}function D7(e){let t="";for(let n=0;n<e.style.length;n++){const s=e.style,i=s[n],a=s.getPropertyPriority(i);t+=`${i}:${s.getPropertyValue(i)}${a?" !important":""};`}return`${e.selectorText} { ${t} }`}function RA(e){let t;if($7(e))try{t=Ip(e.styleSheet)||M7(e)}catch{}else if(F7(e)){let n=e.cssText;const s=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=D7(e)),s&&(n=L7(n)),s||i)return n}return t||e.cssText}function L7(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function $7(e){return"styleSheet"in e}function F7(e){return"selectorText"in e}class AA{constructor(){TC(this,"idNodeMap",new Map),TC(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(s=>this.removeNodeFromMap(s))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const s=n.id;this.idNodeMap.set(s,t),this.nodeMetaMap.set(t,n)}replace(t,n){const s=this.getNode(t);if(s){const i=this.nodeMetaMap.get(s);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function U7(){return new AA}function kg({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Fu({isMasked:e,element:t,value:n,maskInputFn:s}){let i=n||"";return e?(s&&(i=s(i,t)),"*".repeat(i.length)):i}function Dc(e){return e.toLowerCase()}function ab(e){return e.toUpperCase()}const PC="__rrweb_original__";function z7(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let s=0;s<e.width;s+=n)for(let i=0;i<e.height;i+=n){const a=t.getImageData,o=PC in a?a[PC]:a;if(new Uint32Array(o.call(t,s,i,Math.min(n,e.width-s),Math.min(n,e.height-i)).data.buffer).some(d=>d!==0))return!1}return!0}function pj(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Dc(t):null}function Op(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function IA(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const s=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(s)?.[1]??null}const RC={};function OA(e){const t=RC[e];if(t)return t;const n=window.document;let s=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(s=a[e]),n.head.removeChild(i)}catch{}return RC[e]=s.bind(window)}function ob(...e){return OA("setTimeout")(...e)}function MA(...e){return OA("clearTimeout")(...e)}function DA(e){try{return e.contentDocument}catch{}}let B7=1;const V7=new RegExp("[^a-z0-9-_:]"),Uu=-2;function gj(){return B7++}function W7(e){if(e instanceof HTMLFormElement)return"form";const t=Dc(e.tagName);return V7.test(t)?"div":t}function H7(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let ql,AC;const q7=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,G7=/^(?:[a-z+]+:)?\/\//i,K7=/^www\..*/i,Y7=/^(data:)([^,]*),(.*)/i;function J7(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),s=[];for(let i of n){if(i=i.trim(),!i)continue;const a=i.indexOf(":");if(a===-1){s.push(i);continue}const o=i.slice(0,a).trim();t.has(o)||s.push(i)}return s.join("; ")+(s.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function Mp(e,t){return(e||"").replace(q7,(n,s,i,a,o,c)=>{const d=i||o||c,h=s||a||"";if(!d)return n;if(G7.test(d)||K7.test(d))return`url(${h}${d}${h})`;if(Y7.test(d))return`url(${h}${d}${h})`;if(d[0]==="/")return`url(${h}${H7(t)+d}${h})`;const f=t.split("/"),m=d.split("/");f.pop();for(const g of m)g!=="."&&(g===".."?f.pop():f.push(g));return`url(${h}${f.join("/")}${h})`})}const X7=/^[^ \t\n\r\u000c]+/,Q7=/^[, \t\n\r\u000c]+/;function Z7(e,t){if(t.trim()==="")return t;let n=0;function s(a){let o;const c=a.exec(t.substring(n));return c?(o=c[0],n+=o.length,o):""}const i=[];for(;s(Q7),!(n>=t.length);){let a=s(X7);if(a.slice(-1)===",")a=dc(e,a.substring(0,a.length-1)),i.push(a);else{let o="";a=dc(e,a);let c=!1;for(;;){const d=t.charAt(n);if(d===""){i.push((a+o).trim());break}else if(c)d===")"&&(c=!1);else if(d===","){n+=1,i.push((a+o).trim());break}else d==="("&&(c=!0);o+=d,n+=1}}}return i.join(", ")}const IC=new WeakMap;function dc(e,t){return!t||t.trim()===""?t:Cg(e,t)}function eW(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Cg(e,t){let n=IC.get(e);if(n||(n=e.createElement("a"),IC.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function LA(e,t,n,s,i,a,o){if(!s)return s;if(n==="src"||n==="href"&&!(t==="use"&&s[0]==="#"))return dc(e,s);if(n==="xlink:href"&&s[0]!=="#")return dc(e,s);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return dc(e,s);if(n==="srcset")return Z7(e,s);if(n==="style"){let c=Mp(s,Cg(e));return o&&o.size>0&&(c=J7(c,o)),c}else if(t==="object"&&n==="data")return dc(e,s);return typeof a=="function"?a(n,s,i):s}function $A(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function tW(e,t,n,s){try{if(s&&e.matches(s))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const a=e.classList[i];if(t.test(a))return!0}if(n)return e.matches(n)}catch{}return!1}function nW(e,t){for(let n=e.classList.length;n--;){const s=e.classList[n];if(t.test(s))return!0}return!1}function $o(e,t,n=1/0,s=0){return!e||e.nodeType!==e.ELEMENT_NODE||s>n?-1:t(e)?s:$o(e.parentNode,t,n,s+1)}function uc(e,t){return n=>{const s=n;if(s===null)return!1;try{if(e){if(typeof e=="string"){if(s.matches(`.${e}`))return!0}else if(nW(s,e))return!0}return!!(t&&s.matches(t))}catch{return!1}}}function Lc(e,t,n,s,i,a){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const h=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(h))return!0}let c=-1,d=-1;if(a){if(d=$o(o,uc(s,i)),d<0)return!0;c=$o(o,uc(t,n),d>=0?d:1/0)}else{if(c=$o(o,uc(t,n)),c<0)return!1;d=$o(o,uc(s,i),c>=0?c:1/0)}return c>=0?d>=0?c<=d:!0:d>=0?!1:!!a}catch{}return!!a}function rW(e,t,n){const s=e.contentWindow;if(!s)return;let i=!1,a;try{a=s.document.readyState}catch{return}if(a!=="complete"){const c=ob(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{MA(c),i=!0,t()});return}const o="about:blank";if(s.location.href!==o||e.src===o||e.src==="")return ob(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function sW(e,t,n){let s=!1,i;try{i=e.sheet}catch{return}if(i)return;const a=ob(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{MA(a),s=!0,t()})}function iW(e,t){const{doc:n,mirror:s,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskAttributeFn:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:b={},maskTextFn:j,maskInputFn:S,dataURLOptions:_={},inlineImages:N,recordCanvas:C,keepIframeSrcFn:T,newlyAddedElement:M=!1,ignoreCSSAttributes:P}=t,E=aW(n,s);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:un.Document,childNodes:[],compatMode:e.compatMode}:{type:un.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:un.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return lW(e,{doc:n,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:y,maskAttributeFn:d,maskInputOptions:b,maskInputFn:S,dataURLOptions:_,inlineImages:N,recordCanvas:C,keepIframeSrcFn:T,newlyAddedElement:M,rootId:E,maskTextClass:h,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,ignoreCSSAttributes:P});case e.TEXT_NODE:return oW(e,{doc:n,maskAllText:c,maskTextClass:h,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,maskTextFn:j,maskInputOptions:b,maskInputFn:S,rootId:E});case e.CDATA_SECTION_NODE:return{type:un.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:un.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function aW(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function oW(e,t){const{maskAllText:n,maskTextClass:s,unmaskTextClass:i,maskTextSelector:a,unmaskTextSelector:o,maskTextFn:c,maskInputOptions:d,maskInputFn:h,rootId:f}=t,m=e.parentNode&&e.parentNode.tagName;let g=e.textContent;const y=m==="STYLE"?!0:void 0,b=m==="SCRIPT"?!0:void 0,j=m==="TEXTAREA"?!0:void 0;if(y&&g){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(g=Ip(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}g=Mp(g,Cg(t.doc))}b&&(g="SCRIPT_PLACEHOLDER");const S=Lc(e,s,a,i,o,n);if(!y&&!b&&!j&&g&&S&&(g=c?c(g,e.parentElement):g.replace(/[\S]/g,"*")),j&&g&&(d.textarea||S)&&(g=h?h(g,e.parentNode):g.replace(/[\S]/g,"*")),m==="OPTION"&&g){const _=kg({type:null,tagName:m,maskInputOptions:d});g=Fu({isMasked:Lc(e,s,a,i,o,_),element:e,value:g,maskInputFn:h})}return{type:un.Text,textContent:g||"",isStyle:y,rootId:f}}function lW(e,t){const{doc:n,blockClass:s,blockSelector:i,unblockSelector:a,inlineStylesheet:o,maskInputOptions:c={},maskAttributeFn:d,maskInputFn:h,dataURLOptions:f={},inlineImages:m,recordCanvas:g,keepIframeSrcFn:y,newlyAddedElement:b=!1,rootId:j,maskTextClass:S,unmaskTextClass:_,maskTextSelector:N,unmaskTextSelector:C,ignoreCSSAttributes:T}=t,M=tW(e,s,i,a),P=W7(e);let E={};const R=e.attributes.length;for(let V=0;V<R;V++){const Q=e.attributes[V];Q.name&&!$A(P,Q.name,Q.value)&&(E[Q.name]=LA(n,P,Dc(Q.name),Q.value,e,d,T))}if(P==="link"&&o){const V=Array.from(n.styleSheets).find(G=>G.href===e.href);let Q=null;V&&(Q=Ip(V)),Q&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=Mp(Q,V.href))}if(P==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const V=Ip(e.sheet);V&&(E._cssText=Mp(V,Cg(n)))}if(P==="input"||P==="textarea"||P==="select"||P==="option"){const V=e,Q=pj(V),G=Op(V,ab(P),Q),A=V.checked;if(Q!=="submit"&&Q!=="button"&&G){const J=Lc(V,S,N,_,C,kg({type:Q,tagName:ab(P),maskInputOptions:c}));E.value=Fu({isMasked:J,element:V,value:G,maskInputFn:h})}A&&(E.checked=A)}if(P==="option"&&(e.selected&&!c.select?E.selected=!0:delete E.selected),P==="canvas"&&g){if(e.__context==="2d")z7(e)||(E.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const V=e.toDataURL(f.type,f.quality),Q=n.createElement("canvas");Q.width=e.width,Q.height=e.height;const G=Q.toDataURL(f.type,f.quality);V!==G&&(E.rr_dataURL=V)}}if(P==="img"&&m){ql||(ql=n.createElement("canvas"),AC=ql.getContext("2d"));const V=e,Q=V.currentSrc||V.getAttribute("src")||"<unknown-src>",G=V.crossOrigin,A=()=>{V.removeEventListener("load",A);try{ql.width=V.naturalWidth,ql.height=V.naturalHeight,AC.drawImage(V,0,0),E.rr_dataURL=ql.toDataURL(f.type,f.quality)}catch(J){if(V.crossOrigin!=="anonymous"){V.crossOrigin="anonymous",V.complete&&V.naturalWidth!==0?A():V.addEventListener("load",A);return}else console.warn(`Cannot inline img src=${Q}! Error: ${J}`)}V.crossOrigin==="anonymous"&&(G?E.crossOrigin=G:V.removeAttribute("crossorigin"))};V.complete&&V.naturalWidth!==0?A():V.addEventListener("load",A)}if((P==="audio"||P==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),b||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),M){const{width:V,height:Q}=e.getBoundingClientRect();E={class:E.class,rr_width:`${V}px`,rr_height:`${Q}px`}}P==="iframe"&&!y(E.src)&&(!M&&!DA(e)&&(E.rr_src=E.src),delete E.src);let q;try{customElements.get(P)&&(q=!0)}catch{}return{type:un.Element,tagName:P,attributes:E,childNodes:[],isSVG:eW(e)||void 0,needBlock:M,rootId:j,isCustom:q}}function Pt(e){return e==null?"":e.toLowerCase()}function cW(e,t){if(t.comment&&e.type===un.Comment)return!0;if(e.type===un.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&IA(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Pt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Pt(e.attributes.name)==="application-name"||Pt(e.attributes.rel)==="icon"||Pt(e.attributes.rel)==="apple-touch-icon"||Pt(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Pt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Pt(e.attributes.property).match(/^(og|twitter|fb):/)||Pt(e.attributes.name).match(/^(og|twitter):/)||Pt(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Pt(e.attributes.name)==="robots"||Pt(e.attributes.name)==="googlebot"||Pt(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Pt(e.attributes.name)==="author"||Pt(e.attributes.name)==="generator"||Pt(e.attributes.name)==="framework"||Pt(e.attributes.name)==="publisher"||Pt(e.attributes.name)==="progid"||Pt(e.attributes.property).match(/^article:/)||Pt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Pt(e.attributes.name)==="google-site-verification"||Pt(e.attributes.name)==="yandex-verification"||Pt(e.attributes.name)==="csrf-token"||Pt(e.attributes.name)==="p:domain_verify"||Pt(e.attributes.name)==="verify-v1"||Pt(e.attributes.name)==="verification"||Pt(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function hc(e,t){const{doc:n,mirror:s,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:b={},maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOMOptions:N,dataURLOptions:C={},inlineImages:T=!1,recordCanvas:M=!1,onSerialize:P,onIframeLoad:E,iframeLoadTimeout:R=5e3,onBlockedImageLoad:q,onStylesheetLoad:V,stylesheetLoadTimeout:Q=5e3,keepIframeSrcFn:G=()=>!1,newlyAddedElement:A=!1,ignoreCSSAttributes:J}=t;let{preserveWhiteSpace:$=!0}=t;const F=iW(e,{doc:n,mirror:s,blockClass:i,blockSelector:a,maskAllText:c,unblockSelector:o,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,dataURLOptions:C,inlineImages:T,recordCanvas:M,keepIframeSrcFn:G,newlyAddedElement:A,ignoreCSSAttributes:J});if(!F)return console.warn(e,"not serialized"),null;let B;s.hasNode(e)?B=s.getId(e):cW(F,N)||!$&&F.type===un.Text&&!F.isStyle&&!F.textContent.replace(/^\s+|\s+$/gm,"").length?B=Uu:B=gj();const O=Object.assign(F,{id:B});if(s.add(e,O),B===Uu)return null;P&&P(e);let Z=!g;if(O.type===un.Element){Z=Z&&!O.needBlock;const H=e.shadowRoot;H&&wu(H)&&(O.isShadowHost=!0)}if((O.type===un.Document||O.type===un.Element)&&Z){N.headWhitespace&&O.type===un.Element&&O.tagName==="head"&&($=!1);const H={doc:n,mirror:s,blockClass:i,blockSelector:a,maskAllText:c,unblockSelector:o,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m,skipChild:g,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOMOptions:N,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:$,onSerialize:P,onIframeLoad:E,iframeLoadTimeout:R,onBlockedImageLoad:q,onStylesheetLoad:V,stylesheetLoadTimeout:Q,keepIframeSrcFn:G,ignoreCSSAttributes:J},U=e.childNodes?Array.from(e.childNodes):[];for(const D of U){const ee=hc(D,H);ee&&O.childNodes.push(ee)}if(I7(e)&&e.shadowRoot)for(const D of Array.from(e.shadowRoot.childNodes)){const ee=hc(D,H);ee&&(wu(e.shadowRoot)&&(ee.isShadow=!0),O.childNodes.push(ee))}}if(e.parentNode&&bu(e.parentNode)&&wu(e.parentNode)&&(O.isShadow=!0),O.type===un.Element&&O.tagName==="iframe"&&!O.needBlock&&rW(e,()=>{const H=DA(e);if(H&&E){const U=hc(H,{doc:H,mirror:s,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOMOptions:N,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:$,onSerialize:P,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:V,stylesheetLoadTimeout:Q,keepIframeSrcFn:G,ignoreCSSAttributes:J});U&&E(e,U)}},R),O.type===un.Element&&O.tagName==="img"&&!e.complete&&O.needBlock){const H=e,U=()=>{if(H.isConnected&&!H.complete&&q)try{const D=H.getBoundingClientRect();D.width>0&&D.height>0&&q(H,O,D)}catch{}H.removeEventListener("load",U)};H.isConnected&&H.addEventListener("load",U)}return O.type===un.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&IA(O.attributes.href)==="css")&&sW(e,()=>{if(V){const H=hc(e,{doc:n,mirror:s,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:y,maskInputOptions:b,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOMOptions:N,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:$,onSerialize:P,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:V,stylesheetLoadTimeout:Q,keepIframeSrcFn:G,ignoreCSSAttributes:J});H&&V(e,H)}},Q),O.type===un.Element&&delete O.needBlock,O}function dW(e,t){const{mirror:n=new AA,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:a=null,maskAllText:o=!1,maskTextClass:c="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,inlineImages:g=!1,recordCanvas:y=!1,maskAllInputs:b=!1,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOM:N=!1,dataURLOptions:C,preserveWhiteSpace:T,onSerialize:M,onIframeLoad:P,iframeLoadTimeout:E,onBlockedImageLoad:R,onStylesheetLoad:q,stylesheetLoadTimeout:V,keepIframeSrcFn:Q=()=>!1,ignoreCSSAttributes:G=new Set([])}=t||{};return hc(e,{doc:e,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:b===!1?{}:b,maskAttributeFn:j,maskTextFn:S,maskInputFn:_,slimDOMOptions:N===!0||N==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:N==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:N===!1?{}:N,dataURLOptions:C,inlineImages:g,recordCanvas:y,preserveWhiteSpace:T,onSerialize:M,onIframeLoad:P,iframeLoadTimeout:E,onBlockedImageLoad:R,onStylesheetLoad:q,stylesheetLoadTimeout:V,keepIframeSrcFn:Q,newlyAddedElement:!1,ignoreCSSAttributes:G})}function nr(e,t,n=document){const s={capture:!0,passive:!0};return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}const sc=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let OC={map:{},getId(){return console.error(sc),-1},getNode(){return console.error(sc),null},removeNodeFromMap(){console.error(sc)},has(){return console.error(sc),!1},reset(){console.error(sc)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(OC=new Proxy(OC,{get(e,t,n){return t==="map"&&console.error(sc),Reflect.get(e,t,n)}}));function zu(e,t,n={}){let s=null,i=0;return function(...a){const o=Date.now();!i&&n.leading===!1&&(i=o);const c=t-(o-i),d=this;c<=0||c>t?(s&&(xW(s),s=null),i=o,e.apply(d,a)):!s&&n.trailing!==!1&&(s=Eg(()=>{i=n.leading===!1?0:Date.now(),s=null,e.apply(d,a)},c))}}function FA(e,t,n,s,i=window){const a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,s?n:{set(o){Eg(()=>{n.set.call(this,o)},0),a&&a.set&&a.set.call(this,o)}}),()=>FA(e,t,a||{},!0)}function xj(e,t,n){try{if(!(t in e))return()=>{};const s=e[t],i=n(s);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:s}})),e[t]=i,()=>{e[t]=s}}catch{return()=>{}}}let Dp=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Dp=()=>new Date().getTime());function UA(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function zA(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function BA(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function VA(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Lr(e,t,n,s,i){if(!e)return!1;const a=VA(e);if(!a)return!1;const o=uc(t,n);if(!i){const h=s&&a.matches(s);return o(a)&&!h}const c=$o(a,o);let d=-1;return c<0?!1:(s&&(d=$o(a,uc(null,s))),c>-1&&d<0?!0:c<d)}function uW(e,t){return t.getId(e)!==-1}function A0(e,t){return t.getId(e)===Uu}function WA(e,t){if(bu(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?WA(e.parentNode,t):!0:!0}function lb(e){return!!e.changedTouches}function hW(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function HA(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function qA(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function cb(e){return!!e?.shadowRoot}class fW{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let s;return n===void 0?s=this.id++:s=n,this.styleIDMap.set(t,s),this.idStyleMap.set(s,t),s}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function GA(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function mW(e){let t=e,n;for(;n=GA(t);)t=n;return t}function pW(e){const t=e.ownerDocument;if(!t)return!1;const n=mW(e);return t.contains(n)}function KA(e){const t=e.ownerDocument;return t?t.contains(e)||pW(e):!1}const MC={};function yj(e){const t=MC[e];if(t)return t;const n=window.document;let s=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(s=a[e]),n.head.removeChild(i)}catch{}return MC[e]=s.bind(window)}function gW(...e){return yj("requestAnimationFrame")(...e)}function Eg(...e){return yj("setTimeout")(...e)}function xW(...e){return yj("clearTimeout")(...e)}var rt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(rt||{}),Xe=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Xe||{}),tr=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(tr||{}),Ai=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ai||{}),ic=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ic||{});function vj(e){try{return e.contentDocument}catch{}}function yW(e){try{return e.contentWindow}catch{}}function DC(e){return"__ln"in e}class vW{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let s=0;s<t;s++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&DC(t.previousSibling)){const s=t.previousSibling.__ln.next;n.next=s,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,s&&(s.previous=n)}else if(t.nextSibling&&DC(t.nextSibling)&&t.nextSibling.__ln.previous){const s=t.nextSibling.__ln.previous;n.previous=s,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,s&&(s.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const LC=(e,t)=>`${e}@${t}`;class bW{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,s=new vW,i=d=>{let h=d,f=Uu;for(;f===Uu;)h=h&&h.nextSibling,f=h&&this.mirror.getId(h);return f},a=d=>{if(!d.parentNode||!KA(d))return;const h=bu(d.parentNode)?this.mirror.getId(GA(d)):this.mirror.getId(d.parentNode),f=i(d);if(h===-1||f===-1)return s.addNode(d);const m=hc(d,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:g=>{HA(g,this.mirror)&&!Lr(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(g),qA(g,this.mirror)&&this.stylesheetManager.trackLinkElement(g),cb(d)&&this.shadowDomManager.addShadowRoot(d.shadowRoot,this.doc)},onIframeLoad:(g,y)=>{Lr(g,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(g,y),g.contentWindow&&this.canvasManager.addWindow(g.contentWindow),this.shadowDomManager.observeAttachShadow(g))},onStylesheetLoad:(g,y)=>{this.stylesheetManager.attachLinkElement(g,y)},onBlockedImageLoad:(g,y,{width:b,height:j})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:y.id,attributes:{style:{width:`${b}px`,height:`${j}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});m&&(t.push({parentId:h,nextId:f,node:m}),n.add(m.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const d of this.movedSet)$C(this.removes,d,this.mirror)&&!this.movedSet.has(d.parentNode)||a(d);for(const d of this.addedSet)!FC(this.droppedSet,d)&&!$C(this.removes,d,this.mirror)||FC(this.movedSet,d)?a(d):this.droppedSet.add(d);let o=null;for(;s.length;){let d=null;if(o){const h=this.mirror.getId(o.value.parentNode),f=i(o.value);h!==-1&&f!==-1&&(d=o)}if(!d){let h=s.tail;for(;h;){const f=h;if(h=h.previous,f){const m=this.mirror.getId(f.value.parentNode);if(i(f.value)===-1)continue;if(m!==-1){d=f;break}else{const y=f.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const b=y.parentNode.host;if(this.mirror.getId(b)!==-1){d=f;break}}}}}}if(!d){for(;s.head;)s.removeNode(s.head.value);break}o=d.previous,s.removeNode(d.value),a(d.value)}const c={texts:this.texts.map(d=>({id:this.mirror.getId(d.node),value:d.value})).filter(d=>!n.has(d.id)).filter(d=>this.mirror.has(d.id)),attributes:this.attributes.map(d=>{const{attributes:h}=d;if(typeof h.style=="string"){const f=JSON.stringify(d.styleDiff),m=JSON.stringify(d._unchangedStyles);f.length<h.style.length&&(f+m).split("var(").length===h.style.split("var(").length&&(h.style=d.styleDiff)}return{id:this.mirror.getId(d.node),attributes:h}}).filter(d=>!n.has(d.id)).filter(d=>this.mirror.has(d.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!A0(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Lr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Lc(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,VA(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let s=t.attributeName,i=t.target.getAttribute(s);if(s==="value"){const o=pj(n),c=n.tagName;i=Op(n,c,o);const d=kg({maskInputOptions:this.maskInputOptions,tagName:c,type:o}),h=Lc(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,d);i=Fu({isMasked:h,element:n,value:i,maskInputFn:this.maskInputFn})}if(Lr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let a=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!vj(n))s="rr_src";else return;if(a||(a={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(t.target,a)),s==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!$A(n.tagName,s)&&(a.attributes[s]=LA(this.doc,Dc(n.tagName),Dc(s),i,n,this.maskAttributeFn),s==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const c of Array.from(n.style)){const d=n.style.getPropertyValue(c),h=n.style.getPropertyPriority(c);d!==o.style.getPropertyValue(c)||h!==o.style.getPropertyPriority(c)?h===""?a.styleDiff[c]=d:a.styleDiff[c]=[d,h]:a._unchangedStyles[c]=[d,h]}for(const c of Array.from(o.style))n.style.getPropertyValue(c)===""&&(a.styleDiff[c]=!1)}break}case"childList":{if(Lr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const s=this.mirror.getId(n),i=bu(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Lr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||A0(n,this.mirror)||!uW(n,this.mirror)||(this.addedSet.has(n)?(db(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&s===-1||WA(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[LC(s,i)]?db(this.movedSet,n):this.removes.push({parentId:i,id:s,isShadow:bu(t.target)&&wu(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(A0(t,this.mirror))return;this.movedSet.add(t);let s=null;n&&this.mirror.hasNode(n)&&(s=this.mirror.getId(n)),s&&s!==-1&&(this.movedMap[LC(this.mirror.getId(t),s)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Lr(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(s=>this.genAdds(s)),cb(t)&&t.shadowRoot.childNodes.forEach(s=>{this.processedNodeManager.add(s,this),this.genAdds(s,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function db(e,t){e.delete(t),t.childNodes?.forEach(n=>db(e,n))}function $C(e,t,n){return e.length===0?!1:wW(e,t,n)}function wW(e,t,n){let s=t.parentNode;for(;s;){const i=n.getId(s);if(e.some(a=>a.id===i))return!0;s=s.parentNode}return!1}function FC(e,t){return e.size===0?!1:YA(e,t)}function YA(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:YA(e,n):!1}let ju;function jW(e){ju=e}function SW(){ju=void 0}const ut=e=>ju?(...n)=>{try{return e(...n)}catch(s){if(ju&&ju(s)===!0)return()=>{};throw s}}:e,fc=[];function Ch(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function JA(e,t){const n=new bW;fc.push(n),n.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const i=window?.Zone?.__symbol__?.("MutationObserver");i&&window[i]&&(s=window[i]);const a=new s(ut(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function NW({mousemoveCb:e,sampling:t,doc:n,mirror:s}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],c;const d=zu(ut(m=>{const g=Date.now()-c;e(o.map(y=>(y.timeOffset-=g,y)),m),o=[],c=null}),a),h=ut(zu(ut(m=>{const g=Ch(m),{clientX:y,clientY:b}=lb(m)?m.changedTouches[0]:m;c||(c=Dp()),o.push({x:y,y:b,id:s.getId(g),timeOffset:Dp()-c}),d(typeof DragEvent<"u"&&m instanceof DragEvent?Xe.Drag:m instanceof MouseEvent?Xe.MouseMove:Xe.TouchMove)}),i,{trailing:!1})),f=[nr("mousemove",h,n),nr("touchmove",h,n),nr("drag",h,n)];return ut(()=>{f.forEach(m=>m())})}function _W({mouseInteractionCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const c=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,d=[];let h=null;const f=m=>g=>{const y=Ch(g);if(Lr(y,s,i,a,!0))return;let b=null,j=m;if("pointerType"in g){switch(g.pointerType){case"mouse":b=Ai.Mouse;break;case"touch":b=Ai.Touch;break;case"pen":b=Ai.Pen;break}b===Ai.Touch?tr[m]===tr.MouseDown?j="TouchStart":tr[m]===tr.MouseUp&&(j="TouchEnd"):Ai.Pen}else lb(g)&&(b=Ai.Touch);b!==null?(h=b,(j.startsWith("Touch")&&b===Ai.Touch||j.startsWith("Mouse")&&b===Ai.Mouse)&&(b=null)):tr[m]===tr.Click&&(b=h,h=null);const S=lb(g)?g.changedTouches[0]:g;if(!S)return;const _=n.getId(y),{clientX:N,clientY:C}=S;ut(e)({type:tr[j],id:_,x:N,y:C,...b!==null&&{pointerType:b}})};return Object.keys(tr).filter(m=>Number.isNaN(Number(m))&&!m.endsWith("_Departed")&&c[m]!==!1).forEach(m=>{let g=Dc(m);const y=f(m);if(window.PointerEvent)switch(tr[m]){case tr.MouseDown:case tr.MouseUp:g=g.replace("mouse","pointer");break;case tr.TouchStart:case tr.TouchEnd:return}d.push(nr(g,y,t))}),ut(()=>{d.forEach(m=>m())})}function XA({scrollCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,sampling:o}){const c=ut(zu(ut(d=>{const h=Ch(d);if(!h||Lr(h,s,i,a,!0))return;const f=n.getId(h);if(h===t&&t.defaultView){const m=UA(t.defaultView);e({id:f,x:m.left,y:m.top})}else e({id:f,x:h.scrollLeft,y:h.scrollTop})}),o.scroll||100));return nr("scroll",c,t)}function kW({viewportResizeCb:e},{win:t}){let n=-1,s=-1;const i=ut(zu(ut(()=>{const a=zA(),o=BA();(n!==a||s!==o)&&(e({width:Number(o),height:Number(a)}),n=a,s=o)}),200));return nr("resize",i,t)}const CW=["INPUT","TEXTAREA","SELECT"],UC=new WeakMap;function EW({inputCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,ignoreClass:o,ignoreSelector:c,maskInputOptions:d,maskInputFn:h,sampling:f,userTriggeredOnInput:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:j}){function S(E){let R=Ch(E);const q=E.isTrusted,V=R&&ab(R.tagName);if(V==="OPTION"&&(R=R.parentElement),!R||!V||CW.indexOf(V)<0||Lr(R,s,i,a,!0))return;const Q=R;if(Q.classList.contains(o)||c&&Q.matches(c))return;const G=pj(R);let A=Op(Q,V,G),J=!1;const $=kg({maskInputOptions:d,tagName:V,type:G}),F=Lc(R,g,b,y,j,$);(G==="radio"||G==="checkbox")&&(J=R.checked),A=Fu({isMasked:F,element:R,value:A,maskInputFn:h}),_(R,m?{text:A,isChecked:J,userTriggered:q}:{text:A,isChecked:J});const B=R.name;G==="radio"&&B&&J&&t.querySelectorAll(`input[type="radio"][name="${B}"]`).forEach(O=>{if(O!==R){const Z=Fu({isMasked:F,element:O,value:Op(O,V,G),maskInputFn:h});_(O,m?{text:Z,isChecked:!J,userTriggered:!1}:{text:Z,isChecked:!J})}})}function _(E,R){const q=UC.get(E);if(!q||q.text!==R.text||q.isChecked!==R.isChecked){UC.set(E,R);const V=n.getId(E);ut(e)({...R,id:V})}}const C=(f.input==="last"?["change"]:["input","change"]).map(E=>nr(E,ut(S),t)),T=t.defaultView;if(!T)return()=>{C.forEach(E=>E())};const M=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),P=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&C.push(...P.map(E=>FA(E[0],E[1],{set(){ut(S)({target:this,isTrusted:!1})}},!1,T))),ut(()=>{C.forEach(E=>E())})}function Lp(e){const t=[];function n(s,i){if(xm("CSSGroupingRule")&&s.parentRule instanceof CSSGroupingRule||xm("CSSMediaRule")&&s.parentRule instanceof CSSMediaRule||xm("CSSSupportsRule")&&s.parentRule instanceof CSSSupportsRule||xm("CSSConditionRule")&&s.parentRule instanceof CSSConditionRule){const o=Array.from(s.parentRule.cssRules).indexOf(s);i.unshift(o)}else if(s.parentStyleSheet){const o=Array.from(s.parentStyleSheet.cssRules).indexOf(s);i.unshift(o)}return i}return n(e,t)}function Ca(e,t,n){let s,i;return e?(e.ownerNode?s=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:s}):{}}function TW({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:s}){if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return()=>{};const i=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ut((f,m,g)=>{const[y,b]=g,{id:j,styleId:S}=Ca(m,t,n.styleMirror);return(j&&j!==-1||S&&S!==-1)&&e({id:j,styleId:S,adds:[{rule:y,index:b}]}),f.apply(m,g)})});const a=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:ut((f,m,g)=>{const[y]=g,{id:b,styleId:j}=Ca(m,t,n.styleMirror);return(b&&b!==-1||j&&j!==-1)&&e({id:b,styleId:j,removes:[{index:y}]}),f.apply(m,g)})});let o;s.CSSStyleSheet.prototype.replace&&(o=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:ut((f,m,g)=>{const[y]=g,{id:b,styleId:j}=Ca(m,t,n.styleMirror);return(b&&b!==-1||j&&j!==-1)&&e({id:b,styleId:j,replace:y}),f.apply(m,g)})}));let c;s.CSSStyleSheet.prototype.replaceSync&&(c=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:ut((f,m,g)=>{const[y]=g,{id:b,styleId:j}=Ca(m,t,n.styleMirror);return(b&&b!==-1||j&&j!==-1)&&e({id:b,styleId:j,replaceSync:y}),f.apply(m,g)})}));const d={};ym("CSSGroupingRule")?d.CSSGroupingRule=s.CSSGroupingRule:(ym("CSSMediaRule")&&(d.CSSMediaRule=s.CSSMediaRule),ym("CSSConditionRule")&&(d.CSSConditionRule=s.CSSConditionRule),ym("CSSSupportsRule")&&(d.CSSSupportsRule=s.CSSSupportsRule));const h={};return Object.entries(d).forEach(([f,m])=>{h[f]={insertRule:m.prototype.insertRule,deleteRule:m.prototype.deleteRule},m.prototype.insertRule=new Proxy(h[f].insertRule,{apply:ut((g,y,b)=>{const[j,S]=b,{id:_,styleId:N}=Ca(y.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||N&&N!==-1)&&e({id:_,styleId:N,adds:[{rule:j,index:[...Lp(y),S||0]}]}),g.apply(y,b)})}),m.prototype.deleteRule=new Proxy(h[f].deleteRule,{apply:ut((g,y,b)=>{const[j]=b,{id:S,styleId:_}=Ca(y.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[...Lp(y),j]}]}),g.apply(y,b)})})}),ut(()=>{s.CSSStyleSheet.prototype.insertRule=i,s.CSSStyleSheet.prototype.deleteRule=a,o&&(s.CSSStyleSheet.prototype.replace=o),c&&(s.CSSStyleSheet.prototype.replaceSync=c),Object.entries(d).forEach(([f,m])=>{m.prototype.insertRule=h[f].insertRule,m.prototype.deleteRule=h[f].deleteRule})})}function QA({mirror:e,stylesheetManager:t},n){let s=null;n.nodeName==="#document"?s=e.getId(n):s=e.getId(n.host);const i=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,a=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return s===null||s===-1||!i||!a?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){return a.get?.call(this)},set(o){const c=a.set?.call(this,o);if(s!==null&&s!==-1)try{t.adoptStyleSheets(o,s)}catch{}return c}}),ut(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function PW({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:s},{win:i}){const a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:ut((c,d,h)=>{const[f,m,g]=h;if(n.has(f))return a.apply(d,[f,m,g]);const{id:y,styleId:b}=Ca(d.parentRule?.parentStyleSheet,t,s.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,set:{property:f,value:m,priority:g},index:Lp(d.parentRule)}),c.apply(d,h)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:ut((c,d,h)=>{const[f]=h;if(n.has(f))return o.apply(d,[f]);const{id:m,styleId:g}=Ca(d.parentRule?.parentStyleSheet,t,s.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,remove:{property:f},index:Lp(d.parentRule)}),c.apply(d,h)})}),ut(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=o})}function RW({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:s,mirror:i,sampling:a,doc:o}){const c=ut(h=>zu(ut(f=>{const m=Ch(f);if(!m||Lr(m,t,n,s,!0))return;const{currentTime:g,volume:y,muted:b,playbackRate:j}=m;e({type:h,id:i.getId(m),currentTime:g,volume:y,muted:b,playbackRate:j})}),a.media||500)),d=[nr("play",c(ic.Play),o),nr("pause",c(ic.Pause),o),nr("seeked",c(ic.Seeked),o),nr("volumechange",c(ic.VolumeChange),o),nr("ratechange",c(ic.RateChange),o)];return ut(()=>{d.forEach(h=>h())})}function AW({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const s=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(d,h,f){const m=new a(d,h,f);return i.set(m,{family:d,buffer:typeof h!="string",descriptors:f,fontSource:typeof h=="string"?h:JSON.stringify(Array.from(new Uint8Array(h)))}),m};const o=xj(t.fonts,"add",function(c){return function(d){return Eg(ut(()=>{const h=i.get(d);h&&(e(h),i.delete(d))}),0),c.apply(this,[d])}});return s.push(()=>{n.FontFace=a}),s.push(o),ut(()=>{s.forEach(c=>c())})}function IW(e){const{doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,selectionCb:o}=e;let c=!0;const d=ut(()=>{const h=t.getSelection();if(!h||c&&h?.isCollapsed)return;c=h.isCollapsed||!1;const f=[],m=h.rangeCount||0;for(let g=0;g<m;g++){const y=h.getRangeAt(g),{startContainer:b,startOffset:j,endContainer:S,endOffset:_}=y;Lr(b,s,i,a,!0)||Lr(S,s,i,a,!0)||f.push({start:n.getId(b),startOffset:j,end:n.getId(S),endOffset:_})}o({ranges:f})});return d(),nr("selectionchange",d)}function OW({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:xj(n.customElements,"define",function(i){return function(a,o,c){try{t({define:{name:a}})}catch{}return i.apply(this,[a,o,c])}})}function MW(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let s;e.recordDOM&&(s=JA(e,e.doc));const i=NW(e),a=_W(e),o=XA(e),c=kW(e,{win:n}),d=EW(e),h=RW(e);let f=()=>{},m=()=>{},g=()=>{},y=()=>{};e.recordDOM&&(f=TW(e,{win:n}),m=QA(e,e.doc),g=PW(e,{win:n}),e.collectFonts&&(y=AW(e)));const b=IW(e),j=OW(e),S=[];for(const _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return ut(()=>{fc.forEach(_=>_.reset()),s?.disconnect(),i(),a(),o(),c(),d(),h(),f(),m(),g(),y(),b(),j(),S.forEach(_=>_())})}function xm(e){return typeof window[e]<"u"}function ym(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ub{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,s,i){const a=s||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let c=a.get(n);return c||(c=this.generateIdFn(),a.set(n,c),o.set(c,n)),c}getIds(t,n){const s=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(a=>this.getId(t,a,s,i))}getRemoteId(t,n,s){const i=s||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const a=i.get(n);return a||-1}getRemoteIds(t,n){const s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,s))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class DW{constructor(){this.crossOriginIframeMirror=new ub(gj),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class LW{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ub(gj),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ub(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const s=vj(t);s&&s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(s))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const a=this.transformCrossOriginEvent(i,n.data.event);a&&this.wrappedEmit(a,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case rt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:rt.IncrementalSnapshot,data:{source:Xe.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case rt.Meta:case rt.Load:case rt.DomContentLoaded:return!1;case rt.Plugin:return n;case rt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case rt.IncrementalSnapshot:switch(n.data.source){case Xe.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Xe.Drag:case Xe.TouchMove:case Xe.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Xe.ViewportResize:return!1;case Xe.MediaInteraction:case Xe.MouseInteraction:case Xe.Scroll:case Xe.CanvasMutation:case Xe.Input:return this.replaceIds(n.data,t,["id"]),n;case Xe.StyleSheetRule:case Xe.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Xe.Font:return n;case Xe.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case Xe.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,s,i){for(const a of i)!Array.isArray(n[a])&&typeof n[a]!="number"||(Array.isArray(n[a])?n[a]=t.getIds(s,n[a]):n[a]=t.getId(s,n[a]));return n}replaceIds(t,n,s){return this.replace(this.crossOriginIframeMirror,t,n,s)}replaceStyleIds(t,n,s){return this.replace(this.crossOriginIframeStyleMirror,t,n,s)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(s=>{this.replaceIdOnNode(s,n)})}patchRootIdOnNode(t,n){t.type!==un.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(s=>{this.patchRootIdOnNode(s,n)})}}class $W{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class FW{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!wu(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const s=JA({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>s.disconnect()),this.restoreHandlers.push(XA({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Eg(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(QA({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=vj(t),s=yW(t);!n||!s||this.patchAttachShadow(s.Element,n)}patchAttachShadow(t,n){const s=this;this.restoreHandlers.push(xj(t.prototype,"attachShadow",function(i){return function(a){const o=i.call(this,a);return this.shadowRoot&&KA(this)&&s.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var zC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vm=0;vm<zC.length;vm++)UW[zC.charCodeAt(vm)]=vm;class BC{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class zW{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new fW,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const s={id:n,styleIds:[]},i=[];for(const a of t){let o;this.styleMirror.has(a)?o=this.styleMirror.getId(a):(o=this.styleMirror.add(a),i.push({styleId:o,rules:Array.from(a.rules||CSSRule,(c,d)=>({rule:RA(c),index:d}))})),s.styleIds.push(o)}i.length>0&&(s.styles=i),this.adoptedStyleSheetCb(s)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class BW{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const s=this.nodeMap.get(t);return s&&Array.from(s).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,gW(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let qt,$p;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Cs=U7();function Bi(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:s,blockClass:i="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:c="rr-ignore",ignoreSelector:d=null,maskAllText:h=!1,maskTextClass:f="rr-mask",unmaskTextClass:m=null,maskTextSelector:g=null,unmaskTextSelector:y=null,inlineStylesheet:b=!0,maskAllInputs:j,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:N,maskInputFn:C,maskTextFn:T,maxCanvasSize:M=null,packFn:P,sampling:E={},dataURLOptions:R={},mousemoveWait:q,recordDOM:V=!0,recordCanvas:Q=!1,recordCrossOriginIframes:G=!1,recordAfter:A=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:J=!1,collectFonts:$=!1,inlineImages:F=!1,plugins:B,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:Z=new Set([]),errorHandler:H,onMutation:U,getCanvasManager:D}=e;jW(H);const ee=G?window.parent===window:!0;let z=!1;if(!ee)try{window.parent.document&&(z=!1)}catch{z=!0}if(ee&&!t)throw new Error("emit function is required");if(!ee&&!z)return()=>{};q!==void 0&&E.mousemove===void 0&&(E.mousemove=q),Cs.reset();const L=j===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},X=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};hW();let K,se=0;const ue=Ze=>{for(const Lt of B||[])Lt.eventProcessor&&(Ze=Lt.eventProcessor(Ze));return P&&!z&&(Ze=P(Ze)),Ze};qt=(Ze,Lt)=>{const $e=Ze;if($e.timestamp=Dp(),fc[0]?.isFrozen()&&$e.type!==rt.FullSnapshot&&!($e.type===rt.IncrementalSnapshot&&$e.data.source===Xe.Mutation)&&fc.forEach(yt=>yt.unfreeze()),ee)t?.(ue($e),Lt);else if(z){const yt={type:"rrweb",event:ue($e),origin:window.location.origin,isCheckout:Lt};window.parent.postMessage(yt,"*")}if($e.type===rt.FullSnapshot)K=$e,se=0;else if($e.type===rt.IncrementalSnapshot){if($e.data.source===Xe.Mutation&&$e.data.isAttachIframe)return;se++;const yt=s&&se>=s,tt=n&&K&&$e.timestamp-K.timestamp>n;(yt||tt)&&an(!0)}};const de=Ze=>{qt({type:rt.IncrementalSnapshot,data:{source:Xe.Mutation,...Ze}})},le=Ze=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.Scroll,...Ze}}),je=Ze=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.CanvasMutation,...Ze}}),qe=Ze=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.AdoptedStyleSheet,...Ze}}),ot=new zW({mutationCb:de,adoptedStyleSheetCb:qe}),kt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new DW:new LW({mirror:Cs,mutationCb:de,stylesheetManager:ot,recordCrossOriginIframes:G,wrappedEmit:qt});for(const Ze of B||[])Ze.getMirror&&Ze.getMirror({nodeMirror:Cs,crossOriginIframeMirror:kt.crossOriginIframeMirror,crossOriginIframeStyleMirror:kt.crossOriginIframeStyleMirror});const rn=new BW,sn=WW(D,{mirror:Cs,win:window,mutationCb:Ze=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.CanvasMutation,...Ze}}),recordCanvas:Q,blockClass:i,blockSelector:a,unblockSelector:o,maxCanvasSize:M,sampling:E.canvas,dataURLOptions:R,errorHandler:H}),Rr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new $W:new FW({mutationCb:de,scrollCb:le,bypassOptions:{onMutation:U,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:h,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:L,dataURLOptions:R,maskAttributeFn:N,maskTextFn:T,maskInputFn:C,recordCanvas:Q,inlineImages:F,sampling:E,slimDOMOptions:X,iframeManager:kt,stylesheetManager:ot,canvasManager:sn,keepIframeSrcFn:O,processedNodeManager:rn,ignoreCSSAttributes:Z},mirror:Cs}),an=(Ze=!1)=>{if(!V)return;qt({type:rt.Meta,data:{href:window.location.href,width:BA(),height:zA()}},Ze),ot.reset(),Rr.init(),fc.forEach($e=>$e.lock());const Lt=dW(document,{mirror:Cs,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:h,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskAllInputs:L,maskAttributeFn:N,maskInputFn:C,maskTextFn:T,slimDOM:X,dataURLOptions:R,recordCanvas:Q,inlineImages:F,onSerialize:$e=>{HA($e,Cs)&&kt.addIframe($e),qA($e,Cs)&&ot.trackLinkElement($e),cb($e)&&Rr.addShadowRoot($e.shadowRoot,document)},onIframeLoad:($e,yt)=>{kt.attachIframe($e,yt),$e.contentWindow&&sn.addWindow($e.contentWindow),Rr.observeAttachShadow($e)},onStylesheetLoad:($e,yt)=>{ot.attachLinkElement($e,yt)},onBlockedImageLoad:($e,yt,{width:tt,height:cr})=>{de({adds:[],removes:[],texts:[],attributes:[{id:yt.id,attributes:{style:{width:`${tt}px`,height:`${cr}px`}}}]})},keepIframeSrcFn:O,ignoreCSSAttributes:Z});if(!Lt)return console.warn("Failed to snapshot the document");qt({type:rt.FullSnapshot,data:{node:Lt,initialOffset:UA(window)}}),fc.forEach($e=>$e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ot.adoptStyleSheets(document.adoptedStyleSheets,Cs.getId(document))};$p=an;try{const Ze=[],Lt=yt=>ut(MW)({onMutation:U,mutationCb:de,mousemoveCb:(tt,cr)=>qt({type:rt.IncrementalSnapshot,data:{source:cr,positions:tt}}),mouseInteractionCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.MouseInteraction,...tt}}),scrollCb:le,viewportResizeCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.ViewportResize,...tt}}),inputCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.Input,...tt}}),mediaInteractionCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.MediaInteraction,...tt}}),styleSheetRuleCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.StyleSheetRule,...tt}}),styleDeclarationCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.StyleDeclaration,...tt}}),canvasMutationCb:je,fontCb:tt=>qt({type:rt.IncrementalSnapshot,data:{source:Xe.Font,...tt}}),selectionCb:tt=>{qt({type:rt.IncrementalSnapshot,data:{source:Xe.Selection,...tt}})},customElementCb:tt=>{qt({type:rt.IncrementalSnapshot,data:{source:Xe.CustomElement,...tt}})},blockClass:i,ignoreClass:c,ignoreSelector:d,maskAllText:h,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,maskInputOptions:L,inlineStylesheet:b,sampling:E,recordDOM:V,recordCanvas:Q,inlineImages:F,userTriggeredOnInput:J,collectFonts:$,doc:yt,maskAttributeFn:N,maskInputFn:C,maskTextFn:T,keepIframeSrcFn:O,blockSelector:a,unblockSelector:o,slimDOMOptions:X,dataURLOptions:R,mirror:Cs,iframeManager:kt,stylesheetManager:ot,shadowDomManager:Rr,processedNodeManager:rn,canvasManager:sn,ignoreCSSAttributes:Z,plugins:B?.filter(tt=>tt.observer)?.map(tt=>({observer:tt.observer,options:tt.options,callback:cr=>qt({type:rt.Plugin,data:{plugin:tt.name,payload:cr}})}))||[]},{});kt.addLoadListener(yt=>{try{Ze.push(Lt(yt.contentDocument))}catch(tt){console.warn(tt)}});const $e=()=>{an(),Ze.push(Lt(document))};return document.readyState==="interactive"||document.readyState==="complete"?$e():(Ze.push(nr("DOMContentLoaded",()=>{qt({type:rt.DomContentLoaded,data:{}}),A==="DOMContentLoaded"&&$e()})),Ze.push(nr("load",()=>{qt({type:rt.Load,data:{}}),A==="load"&&$e()},window))),()=>{Ze.forEach(yt=>yt()),rn.destroy(),$p=void 0,SW()}}catch(Ze){console.warn(Ze)}}function VW(e){if(!$p)throw new Error("please take full snapshot after start recording");$p(e)}Bi.mirror=Cs;Bi.takeFullSnapshot=VW;function WW(e,t){try{return e?e(t):new BC}catch{return console.warn("Unable to initialize CanvasManager"),new BC}}var VC;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(VC||(VC={}));const HW=3,qW=5;function bj(e){return e>9999999999?e:e*1e3}function I0(e){return e>9999999999?e/1e3:e}function Eh(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:rt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Is(t,10,1e3)}}),t.category==="console")))}const GW="button,a";function ZA(e){return e.closest(GW)||e}function eI(e){const t=tI(e);return!t||!(t instanceof Element)?t:ZA(t)}function tI(e){return KW(e)?e.target:e}function KW(e){return typeof e=="object"&&!!e&&"target"in e}let Ea;function YW(e){return Ea||(Ea=[],JW()),Ea.push(e),()=>{const t=Ea?Ea.indexOf(e):-1;t>-1&&Ea.splice(t,1)}}function JW(){br(At,"open",function(e){return function(...t){if(Ea)try{Ea.forEach(n=>n())}catch{}return e.apply(At,t)}})}const XW=new Set([Xe.Mutation,Xe.StyleSheetRule,Xe.StyleDeclaration,Xe.AdoptedStyleSheet,Xe.CanvasMutation,Xe.Selection,Xe.MediaInteraction]);function QW(e,t,n){e.handleClick(t,n)}class ZW{constructor(t,n,s=Eh){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=s}addListeners(){const t=YW(()=>{this._lastMutation=WC()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(tH(n,this._ignoreSelector)||!nH(t))return;const s={timestamp:I0(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===s.node&&Math.abs(i.timestamp-s.timestamp)<1)||(this._clicks.push(s),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=I0(t)}registerScroll(t=Date.now()){this._lastScroll=I0(t)}registerClick(t){const n=ZA(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=WC();this._clicks.forEach(s=>{!s.mutationAfter&&this._lastMutation&&(s.mutationAfter=s.timestamp<=this._lastMutation?this._lastMutation-s.timestamp:void 0),!s.scrollAfter&&this._lastScroll&&(s.scrollAfter=s.timestamp<=this._lastScroll?this._lastScroll-s.timestamp:void 0),s.timestamp+this._timeout<=n&&t.push(s)});for(const s of t){const i=this._clicks.indexOf(s);i>-1&&(this._generateBreadcrumbs(s),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,s=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,a=!s&&!i,{clickCount:o,clickBreadcrumb:c}=t;if(a){const d=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,h=d<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:{...c.data,url:At.location.href,route:n.getCurrentRoute(),timeAfterClickMs:d,endReason:h,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const d={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:{...c.data,url:At.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,d)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=kh(()=>this._checkClicks(),1e3)}}const eH=["A","BUTTON","INPUT"];function tH(e,t){return!!(!eH.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function nH(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function WC(){return Date.now()/1e3}function rH(e,t){try{if(!sH(t))return;const{source:n}=t.data;if(XW.has(n)&&e.registerMutation(t.timestamp),n===Xe.Scroll&&e.registerScroll(t.timestamp),iH(t)){const{type:s,id:i}=t.data,a=Bi.mirror.getNode(i);a instanceof HTMLElement&&s===tr.Click&&e.registerClick(a)}}catch{}}function sH(e){return e.type===HW}function iH(e){return e.data.source===Xe.MouseInteraction}function si(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var wj=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(wj||{});const aH=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function oH(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(aH.has(n)){let s=n;(n==="data-testid"||n==="data-test-id")&&(s="testId"),t[s]=e[n]}return t}const lH=e=>t=>{if(!e.isEnabled())return;const n=cH(t);if(!n)return;const s=t.name==="click",i=s?t.event:void 0;s&&e.clickDetector&&i?.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&QW(e.clickDetector,n,eI(t.event)),Eh(e,n)};function nI(e,t){const n=Bi.mirror.getId(e),s=n&&Bi.mirror.getNode(n),i=s&&Bi.mirror.getMeta(s),a=i&&uH(i)?i:null;return{message:t,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(o=>o.type===wj.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:oH(a.attributes)}}:{}}}function cH(e){const{target:t,message:n}=dH(e);return si({category:`ui.${e.name}`,...nI(t,n)})}function dH(e){const t=e.name==="click";let n,s=null;try{s=t?eI(e.event):tI(e.event),n=jr(s,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:s,message:n}}function uH(e){return e.type===wj.Element}function hH(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=fH(t);n&&Eh(e,n)}function fH(e){const{metaKey:t,shiftKey:n,ctrlKey:s,altKey:i,key:a,target:o}=e;if(!o||mH(o)||!a)return null;const c=t||s||i,d=a.length===1;if(!c&&d)return null;const h=jr(o,{maxStringLength:200})||"<unknown>",f=nI(o,h);return si({category:"ui.keyDown",message:h,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:s,altKey:i,key:a}})}function mH(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const pH={resource:bH,paint:yH,navigation:vH};function O0(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function gH(e){return e.map(xH).filter(Boolean)}function xH(e){const t=pH[e.entryType];return t?t(e):null}function $c(e){return((Cr()||At.performance.timeOrigin)+e)/1e3}function yH(e){const{duration:t,entryType:n,name:s,startTime:i}=e,a=$c(i);return{type:n,name:s,start:a,end:a+t,data:void 0}}function vH(e){const{entryType:t,name:n,decodedBodySize:s,duration:i,domComplete:a,encodedBodySize:o,domContentLoadedEventStart:c,domContentLoadedEventEnd:d,domInteractive:h,loadEventStart:f,loadEventEnd:m,redirectCount:g,startTime:y,transferSize:b,type:j}=e;return i===0?null:{type:`${t}.${j}`,start:$c(y),end:$c(a),name:n,data:{size:b,decodedBodySize:s,encodedBodySize:o,duration:i,domInteractive:h,domContentLoadedEventStart:c,domContentLoadedEventEnd:d,loadEventStart:f,loadEventEnd:m,domComplete:a,redirectCount:g}}}function bH(e){const{entryType:t,initiatorType:n,name:s,responseEnd:i,startTime:a,decodedBodySize:o,encodedBodySize:c,responseStatus:d,transferSize:h}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:$c(a),end:$c(i),name:s,data:{size:h,statusCode:d,decodedBodySize:o,encodedBodySize:c}}}function wH(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return jj(e,"largest-contentful-paint",n)}function jH(e){return e.sources!==void 0}function SH(e){const t=[],n=[];for(const s of e.entries)if(jH(s)){const i=[];for(const a of s.sources)if(a.node){n.push(a.node);const o=Bi.mirror.getId(a.node);o&&i.push(o)}t.push({value:s.value,nodeIds:i.length?i:void 0})}return jj(e,"cumulative-layout-shift",n,t)}function NH(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return jj(e,"interaction-to-next-paint",n)}function jj(e,t,n,s){const i=e.value,a=e.rating,o=$c(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:n?n.map(c=>Bi.mirror.getId(c)):void 0,attributions:s}}}function _H(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const s=[];return["navigation","paint","resource"].forEach(i=>{s.push(el(i,n))}),s.push(dj(O0(wH,e)),cj(O0(SH,e)),gA(O0(NH,e))),()=>{s.forEach(i=>i())}}const Ke=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,kH='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function CH(){const e=new Blob([kH]);return URL.createObjectURL(e)}const HC=["log","warn","error"],cp="[Replay] ";function M0(e,t="info"){za({category:"console",data:{logger:"replay"},level:t,message:`${cp}${e}`},{level:t})}function EH(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:s=>{e=!!s.captureExceptions,t=!!s.traceInternals}};return Ke?(HC.forEach(s=>{n[s]=(...i)=>{ve[s](cp,...i),t&&M0(i.join(""),QR(s))}}),n.exception=(s,...i)=>{i.length&&n.error&&n.error(...i),ve.error(cp,s),e?Xw(s,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&M0(s,"error")},n.infoTick=(...s)=>{ve.log(cp,...s),t&&setTimeout(()=>M0(s[0]),0)}):HC.forEach(s=>{n[s]=()=>{}}),n}const Ye=EH();class Sj extends Error{constructor(){super(`Event buffer exceeded maximum size of ${mj}.`)}}class rI{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>mj)throw new Sj;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?bj(t):null}}class TH{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:s})=>{s.success?t():n()},{once:!0}),this._worker.addEventListener("error",s=>{n(s)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ke&&Ye.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const s=this._getAndIncrementId();return new Promise((i,a)=>{const o=({data:c})=>{const d=c;if(d.method===t&&d.id===s){if(this._worker.removeEventListener("message",o),!d.success){Ke&&Ye.error("Error in compression worker: ",d.response),a(new Error("Error in compression worker"));return}i(d.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:s,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class PH{constructor(t){this._worker=new TH(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=bj(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const s=JSON.stringify(t);return this._totalSize+=s.length,this._totalSize>mj?Promise.reject(new Sj):this._sendEventToWorker(s)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Ke&&Ye.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class RH{constructor(t){this._fallback=new rI,this._compression=new PH(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){Ke&&Ye.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:s}=this._fallback,i=[];for(const a of t)i.push(this._compression.addEvent(a));this._compression.hasCheckout=n,this._compression.waitForCheckout=s,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(a){Ke&&Ye.exception(a,"Failed to add events when switching buffers.")}}}function AH({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=IH(t);if(n)return n}return Ke&&Ye.log("Using simple buffer"),new rI}function IH(e){try{const t=e||OH();if(!t)return;Ke&&Ye.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new RH(n)}catch(t){Ke&&Ye.exception(t,"Failed to create compression worker")}}function OH(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?CH():""}function Nj(){try{return"sessionStorage"in At&&!!At.sessionStorage}catch{return!1}}function MH(e){DH(),e.session=void 0}function DH(){if(Nj())try{At.sessionStorage.removeItem(hj)}catch{}}function sI(e){return e===void 0?!1:Math.random()<e}function Tg(e){if(Nj())try{At.sessionStorage.setItem(hj,JSON.stringify(e))}catch{}}function iI(e){const t=Date.now(),n=e.id||Br(),s=e.started||t,i=e.lastActivity||t,a=e.segmentId||0,o=e.sampled,c=e.previousSessionId,d=e.dirty||!1;return{id:n,started:s,lastActivity:i,segmentId:a,sampled:o,previousSessionId:c,dirty:d}}function LH(e,t){return sI(e)?"session":t?"buffer":!1}function qC({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:s}={}){const i=LH(e,t),a=iI({sampled:i,previousSessionId:s});return n&&Tg(a),a}function $H(){if(!Nj())return null;try{const e=At.sessionStorage.getItem(hj);if(!e)return null;const t=JSON.parse(e);return Ke&&Ye.infoTick("Loading existing session"),iI(t)}catch{return null}}function hb(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function aI(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:s=Date.now()}){return hb(e.started,t,s)||hb(e.lastActivity,n,s)}function oI(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!aI(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function D0({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},s){const i=s.stickySession&&$H();return i?oI(i,{sessionIdleExpire:e,maxReplayDuration:t})?(Ke&&Ye.infoTick("Session in sessionStorage is expired, creating new one..."),qC(s,{previousSessionId:i.id})):i:(Ke&&Ye.infoTick("Creating new session"),qC(s,{previousSessionId:n}))}function FH(e){return e.type===rt.Custom}function _j(e,t,n){return cI(e,t)?(lI(e,t,n),!0):!1}function UH(e,t,n){return cI(e,t)?lI(e,t,n):Promise.resolve(null)}async function lI(e,t,n){const{eventBuffer:s}=e;if(!s||s.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&s.clear(),n&&(s.hasCheckout=!0,s.waitForCheckout=!1);const a=e.getOptions(),o=zH(t,a.beforeAddRecordingEvent);return o?await s.addEvent(o):void 0}catch(a){const o=a&&a instanceof Sj,c=o?"addEventSizeExceeded":"addEvent",d=dt();if(d){const h=o?"buffer_overflow":"internal_sdk_error";d.recordDroppedEvent(h,"replay")}if(o&&i)return s.clear(),s.waitForCheckout=!0,null;e.handleException(a),await e.stop({reason:c})}}function cI(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=bj(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ke&&Ye.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function zH(e,t){try{if(typeof t=="function"&&FH(e))return t(e)}catch(n){return Ke&&Ye.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function kj(e){return!e.type}function fb(e){return e.type==="transaction"}function BH(e){return e.type==="replay_event"}function GC(e){return e.type==="feedback"}function VH(e){return(t,n)=>{if(!e.isEnabled()||!kj(t)&&!fb(t))return;const s=n.statusCode;if(!(!s||s<200||s>=300)){if(fb(t)){WH(e,t);return}HH(e,t)}}}function WH(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function HH(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:s}=e.getOptions();typeof s=="function"&&!s(t)||kh(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function qH(e){return t=>{!e.isEnabled()||!kj(t)||GH(e,t)}}function GH(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const s=si({category:"replay.hydrate-error",data:{url:ed()}});Eh(e,s)}}function KH(e){const t=dt();t&&t.on("beforeAddBreadcrumb",n=>YH(e,n))}function YH(e,t){if(!e.isEnabled()||!dI(t))return;const n=JH(t);n&&Eh(e,n)}function JH(e){return!dI(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?XH(e):si(e)}function XH(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return si(e);let n=!1;const s=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>gm?(n=!0,`${i.slice(0,gm)}`):i;if(typeof i=="object")try{const a=Is(i,7);return JSON.stringify(a).length>gm?(n=!0,`${JSON.stringify(a,null,2).slice(0,gm)}`):a}catch{}return i});return si({...e,data:{...e.data,arguments:s,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function dI(e){return!!e.category}function QH(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function uI(){const e=vt().getPropagationContext().dsc;e&&delete e.replay_id;const t=or();if(t){const n=Gi(t);delete n.replay_id}}function ZH(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:rt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function eq(e,t){return e.recordingMode!=="buffer"||t.message===fj||!t.exception||t.type?!1:sI(e.getOptions().errorSampleRate)}function tq(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(BH(t))return delete t.breadcrumbs,t;if(!kj(t)&&!fb(t)&&!GC(t))return t;if(!e.checkAndHandleExpiredSession())return uI(),t;if(GC(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),ZH(e,t),t;if(QH(t,n)&&!e.getOptions()._experiments.captureExceptions)return Ke&&Ye.log("Ignoring error from rrweb internals",t),null;const i=eq(e,t);if((i||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),i&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const o=e.session;o.dirty=!0,e.getOptions().stickySession&&Tg(o)}return t},{id:"Replay"})}function Pg(e,t){return t.map(({type:n,start:s,end:i,name:a,data:o})=>{const c=e.throttledAddEvent({type:rt.Custom,timestamp:s,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:s,endTimestamp:i,data:o}}});return typeof c=="string"?Promise.resolve(null):c})}function nq(e){const{from:t,to:n}=e,s=Date.now()/1e3;return{type:"navigation.push",start:s,end:s,name:n,data:{previous:t}}}function rq(e){return t=>{if(!e.isEnabled())return;const n=nq(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Pg(e,[n]),!1)))}}function sq(e,t){return Ke&&e.getOptions()._experiments.traceInternals?!1:GB(t,dt())}function hI(e,t){e.isEnabled()&&t!==null&&(sq(e,t.name)||e.addUpdate(()=>(Pg(e,[t]),!0)))}function Rg(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=_A(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function fI(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Fp(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},s=n.warnings||[];return n.warnings=[...s,t],e._meta=n,e}function mI(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:s,url:i,method:a,statusCode:o,request:c,response:d}=t;return{type:e,start:n/1e3,end:s/1e3,name:i,data:{method:a,statusCode:o,request:c,response:d}}}function Bu(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Oa(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const s={headers:e,size:t},{body:i,warnings:a}=iq(n);return s.body=i,a?.length&&(s._meta={warnings:a}),s}function mb(e,t){return Object.entries(e).reduce((n,[s,i])=>{const a=s.toLowerCase();return t.includes(a)&&e[s]&&(n[a]=i),n},{})}function iq(e){if(!e||typeof e!="string")return{body:e};const t=e.length>CC,n=aq(e);if(t){const s=e.slice(0,CC);return n?{body:s,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${s}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function aq(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Up(e,t){const n=oq(e);return Ui(n,t)}function oq(e,t=At.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(At.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const s=n.href;return!e.endsWith("/")&&s.endsWith("/")?s.slice(0,-1):s}async function lq(e,t,n){try{const s=await dq(e,t,n),i=mI("resource.fetch",s);hI(n.replay,i)}catch(s){Ke&&Ye.exception(s,"Failed to capture fetch breadcrumb")}}function cq(e,t){const{input:n,response:s}=t,i=n?CA(n):void 0,a=Rg(i),o=s?fI(s.headers.get("content-length")):void 0;a!==void 0&&(e.data.request_body_size=a),o!==void 0&&(e.data.response_body_size=o)}async function dq(e,t,n){const s=Date.now(),{startTimestamp:i=s,endTimestamp:a=s}=t,{url:o,method:c,status_code:d=0,request_body_size:h,response_body_size:f}=e.data,m=Up(o,n.networkDetailAllowUrls)&&!Up(o,n.networkDetailDenyUrls),g=m?uq(n,t.input,h):Bu(h),y=await hq(m,n,t.response,f);return{startTimestamp:i,endTimestamp:a,url:o,method:c,statusCode:d,request:g,response:y}}function uq({networkCaptureBodies:e,networkRequestHeaders:t},n,s){const i=n?pq(n,t):{};if(!e)return Oa(i,s,void 0);const a=CA(n),[o,c]=kA(a,Ye),d=Oa(i,s,o);return c?Fp(d,c):d}async function hq(e,{networkCaptureBodies:t,networkResponseHeaders:n},s,i){if(!e&&i!==void 0)return Bu(i);const a=s?pI(s.headers,n):{};if(!s||!t&&i!==void 0)return Oa(a,i,void 0);const[o,c]=await mq(s),d=fq(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:a});return c?Fp(d,c):d}function fq(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:s,headers:i}){try{const a=e?.length&&n===void 0?Rg(e):n;return s?t?Oa(i,a,e):Oa(i,a,void 0):Bu(a)}catch(a){return Ke&&Ye.exception(a,"Failed to serialize response body"),Oa(i,n,void 0)}}async function mq(e){const t=gq(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await xq(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Ke&&Ye.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Ke&&Ye.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function pI(e,t){const n={};return t.forEach(s=>{e.get(s)&&(n[s]=e.get(s))}),n}function pq(e,t){return e.length===1&&typeof e[0]!="string"?KC(e[0],t):e.length===2?KC(e[1],t):{}}function KC(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?pI(n,t):Array.isArray(n)?{}:mb(n,t):{}}function gq(e){try{return e.clone()}catch(t){Ke&&Ye.exception(t,"Failed to clone response body")}}function xq(e){return new Promise((t,n)=>{const s=kh(()=>n(new Error("Timeout while trying to read response body")),500);yq(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(s))})}async function yq(e){return await e.text()}async function vq(e,t,n){try{const s=wq(e,t,n),i=mI("resource.xhr",s);hI(n.replay,i)}catch(s){Ke&&Ye.exception(s,"Failed to capture xhr breadcrumb")}}function bq(e,t){const{xhr:n,input:s}=t;if(!n)return;const i=Rg(s),a=n.getResponseHeader("content-length")?fI(n.getResponseHeader("content-length")):Nq(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function wq(e,t,n){const s=Date.now(),{startTimestamp:i=s,endTimestamp:a=s,input:o,xhr:c}=t,{url:d,method:h,status_code:f=0,request_body_size:m,response_body_size:g}=e.data;if(!d)return null;if(!c||!Up(d,n.networkDetailAllowUrls)||Up(d,n.networkDetailDenyUrls)){const P=Bu(m),E=Bu(g);return{startTimestamp:i,endTimestamp:a,url:d,method:h,statusCode:f,request:P,response:E}}const y=c[Lo],b=y?mb(y.request_headers,n.networkRequestHeaders):{},j=mb(EA(c),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?kA(o,Ye):[void 0],[N,C]=n.networkCaptureBodies?jq(c):[void 0],T=Oa(b,m,S),M=Oa(j,g,N);return{startTimestamp:i,endTimestamp:a,url:d,method:h,statusCode:f,request:_?Fp(T,_):T,response:C?Fp(M,C):M}}function jq(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Sq(e.response,e.responseType)}catch(n){t.push(n)}return Ke&&Ye.warn("Failed to get xhr response body",...t),[void 0]}function Sq(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Ke&&Ye.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ke&&Ye.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Nq(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Rg(n)}catch{return}}function _q(e){const t=dt();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o}=e.getOptions(),c={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(d,h)=>kq(c,d,h))}catch{}}function kq(e,t,n){if(t.data)try{Cq(t)&&Tq(n)&&(bq(t,n),vq(t,n,e)),Eq(t)&&Pq(n)&&(cq(t,n),lq(t,n,e))}catch(s){Ke&&Ye.exception(s,"Error when enriching network breadcrumb")}}function Cq(e){return e.category==="xhr"}function Eq(e){return e.category==="fetch"}function Tq(e){return e?.xhr}function Pq(e){return e?.response}function Rq(e){const t=dt();jA(lH(e)),_g(rq(e)),KH(e),_q(e);const n=tq(e);mB(n),t&&(t.on("beforeSendEvent",qH(e)),t.on("afterSendEvent",VH(e)),t.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),t.on("spanStart",s=>{e.lastActiveSpan=s}),t.on("spanEnd",s=>{e.lastActiveSpan=s}),t.on("beforeSendFeedback",async(s,i)=>{const a=e.getSessionId();i?.includeReplay&&e.isEnabled()&&a&&s.contexts?.feedback&&(s.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),s.contexts.feedback.replay_id=a)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Aq(e){try{return Promise.all(Pg(e,[Iq(At.performance.memory)]))}catch{return[]}}function Iq(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:s}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:s}}}}function Oq(e,t,n){return ZB(e,t,{...n,setTimeoutImpl:kh})}const bm=ht.navigator;function Mq(){return/iPhone|iPad|iPod/i.test(bm?.userAgent??"")||/Macintosh/i.test(bm?.userAgent??"")&&bm?.maxTouchPoints&&bm?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function Dq(e){let t=!1;return(n,s)=>{if(!e.checkAndHandleExpiredSession()){Ke&&Ye.warn("Received replay event after session expired.");return}const i=s||!t;t=!0,e.clickDetector&&rH(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!_j(e,n,i))return!0;if(!i)return!1;const a=e.session;if($q(e,i),e.recordingMode==="buffer"&&a&&e.eventBuffer&&!a.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(Ke&&Ye.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),a.started=o,e.getOptions().stickySession&&Tg(a))}return a?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Lq(e){const t=e.getOptions();return{type:rt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function $q(e,t){!t||!e.session||e.session.segmentId!==0||_j(e,Lq(e),!1)}function Fq(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Uq(e,t,n,s){return eo(_R(e,Gw(e),s,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function zq({recordingData:e,headers:t}){let n;const s=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${s}${e}`;else{const a=new TextEncoder().encode(s);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}async function Bq({client:e,scope:t,replayId:n,event:s}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,a={event_id:n,integrations:i};e.emit("preprocessEvent",s,a);const o=await RR(e.getOptions(),s,a,t,e,qs());if(!o)return null;e.emit("postprocessEvent",o,a),o.platform=o.platform||"javascript";const c=e.getSdkMetadata(),{name:d,version:h,settings:f}=c?.sdk||{};return o.sdk={...o.sdk,name:d||"sentry.javascript.unknown",version:h||"0.0.0",settings:f},o}async function Vq({recordingData:e,replayId:t,segmentId:n,eventContext:s,timestamp:i,session:a}){const o=zq({recordingData:e,headers:{segment_id:n}}),{urls:c,errorIds:d,traceIds:h,initialTimestamp:f}=s,m=dt(),g=vt(),y=m?.getTransport(),b=m?.getDsn();if(!m||!y||!b||!a.sampled)return Promise.resolve({});const j={type:v7,replay_start_timestamp:f/1e3,timestamp:i/1e3,error_ids:d,trace_ids:h,urls:c,replay_id:t,segment_id:n,replay_type:a.sampled},S=await Bq({scope:g,client:m,replayId:t,event:j});if(!S)return m.recordDroppedEvent("event_processor","replay"),Ke&&Ye.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete S.sdkProcessingMetadata;const _=Uq(S,o,b,m.getOptions().tunnel);let N;try{N=await y.send(_)}catch(T){const M=new Error(fj);try{M.cause=T}catch{}throw M}if(typeof N.statusCode=="number"&&(N.statusCode<200||N.statusCode>=300))throw new gI(N.statusCode);const C=VR({},N);if(BR(C,"replay"))throw new Cj(C);return N}class gI extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Cj extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function xI(e,t={count:0,interval:_7}){const{recordingData:n,onError:s}=e;if(n.length)try{return await Vq(e),!0}catch(i){if(i instanceof gI||i instanceof Cj)throw i;if(IR("Replays",{_retryCount:t.count}),s&&s(i),t.count>=k7){const a=new Error(`${fj} - max retries exceeded`);try{a.cause=i}catch{}throw a}return t.interval*=++t.count,new Promise((a,o)=>{kh(async()=>{try{await xI(e,t),a(!0)}catch(c){o(c)}},t.interval)})}}const yI="__THROTTLED",Wq="__SKIPPED";function Hq(e,t,n){const s=new Map,i=c=>{const d=c-n;s.forEach((h,f)=>{f<d&&s.delete(f)})},a=()=>[...s.values()].reduce((c,d)=>c+d,0);let o=!1;return(...c)=>{const d=Math.floor(Date.now()/1e3);if(i(d),a()>=t){const f=o;return o=!0,f?Wq:yI}o=!1;const h=s.get(d)||0;return s.set(d,h+1),e(...c)}}class qq{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:b7,sessionIdleExpire:w7},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Oq(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Hq((o,c)=>UH(this,o,c),300,5);const{slowClickTimeout:s,slowClickIgnoreSelectors:i}=this.getOptions(),a=s?{threshold:Math.min(C7,s),timeout:s,scrollTimeout:E7,ignoreSelector:i?i.join(","):""}:void 0;if(a&&(this.clickDetector=new ZW(this,a)),Ke){const o=t._experiments;Ye.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{At.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=si({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=si({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{hH(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){Ke&&Ye.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:s}=this._options,i=n<=0&&s<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){Ke&&Ye.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ke&&Ye.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Ke&&Ye.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Ke&&Ye.log("Buffering is in progress, call `flush()` to save the replay");return}Ke&&Ye.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=D0({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Ke&&Ye.log("Buffering is in progress, call `flush()` to save the replay");return}Ke&&Ye.infoTick("Starting replay in buffer mode");const t=D0({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Bi({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:N7}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Dq(this),...Mq(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Ke&&Ye.log(`Stopping Replay${n?` triggered by ${n}`:""}`),uI(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,MH(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ke&&Ye.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ke&&Ye.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ke&&Ye.log("Converting buffer to session"),await this.flushImmediate();const s=this.stopRecording();!t||!s||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&hb(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${At.location.pathname}${At.location.hash}${At.location.search}`,n=`${At.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const s=this._throttledAddEvent(t,n);if(s===yI){const i=si({category:"replay.throttled"});this.addUpdate(()=>!_j(this,{type:qW,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return s}getCurrentRoute(){const t=this.lastActiveSpan||or(),n=t&&qn(t),i=(n&&gt(n).data||{})[Ds];if(!(!n||!i||!["route","custom"].includes(i)))return gt(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=AH({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,s=D0({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=s}_checkSession(){if(!this.session)return!1;const t=this.session;return oI(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{At.document.addEventListener("visibilitychange",this._handleVisibilityChange),At.addEventListener("blur",this._handleWindowBlur),At.addEventListener("focus",this._handleWindowFocus),At.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Rq(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=_H(this)}_removeListeners(){try{At.document.removeEventListener("visibilitychange",this._handleVisibilityChange),At.removeEventListener("blur",this._handleWindowBlur),At.removeEventListener("focus",this._handleWindowFocus),At.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||aI(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ke&&Ye.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:rt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=gH(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(s=>s.start>=n)}return Promise.all(Pg(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const s=n.getEarliestTimestamp();s&&s<this._context.initialTimestamp&&(this._context.initialTimestamp=s)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Ke&&Ye.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await Aq(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const a=await this.eventBuffer.finish();await xI({replayId:t,recordingData:a,segmentId:i,eventContext:s,session:this.session,timestamp:n,onError:o=>this.handleException(o)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const s=dt();if(s){const i=n instanceof Cj?"ratelimit_backoff":"send_error";s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Ke&&Ye.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const a=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(a||o){Ke&&Ye.log(`Session duration (${Math.floor(i/1e3)}s) is too ${a?"short":"long"}, not sending replay.`),a&&this._debouncedFlush();return}const c=this.eventBuffer;c&&this.session.segmentId===0&&!c.hasCheckout&&Ke&&Ye.log("Flushing initial segment without checkout.");const d=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(h){this.handleException(h)}finally{this._flushLock=void 0,d&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Tg(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(c=>{const d=Fq(c.target),h=n.join(",");return d?.matches(h)}))return!1;const s=t.length,i=this._options.mutationLimit,a=this._options.mutationBreadcrumbLimit,o=i&&s>i;if(s>a||o){const c=si({category:"replay.mutations",data:{count:s,limit:o}});this._createCustomBreadcrumb(c)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function iu(e,t){return[...e,...t].join(",")}function Gq({mask:e,unmask:t,block:n,unblock:s,ignore:i}){const a=["base","iframe[srcdoc]:not([src])"],o=iu(e,[".sentry-mask","[data-sentry-mask]"]),c=iu(t,[]);return{maskTextSelector:o,unmaskTextSelector:c,blockSelector:iu(n,[".sentry-block","[data-sentry-block]",...a]),unblockSelector:iu(s,[]),ignoreSelector:iu(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Kq({el:e,key:t,maskAttributes:n,maskAllText:s,privacyOptions:i,value:a}){return!s||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?a:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a}const YC='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Yq=["content-length","content-type","accept"];let JC=!1;const Jq=(e=>new Xq(e));class Xq{constructor({flushMinDelay:t=j7,flushMaxDelay:n=S7,minReplayDuration:s=T7,maxReplayDuration:i=EC,stickySession:a=!0,useCompression:o=!0,workerUrl:c,_experiments:d={},maskAllText:h=!0,maskAllInputs:f=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:g=750,mutationLimit:y=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:j=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:N=!0,networkRequestHeaders:C=[],networkResponseHeaders:T=[],mask:M=[],maskAttributes:P=["title","placeholder","aria-label"],unmask:E=[],block:R=[],unblock:q=[],ignore:V=[],maskFn:Q,beforeAddRecordingEvent:G,beforeErrorSampling:A,onError:J}={}){this.name="Replay";const $=Gq({mask:M,unmask:E,block:R,unblock:q,ignore:V});if(this._recordingOptions={maskAllInputs:f,maskAllText:h,maskInputOptions:{password:!0},maskTextFn:Q,maskInputFn:Q,maskAttributeFn:(F,B,O)=>Kq({maskAttributes:P,maskAllText:h,privacyOptions:$,key:F,value:B,el:O}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!d.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(s,P7),maxReplayDuration:Math.min(i,EC),stickySession:a,useCompression:o,workerUrl:c,blockAllMedia:m,maskAllInputs:f,maskAllText:h,mutationBreadcrumbLimit:g,mutationLimit:y,slowClickTimeout:b,slowClickIgnoreSelectors:j,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:N,networkRequestHeaders:XC(C),networkResponseHeaders:XC(T),beforeAddRecordingEvent:G,beforeErrorSampling:A,onError:J,_experiments:d},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${YC}`:YC,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Xv())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return JC}set _isInitialized(t){JC=t}afterAllSetup(t){!Xv()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=Qq(this._initialOptions,t);this._replay=new qq({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function Qq(e,t){const n=t.getOptions(),s={sessionSampleRate:0,errorSampleRate:0,...e},i=Qo(n.replaysSessionSampleRate),a=Qo(n.replaysOnErrorSampleRate);return i==null&&a==null&&gl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(s.sessionSampleRate=i),a!=null&&(s.errorSampleRate=a),s}function XC(e){return[...Yq,...e.map(t=>t.toLowerCase())]}function Zq(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function vI(e){try{return new URL(e,ct.location.origin).href}catch{return}}function eG(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function bI(e){try{return new Headers(e)}catch{return}}const QC=new WeakMap,L0=new Map,wI={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function tG(e,t){const{traceFetch:n,traceXHR:s,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o,tracePropagationTargets:c,onRequestSpanStart:d,onRequestSpanEnd:h}={...wI,...t},f=typeof a=="function"?a:b=>!0,m=b=>nG(b,c),g={},y=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(b=>(b.type==="transaction"&&b.spans&&b.spans.forEach(j=>{if(j.op==="http.client"){const S=L0.get(j.span_id);S&&(j.timestamp=S/1e3,L0.delete(j.span_id))}}),b)),i&&O8(b=>{if(b.response){const j=QC.get(b.response);j&&b.endTimestamp&&L0.set(j,b.endTimestamp)}}),nA(b=>{const j=N8(b,f,m,g,{propagateTraceparent:y,onRequestSpanEnd:h});if(b.response&&b.fetchData.__span&&QC.set(b.response,b.fetchData.__span),j){const S=vI(b.fetchData.url),_=S?Ho(S).host:void 0;j.setAttributes({"http.url":S,"server.address":_}),o&&ZC(j),d?.(j,{headers:b.headers})}})),s&&NA(b=>{const j=rG(b,f,m,g,y,h);j&&(o&&ZC(j),d?.(j,{headers:bI(b.xhr.__sentry_xhr_v3__?.request_headers)}))})}function ZC(e){const{url:t}=gt(e).data;if(!t||typeof t!="string")return;const n=el("resource",({entries:s})=>{s.forEach(i=>{eG(i)&&i.name.endsWith(t)&&(e.setAttributes(wA(i)),setTimeout(n))})})}function nG(e,t){const n=ed();if(n){let s,i;try{s=new URL(e,n),i=new URL(n).origin}catch{return!1}const a=s.origin===i;return t?Ui(s.toString(),t)||a&&Ui(s.pathname,t):a}else{const s=!!e.match(/^\/(?!\/)/);return t?Ui(e,t):s}}function rG(e,t,n,s,i,a){const o=e.xhr,c=o?.[Lo];if(!o||o.__sentry_own_request__||!c)return;const{url:d,method:h}=c,f=$s()&&t(d);if(e.endTimestamp&&f){const _=o.__sentry_xhr_span_id__;if(!_)return;const N=s[_];N&&c.status_code!==void 0&&(lR(N,c.status_code),N.end(),a?.(N,{headers:bI(EA(o)),error:e.error}),delete s[_]);return}const m=vI(d),g=Ho(m||d),y=qB(d),b=!!or(),j=f&&b?sd({name:`${h} ${y}`,attributes:{url:d,type:"xhr","http.method":h,"http.url":m,"server.address":g?.host,[vn]:"auto.http.browser",[qi]:"http.client",...g?.search&&{"http.query":g?.search},...g?.hash&&{"http.fragment":g?.hash}}}):new Ua;o.__sentry_xhr_span_id__=j.spanContext().spanId,s[o.__sentry_xhr_span_id__]=j,n(d)&&sG(o,$s()&&b?j:void 0,i);const S=dt();return S&&S.emit("beforeOutgoingRequestSpan",j,e),j}function sG(e,t,n){const{"sentry-trace":s,baggage:i,traceparent:a}=XR({span:t,propagateTraceparent:n});s&&iG(e,s,i,a)}function iG(e,t,n,s){const i=e.__sentry_xhr_v3__?.request_headers;if(!(i?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),s&&!i?.traceparent&&e.setRequestHeader("traceparent",s),n){const a=i?.baggage;(!a||!Zq(a))&&e.setRequestHeader("baggage",n)}}catch{}}function aG(){ct.document?ct.document.addEventListener("visibilitychange",()=>{const e=or();if(!e)return;const t=qn(e);if(ct.document.hidden&&t){const n="cancelled",{op:s,status:i}=gt(t);Sr&&ve.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${s}`),i||t.setStatus({code:yn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Sr&&ve.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const oG=3600,jI="sentry_previous_trace",lG="sentry.previous_trace";function cG(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const s=t==="session-storage";let i=s?hG():void 0;e.on("spanStart",o=>{if(qn(o)!==o)return;const c=vt().getPropagationContext();i=dG(i,o,c),s&&uG(i)});let a=!0;n&&e.on("beforeSampling",o=>{if(!i)return;const c=vt(),d=c.getPropagationContext();if(a&&d.parentSpanId){a=!1;return}c.setPropagationContext({...d,dsc:{...d.dsc,sample_rate:String(i.sampleRate),sampled:String(pb(i.spanContext))},sampleRand:i.sampleRand}),o.parentSampled=pb(i.spanContext),o.parentSampleRate=i.sampleRate,o.spanAttributes={...o.spanAttributes,[oR]:i.sampleRate}})}function dG(e,t,n){const s=gt(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(s.data?.[zw])}catch{return 0}}const a={spanContext:t.spanContext(),startTimestamp:s.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return a;const o=e.spanContext;return o.traceId===s.trace_id?e:(Date.now()/1e3-e.startTimestamp<=oG&&(Sr&&ve.log(`Adding previous_trace ${o} link to span ${{op:s.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[UU]:"previous_trace"}}),t.setAttribute(lG,`${o.traceId}-${o.spanId}-${pb(o)?1:0}`)),a)}function uG(e){try{ct.sessionStorage.setItem(jI,JSON.stringify(e))}catch(t){Sr&&ve.warn("Could not store previous trace in sessionStorage",t)}}function hG(){try{const e=ct.sessionStorage?.getItem(jI);return JSON.parse(e)}catch{return}}function pb(e){return e.traceFlags===1}const fG="BrowserTracing",mG={...sp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...wI},pG=((e={})=>{const t={name:void 0,source:void 0},n=ct.document,{enableInp:s,enableElementTiming:i,enableLongTask:a,enableLongAnimationFrame:o,_experiments:{enableInteractions:c,enableStandaloneClsSpans:d,enableStandaloneLcpSpans:h},beforeStartSpan:f,idleTimeout:m,finalTimeout:g,childSpanTimeout:y,markBackgroundSpan:b,traceFetch:j,traceXHR:S,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:N,enableHTTPTimings:C,ignoreResourceSpans:T,ignorePerformanceApiSpans:M,instrumentPageLoad:P,instrumentNavigation:E,detectRedirects:R,linkPreviousTrace:q,consistentTraceSampling:V,enableReportPageLoaded:Q,onRequestSpanStart:G,onRequestSpanEnd:A}={...mG,...e};let J,$,F;function B(O,Z,H=!0){const U=Z.op==="pageload",D=Z.name,ee=f?f(Z):Z,z=ee.attributes||{};if(D!==ee.name&&(z[Ds]="custom",ee.attributes=z),!H){const K=xl();sd({...ee,startTime:K}).end(K);return}t.name=ee.name,t.source=z[Ds];const L=PR(ee,{idleTimeout:m,finalTimeout:g,childSpanTimeout:y,disableAutoFinish:U,beforeSpanEnd:K=>{J?.(),VV(K,{recordClsOnPageloadSpan:!d,recordLcpOnPageloadSpan:!h,ignoreResourceSpans:T,ignorePerformanceApiSpans:M}),tE(O,void 0);const se=vt(),ue=se.getPropagationContext();se.setPropagationContext({...ue,traceId:L.spanContext().traceId,sampled:Za(L),dsc:Gi(K)}),U&&(F=void 0)},trimIdleSpanEndTimestamp:!Q});U&&Q&&(F=L),tE(O,L);function X(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",L)}U&&!Q&&n&&(n.addEventListener("readystatechange",()=>{X()}),X())}return{name:fG,setup(O){if(mz(),J=DV({recordClsStandaloneSpans:d||!1,recordLcpStandaloneSpans:h||!1,client:O}),s&&m9(),i&&t9(),o&&ht.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?$V():a&&LV(),c&&FV(),R&&n){const H=()=>{$=_n()};addEventListener("click",H,{capture:!0}),addEventListener("keydown",H,{capture:!0,passive:!0})}function Z(){const H=Vu(O);H&&!gt(H).timestamp&&(Sr&&ve.log(`[Tracing] Finishing current active span with op: ${gt(H).op}`),H.setAttribute(Du,"cancelled"),H.end())}O.on("startNavigationSpan",(H,U)=>{if(dt()!==O)return;if(U?.isRedirect){Sr&&ve.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),B(O,{op:"navigation.redirect",...H},!1);return}$=void 0,Z(),qs().setPropagationContext({traceId:Hi(),sampleRand:Math.random(),propagationSpanId:$s()?void 0:zi()});const D=vt();D.setPropagationContext({traceId:Hi(),sampleRand:Math.random(),propagationSpanId:$s()?void 0:zi()}),D.setSDKProcessingMetadata({normalizedRequest:void 0}),B(O,{op:"navigation",...H,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(H,U={})=>{if(dt()!==O)return;Z();const D=U.sentryTrace||eE("sentry-trace"),ee=U.baggage||eE("baggage"),z=iz(D,ee),L=vt();L.setPropagationContext(z),$s()||(L.getPropagationContext().propagationSpanId=zi()),L.setSDKProcessingMetadata({normalizedRequest:nj()}),B(O,{op:"pageload",...H})}),O.on("endPageloadSpan",()=>{Q&&F&&(F.setAttribute(Du,"reportPageLoaded"),F.end())})},afterAllSetup(O){let Z=ed();if(q!=="off"&&cG(O,{linkPreviousTrace:q,consistentTraceSampling:V}),ct.location){if(P){const H=Cr();gG(O,{name:ct.location.pathname,startTime:H?H/1e3:void 0,attributes:{[Ds]:"url",[vn]:"auto.pageload.browser"}})}E&&_g(({to:H,from:U})=>{if(U===void 0&&Z?.indexOf(H)!==-1){Z=void 0;return}Z=void 0;const D=tj(H),ee=Vu(O),z=ee&&R&&vG(ee,$);xG(O,{name:D?.pathname||ct.location.pathname,attributes:{[Ds]:"url",[vn]:"auto.navigation.browser"}},{url:H,isRedirect:z})})}b&&aG(),c&&yG(O,m,g,y,t),s&&x9(),tG(O,{traceFetch:j,traceXHR:S,trackFetchStreamPerformance:_,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:N,enableHTTPTimings:C,onRequestSpanStart:G,onRequestSpanEnd:A})}}});function gG(e,t,n){e.emit("startPageLoadSpan",t,n),vt().setTransactionName(t.name);const s=Vu(e);return s&&e.emit("afterStartPageLoadSpan",s),s}function xG(e,t,n){const{url:s,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const a=vt();return a.setTransactionName(t.name),s&&!i&&a.setSDKProcessingMetadata({normalizedRequest:{...nj(),url:s}}),Vu(e)}function eE(e){return ct.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function yG(e,t,n,s,i){const a=ct.document;let o;const c=()=>{const d="ui.action.click",h=Vu(e);if(h){const f=gt(h).op;if(["navigation","pageload"].includes(f)){Sr&&ve.warn(`[Tracing] Did not create ${d} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Du,"interactionInterrupted"),o.end(),o=void 0),!i.name){Sr&&ve.warn(`[Tracing] Did not create ${d} transaction because _latestRouteName is missing.`);return}o=PR({name:i.name,op:d,attributes:{[Ds]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:s})};a&&addEventListener("click",c,{capture:!0})}const SI="_sentry_idleSpan";function Vu(e){return e[SI]}function tE(e,t){Wr(e,SI,t)}const nE=1.5;function vG(e,t){const n=gt(e),s=xl(),i=n.start_timestamp;return!(s-i>nE||t&&s-t<=nE)}var x=Mw();const ce=xg(x),Ej=HP({__proto__:null,default:ce},[x]);function bG(e){const t={...e};return JR(t,"react"),IR("react",{version:x.version}),y7(t)}function wG(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function jG(e,t){const n=new WeakSet;function s(i,a){if(!n.has(i)){if(i.cause)return n.add(i),s(i.cause,a);i.cause=a}}s(e,t)}function SG(e,{componentStack:t},n){if(wG(x.version)&&vg(e)&&t){const s=new Error(e.message);s.name=`React ErrorBoundary ${e.name}`,s.stack=t,jG(e,s)}return nd(s=>(s.setContext("react",{componentStack:t}),Xw(e,n)))}const NG=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$0={componentStack:null,error:null,eventId:null};class _G extends x.Component{constructor(t){super(t),this.state=$0,this._openFallbackReportDialog=!0;const n=dt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",s=>{!s.type&&this._lastEventId&&s.event_id===this._lastEventId&&kC({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:s}=n,{beforeCapture:i,onError:a,showDialog:o,dialogOptions:c}=this.props;nd(d=>{i&&i(d,t,s);const h=this.props.handled!=null?this.props.handled:!!this.props.fallback,f=SG(t,n,{mechanism:{handled:h,type:"auto.function.react.error_boundary"}});a&&a(t,s,f),o&&(this._lastEventId=f,this._openFallbackReportDialog&&kC({...c,eventId:f})),this.setState({error:t,componentStack:s,eventId:f})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:s}=this.state,{onUnmount:i}=this.props;i&&(this.state===$0?i(null,null,null):i(t,n,s)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:s,eventId:i}=this.state;t&&t(n,s,i),this.setState($0)}render(){const{fallback:t,children:n}=this.props,s=this.state;if(s.componentStack===null)return typeof n=="function"?n():n;const i=typeof t=="function"?x.createElement(t,{error:s.error,componentStack:s.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:s.eventId}):t;return x.isValidElement(i)?i:(t&&NG&&ve.warn("fallback did not produce a valid ReactElement"),null)}}var wm={},F0={exports:{}},gr={},U0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function kG(){return rE||(rE=1,(function(e){function t(O,Z){var H=O.length;O.push(Z);e:for(;0<H;){var U=H-1>>>1,D=O[U];if(0<i(D,Z))O[U]=Z,O[H]=D,H=U;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var Z=O[0],H=O.pop();if(H!==Z){O[0]=H;e:for(var U=0,D=O.length,ee=D>>>1;U<ee;){var z=2*(U+1)-1,L=O[z],X=z+1,K=O[X];if(0>i(L,H))X<D&&0>i(K,L)?(O[U]=K,O[X]=H,U=X):(O[U]=L,O[z]=H,U=z);else if(X<D&&0>i(K,H))O[U]=K,O[X]=H,U=X;else break e}}return Z}function i(O,Z){var H=O.sortIndex-Z.sortIndex;return H!==0?H:O.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,m=null,g=3,y=!1,b=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var Z=n(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=O)s(h),Z.sortIndex=Z.expirationTime,t(d,Z);else break;Z=n(h)}}function T(O){if(j=!1,C(O),!b)if(n(d)!==null)b=!0,F(M);else{var Z=n(h);Z!==null&&B(T,Z.startTime-O)}}function M(O,Z){b=!1,j&&(j=!1,_(R),R=-1),y=!0;var H=g;try{for(C(Z),m=n(d);m!==null&&(!(m.expirationTime>Z)||O&&!Q());){var U=m.callback;if(typeof U=="function"){m.callback=null,g=m.priorityLevel;var D=U(m.expirationTime<=Z);Z=e.unstable_now(),typeof D=="function"?m.callback=D:m===n(d)&&s(d),C(Z)}else s(d);m=n(d)}if(m!==null)var ee=!0;else{var z=n(h);z!==null&&B(T,z.startTime-Z),ee=!1}return ee}finally{m=null,g=H,y=!1}}var P=!1,E=null,R=-1,q=5,V=-1;function Q(){return!(e.unstable_now()-V<q)}function G(){if(E!==null){var O=e.unstable_now();V=O;var Z=!0;try{Z=E(!0,O)}finally{Z?A():(P=!1,E=null)}}else P=!1}var A;if(typeof N=="function")A=function(){N(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=G,A=function(){$.postMessage(null)}}else A=function(){S(G,0)};function F(O){E=O,P||(P=!0,A())}function B(O,Z){R=S(function(){O(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,F(M))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var H=g;g=Z;try{return O()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=g;g=O;try{return Z()}finally{g=H}},e.unstable_scheduleCallback=function(O,Z,H){var U=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,O={id:f++,callback:Z,priorityLevel:O,startTime:H,expirationTime:D,sortIndex:-1},H>U?(O.sortIndex=H,t(h,O),n(d)===null&&O===n(h)&&(j?(_(R),R=-1):j=!0,B(T,H-U))):(O.sortIndex=D,t(d,O),b||y||(b=!0,F(M))),O},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(O){var Z=g;return function(){var H=g;g=Z;try{return O.apply(this,arguments)}finally{g=H}}}})(z0)),z0}var sE;function CG(){return sE||(sE=1,U0.exports=kG()),U0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function EG(){if(iE)return gr;iE=1;var e=Mw(),t=CG();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function a(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)s.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(l){return d.call(m,l)?!0:d.call(f,l)?!1:h.test(l)?m[l]=!0:(f[l]=!0,!1)}function y(l,u,p,v){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,p,v){if(u===null||typeof u>"u"||y(l,u,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function j(l,u,p,v,w,k,I){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=k,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){S[l]=new j(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];S[u]=new j(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){S[l]=new j(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){S[l]=new j(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){S[l]=new j(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){S[l]=new j(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){S[l]=new j(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){S[l]=new j(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){S[l]=new j(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,N);S[u]=new j(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,N);S[u]=new j(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,N);S[u]=new j(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){S[l]=new j(l,1,!1,l.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){S[l]=new j(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,u,p,v){var w=S.hasOwnProperty(u)?S[u]:null;(w!==null?w.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,w,v)&&(p=null),v||w===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):w.mustUseProperty?l[w.propertyName]=p===null?w.type===3?!1:"":p:(u=w.attributeName,v=w.attributeNamespace,p===null?l.removeAttribute(u):(w=w.type,p=w===3||w===4&&p===!0?"":""+p,v?l.setAttributeNS(v,u,p):l.setAttribute(u,p))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),O=Symbol.iterator;function Z(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var H=Object.assign,U;function D(l){if(U===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+l}var ee=!1;function z(l,u){if(!l||ee)return"";ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(oe){var v=oe}Reflect.construct(l,[],u)}else{try{u.call()}catch(oe){v=oe}l.call(u.prototype)}else{try{throw Error()}catch(oe){v=oe}l()}}catch(oe){if(oe&&v&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),k=v.stack.split(`
`),I=w.length-1,Y=k.length-1;1<=I&&0<=Y&&w[I]!==k[Y];)Y--;for(;1<=I&&0<=Y;I--,Y--)if(w[I]!==k[Y]){if(I!==1||Y!==1)do if(I--,Y--,0>Y||w[I]!==k[Y]){var te=`
`+w[I].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=I&&0<=Y);break}}}finally{ee=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?D(l):""}function L(l){switch(l.tag){case 5:return D(l.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return l=z(l.type,!1),l;case 11:return l=z(l.type.render,!1),l;case 1:return l=z(l.type,!0),l;default:return""}}function X(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case P:return"Portal";case q:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Q:return(l.displayName||"Context")+".Consumer";case V:return(l._context.displayName||"Context")+".Provider";case G:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case $:return u=l.displayName||null,u!==null?u:X(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return X(l(u))}catch{}}return null}function K(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ue(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function de(l){var u=ue(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,k=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return w.call(this)},set:function(I){v=""+I,k.call(this,I)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(I){v=""+I},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function le(l){l._valueTracker||(l._valueTracker=de(l))}function je(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return l&&(v=ue(l)?l.checked?"true":"false":l.value),l=v,l!==p?(u.setValue(l),!0):!1}function qe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ot(l,u){var p=u.checked;return H({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function kt(l,u){var p=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;p=se(u.value!=null?u.value:p),l._wrapperState={initialChecked:v,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function rn(l,u){u=u.checked,u!=null&&C(l,"checked",u,!1)}function sn(l,u){rn(l,u);var p=se(u.value),v=u.type;if(p!=null)v==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?an(l,u.type,p):u.hasOwnProperty("defaultValue")&&an(l,u.type,se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Rr(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function an(l,u,p){(u!=="number"||qe(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var Ze=Array.isArray;function Lt(l,u,p,v){if(l=l.options,u){u={};for(var w=0;w<p.length;w++)u["$"+p[w]]=!0;for(p=0;p<l.length;p++)w=u.hasOwnProperty("$"+l[p].value),l[p].selected!==w&&(l[p].selected=w),w&&v&&(l[p].defaultSelected=!0)}else{for(p=""+se(p),u=null,w=0;w<l.length;w++){if(l[w].value===p){l[w].selected=!0,v&&(l[w].defaultSelected=!0);return}u!==null||l[w].disabled||(u=l[w])}u!==null&&(u.selected=!0)}}function $e(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function yt(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Ze(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:se(p)}}function tt(l,u){var p=se(u.value),v=se(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),v!=null&&(l.defaultValue=""+v)}function cr(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function wi(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ta(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?wi(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ys,ji=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,v,w){MSApp.execUnsafeLocalFunction(function(){return l(u,p,v,w)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ys.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Yn(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(l){ys.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),xs[u]=xs[l]})});function uo(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||xs.hasOwnProperty(l)&&xs[l]?(""+u).trim():u+"px"}function xe(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var v=p.indexOf("--")===0,w=uo(p,u[p],v);p==="float"&&(p="cssFloat"),v?l.setProperty(p,w):l[p]=w}}var ft=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(l,u){if(u){if(ft[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Jn(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xt=null;function jt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Xn=null,Qt=null,dr=null;function Jr(l){if(l=Vd(l)){if(typeof Xn!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Nf(u),Xn(l.stateNode,l.type,u))}}function Be(l){Qt?dr?dr.push(l):dr=[l]:Qt=l}function St(){if(Qt){var l=Qt,u=dr;if(dr=Qt=null,Jr(l),u)for(l=0;l<u.length;l++)Jr(u[l])}}function Ct(l,u){return l(u)}function $t(){}var Js=!1;function Wt(l,u,p){if(Js)return l(u,p);Js=!0;try{return Ct(l,u,p)}finally{Js=!1,(Qt!==null||dr!==null)&&($t(),St())}}function on(l,u){var p=l.stateNode;if(p===null)return null;var v=Nf(p);if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var vs=!1;if(c)try{var En={};Object.defineProperty(En,"passive",{get:function(){vs=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{vs=!1}function Ar(l,u,p,v,w,k,I,Y,te){var oe=Array.prototype.slice.call(arguments,3);try{u.apply(p,oe)}catch(fe){this.onError(fe)}}var na=!1,Xr=null,Nd=!1,Dx=null,l6={onError:function(l){na=!0,Xr=l}};function c6(l,u,p,v,w,k,I,Y,te){na=!1,Xr=null,Ar.apply(l6,arguments)}function d6(l,u,p,v,w,k,I,Y,te){if(c6.apply(this,arguments),na){if(na){var oe=Xr;na=!1,Xr=null}else throw Error(n(198));Nd||(Nd=!0,Dx=oe)}}function ho(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function qS(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function GS(l){if(ho(l)!==l)throw Error(n(188))}function u6(l){var u=l.alternate;if(!u){if(u=ho(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,v=u;;){var w=p.return;if(w===null)break;var k=w.alternate;if(k===null){if(v=w.return,v!==null){p=v;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===p)return GS(w),l;if(k===v)return GS(w),u;k=k.sibling}throw Error(n(188))}if(p.return!==v.return)p=w,v=k;else{for(var I=!1,Y=w.child;Y;){if(Y===p){I=!0,p=w,v=k;break}if(Y===v){I=!0,v=w,p=k;break}Y=Y.sibling}if(!I){for(Y=k.child;Y;){if(Y===p){I=!0,p=k,v=w;break}if(Y===v){I=!0,v=k,p=w;break}Y=Y.sibling}if(!I)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function KS(l){return l=u6(l),l!==null?YS(l):null}function YS(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=YS(l);if(u!==null)return u;l=l.sibling}return null}var JS=t.unstable_scheduleCallback,XS=t.unstable_cancelCallback,h6=t.unstable_shouldYield,f6=t.unstable_requestPaint,Zt=t.unstable_now,m6=t.unstable_getCurrentPriorityLevel,Lx=t.unstable_ImmediatePriority,QS=t.unstable_UserBlockingPriority,rf=t.unstable_NormalPriority,p6=t.unstable_LowPriority,ZS=t.unstable_IdlePriority,sf=null,Xs=null;function g6(l){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(sf,l,void 0,(l.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:v6,x6=Math.log,y6=Math.LN2;function v6(l){return l>>>=0,l===0?32:31-(x6(l)/y6|0)|0}var af=64,of=4194304;function _d(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function lf(l,u){var p=l.pendingLanes;if(p===0)return 0;var v=0,w=l.suspendedLanes,k=l.pingedLanes,I=p&268435455;if(I!==0){var Y=I&~w;Y!==0?v=_d(Y):(k&=I,k!==0&&(v=_d(k)))}else I=p&~w,I!==0?v=_d(I):k!==0&&(v=_d(k));if(v===0)return 0;if(u!==0&&u!==v&&(u&w)===0&&(w=v&-v,k=u&-u,w>=k||w===16&&(k&4194240)!==0))return u;if((v&4)!==0&&(v|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)p=31-bs(u),w=1<<p,v|=l[p],u&=~w;return v}function b6(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w6(l,u){for(var p=l.suspendedLanes,v=l.pingedLanes,w=l.expirationTimes,k=l.pendingLanes;0<k;){var I=31-bs(k),Y=1<<I,te=w[I];te===-1?((Y&p)===0||(Y&v)!==0)&&(w[I]=b6(Y,u)):te<=u&&(l.expiredLanes|=Y),k&=~Y}}function $x(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function eN(){var l=af;return af<<=1,(af&4194240)===0&&(af=64),l}function Fx(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function kd(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-bs(u),l[u]=p}function j6(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<p;){var w=31-bs(p),k=1<<w;u[w]=0,v[w]=-1,l[w]=-1,p&=~k}}function Ux(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-bs(p),w=1<<v;w&u|l[v]&u&&(l[v]|=u),p&=~w}}var bt=0;function tN(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var nN,zx,rN,sN,iN,Bx=!1,cf=[],ra=null,sa=null,ia=null,Cd=new Map,Ed=new Map,aa=[],S6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aN(l,u){switch(l){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Cd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(u.pointerId)}}function Td(l,u,p,v,w,k){return l===null||l.nativeEvent!==k?(l={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:k,targetContainers:[w]},u!==null&&(u=Vd(u),u!==null&&zx(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),l)}function N6(l,u,p,v,w){switch(u){case"focusin":return ra=Td(ra,l,u,p,v,w),!0;case"dragenter":return sa=Td(sa,l,u,p,v,w),!0;case"mouseover":return ia=Td(ia,l,u,p,v,w),!0;case"pointerover":var k=w.pointerId;return Cd.set(k,Td(Cd.get(k)||null,l,u,p,v,w)),!0;case"gotpointercapture":return k=w.pointerId,Ed.set(k,Td(Ed.get(k)||null,l,u,p,v,w)),!0}return!1}function oN(l){var u=fo(l.target);if(u!==null){var p=ho(u);if(p!==null){if(u=p.tag,u===13){if(u=qS(p),u!==null){l.blockedOn=u,iN(l.priority,function(){rN(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function df(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=Wx(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);Xt=v,p.target.dispatchEvent(v),Xt=null}else return u=Vd(p),u!==null&&zx(u),l.blockedOn=p,!1;u.shift()}return!0}function lN(l,u,p){df(l)&&p.delete(u)}function _6(){Bx=!1,ra!==null&&df(ra)&&(ra=null),sa!==null&&df(sa)&&(sa=null),ia!==null&&df(ia)&&(ia=null),Cd.forEach(lN),Ed.forEach(lN)}function Pd(l,u){l.blockedOn===u&&(l.blockedOn=null,Bx||(Bx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_6)))}function Rd(l){function u(w){return Pd(w,l)}if(0<cf.length){Pd(cf[0],l);for(var p=1;p<cf.length;p++){var v=cf[p];v.blockedOn===l&&(v.blockedOn=null)}}for(ra!==null&&Pd(ra,l),sa!==null&&Pd(sa,l),ia!==null&&Pd(ia,l),Cd.forEach(u),Ed.forEach(u),p=0;p<aa.length;p++)v=aa[p],v.blockedOn===l&&(v.blockedOn=null);for(;0<aa.length&&(p=aa[0],p.blockedOn===null);)oN(p),p.blockedOn===null&&aa.shift()}var Sl=T.ReactCurrentBatchConfig,uf=!0;function k6(l,u,p,v){var w=bt,k=Sl.transition;Sl.transition=null;try{bt=1,Vx(l,u,p,v)}finally{bt=w,Sl.transition=k}}function C6(l,u,p,v){var w=bt,k=Sl.transition;Sl.transition=null;try{bt=4,Vx(l,u,p,v)}finally{bt=w,Sl.transition=k}}function Vx(l,u,p,v){if(uf){var w=Wx(l,u,p,v);if(w===null)oy(l,u,v,hf,p),aN(l,v);else if(N6(w,l,u,p,v))v.stopPropagation();else if(aN(l,v),u&4&&-1<S6.indexOf(l)){for(;w!==null;){var k=Vd(w);if(k!==null&&nN(k),k=Wx(l,u,p,v),k===null&&oy(l,u,v,hf,p),k===w)break;w=k}w!==null&&v.stopPropagation()}else oy(l,u,v,null,p)}}var hf=null;function Wx(l,u,p,v){if(hf=null,l=jt(v),l=fo(l),l!==null)if(u=ho(l),u===null)l=null;else if(p=u.tag,p===13){if(l=qS(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return hf=l,null}function cN(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m6()){case Lx:return 1;case QS:return 4;case rf:case p6:return 16;case ZS:return 536870912;default:return 16}default:return 16}}var oa=null,Hx=null,ff=null;function dN(){if(ff)return ff;var l,u=Hx,p=u.length,v,w="value"in oa?oa.value:oa.textContent,k=w.length;for(l=0;l<p&&u[l]===w[l];l++);var I=p-l;for(v=1;v<=I&&u[p-v]===w[k-v];v++);return ff=w.slice(l,1<v?1-v:void 0)}function mf(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function pf(){return!0}function uN(){return!1}function Ir(l){function u(p,v,w,k,I){this._reactName=p,this._targetInst=w,this.type=v,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(p=l[Y],this[Y]=p?p(k):k[Y]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?pf:uN,this.isPropagationStopped=uN,this}return H(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),u}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=Ir(Nl),Ad=H({},Nl,{view:0,detail:0}),E6=Ir(Ad),Gx,Kx,Id,gf=H({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Id&&(Id&&l.type==="mousemove"?(Gx=l.screenX-Id.screenX,Kx=l.screenY-Id.screenY):Kx=Gx=0,Id=l),Gx)},movementY:function(l){return"movementY"in l?l.movementY:Kx}}),hN=Ir(gf),T6=H({},gf,{dataTransfer:0}),P6=Ir(T6),R6=H({},Ad,{relatedTarget:0}),Yx=Ir(R6),A6=H({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),I6=Ir(A6),O6=H({},Nl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),M6=Ir(O6),D6=H({},Nl,{data:0}),fN=Ir(D6),L6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U6(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=F6[l])?!!u[l]:!1}function Jx(){return U6}var z6=H({},Ad,{key:function(l){if(l.key){var u=L6[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=mf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?$6[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(l){return l.type==="keypress"?mf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?mf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),B6=Ir(z6),V6=H({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mN=Ir(V6),W6=H({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),H6=Ir(W6),q6=H({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),G6=Ir(q6),K6=H({},gf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Y6=Ir(K6),J6=[9,13,27,32],Xx=c&&"CompositionEvent"in window,Od=null;c&&"documentMode"in document&&(Od=document.documentMode);var X6=c&&"TextEvent"in window&&!Od,pN=c&&(!Xx||Od&&8<Od&&11>=Od),gN=" ",xN=!1;function yN(l,u){switch(l){case"keyup":return J6.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vN(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var _l=!1;function Q6(l,u){switch(l){case"compositionend":return vN(u);case"keypress":return u.which!==32?null:(xN=!0,gN);case"textInput":return l=u.data,l===gN&&xN?null:l;default:return null}}function Z6(l,u){if(_l)return l==="compositionend"||!Xx&&yN(l,u)?(l=dN(),ff=Hx=oa=null,_l=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return pN&&u.locale!=="ko"?null:u.data;default:return null}}var eF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bN(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!eF[l.type]:u==="textarea"}function wN(l,u,p,v){Be(v),u=wf(u,"onChange"),0<u.length&&(p=new qx("onChange","change",null,p,v),l.push({event:p,listeners:u}))}var Md=null,Dd=null;function tF(l){FN(l,0)}function xf(l){var u=Pl(l);if(je(u))return l}function nF(l,u){if(l==="change")return u}var jN=!1;if(c){var Qx;if(c){var Zx="oninput"in document;if(!Zx){var SN=document.createElement("div");SN.setAttribute("oninput","return;"),Zx=typeof SN.oninput=="function"}Qx=Zx}else Qx=!1;jN=Qx&&(!document.documentMode||9<document.documentMode)}function NN(){Md&&(Md.detachEvent("onpropertychange",_N),Dd=Md=null)}function _N(l){if(l.propertyName==="value"&&xf(Dd)){var u=[];wN(u,Dd,l,jt(l)),Wt(tF,u)}}function rF(l,u,p){l==="focusin"?(NN(),Md=u,Dd=p,Md.attachEvent("onpropertychange",_N)):l==="focusout"&&NN()}function sF(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return xf(Dd)}function iF(l,u){if(l==="click")return xf(u)}function aF(l,u){if(l==="input"||l==="change")return xf(u)}function oF(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ws=typeof Object.is=="function"?Object.is:oF;function Ld(l,u){if(ws(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var w=p[v];if(!d.call(u,w)||!ws(l[w],u[w]))return!1}return!0}function kN(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function CN(l,u){var p=kN(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=u&&v>=u)return{node:p,offset:u-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=kN(p)}}function EN(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?EN(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function TN(){for(var l=window,u=qe();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=qe(l.document)}return u}function ey(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function lF(l){var u=TN(),p=l.focusedElem,v=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&EN(p.ownerDocument.documentElement,p)){if(v!==null&&ey(p)){if(u=v.start,l=v.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var w=p.textContent.length,k=Math.min(v.start,w);v=v.end===void 0?k:Math.min(v.end,w),!l.extend&&k>v&&(w=v,v=k,k=w),w=CN(p,k);var I=CN(p,v);w&&I&&(l.rangeCount!==1||l.anchorNode!==w.node||l.anchorOffset!==w.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(w.node,w.offset),l.removeAllRanges(),k>v?(l.addRange(u),l.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var cF=c&&"documentMode"in document&&11>=document.documentMode,kl=null,ty=null,$d=null,ny=!1;function PN(l,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ny||kl==null||kl!==qe(v)||(v=kl,"selectionStart"in v&&ey(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),$d&&Ld($d,v)||($d=v,v=wf(ty,"onSelect"),0<v.length&&(u=new qx("onSelect","select",null,u,p),l.push({event:u,listeners:v}),u.target=kl)))}function yf(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Cl={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},ry={},RN={};c&&(RN=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function vf(l){if(ry[l])return ry[l];if(!Cl[l])return l;var u=Cl[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in RN)return ry[l]=u[p];return l}var AN=vf("animationend"),IN=vf("animationiteration"),ON=vf("animationstart"),MN=vf("transitionend"),DN=new Map,LN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(l,u){DN.set(l,u),a(u,[l])}for(var sy=0;sy<LN.length;sy++){var iy=LN[sy],dF=iy.toLowerCase(),uF=iy[0].toUpperCase()+iy.slice(1);la(dF,"on"+uF)}la(AN,"onAnimationEnd"),la(IN,"onAnimationIteration"),la(ON,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(MN,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function $N(l,u,p){var v=l.type||"unknown-event";l.currentTarget=p,d6(v,u,void 0,l),l.currentTarget=null}function FN(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],w=v.event;v=v.listeners;e:{var k=void 0;if(u)for(var I=v.length-1;0<=I;I--){var Y=v[I],te=Y.instance,oe=Y.currentTarget;if(Y=Y.listener,te!==k&&w.isPropagationStopped())break e;$N(w,Y,oe),k=te}else for(I=0;I<v.length;I++){if(Y=v[I],te=Y.instance,oe=Y.currentTarget,Y=Y.listener,te!==k&&w.isPropagationStopped())break e;$N(w,Y,oe),k=te}}}if(Nd)throw l=Dx,Nd=!1,Dx=null,l}function Ot(l,u){var p=u[fy];p===void 0&&(p=u[fy]=new Set);var v=l+"__bubble";p.has(v)||(UN(u,l,2,!1),p.add(v))}function ay(l,u,p){var v=0;u&&(v|=4),UN(p,l,v,u)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Ud(l){if(!l[bf]){l[bf]=!0,s.forEach(function(p){p!=="selectionchange"&&(hF.has(p)||ay(p,!1,l),ay(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[bf]||(u[bf]=!0,ay("selectionchange",!1,u))}}function UN(l,u,p,v){switch(cN(u)){case 1:var w=k6;break;case 4:w=C6;break;default:w=Vx}p=w.bind(null,u,p,l),w=void 0,!vs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),v?w!==void 0?l.addEventListener(u,p,{capture:!0,passive:w}):l.addEventListener(u,p,!0):w!==void 0?l.addEventListener(u,p,{passive:w}):l.addEventListener(u,p,!1)}function oy(l,u,p,v,w){var k=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var Y=v.stateNode.containerInfo;if(Y===w||Y.nodeType===8&&Y.parentNode===w)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&(te=I.stateNode.containerInfo,te===w||te.nodeType===8&&te.parentNode===w))return;I=I.return}for(;Y!==null;){if(I=fo(Y),I===null)return;if(te=I.tag,te===5||te===6){v=k=I;continue e}Y=Y.parentNode}}v=v.return}Wt(function(){var oe=k,fe=jt(p),me=[];e:{var he=DN.get(l);if(he!==void 0){var Se=qx,Ee=l;switch(l){case"keypress":if(mf(p)===0)break e;case"keydown":case"keyup":Se=B6;break;case"focusin":Ee="focus",Se=Yx;break;case"focusout":Ee="blur",Se=Yx;break;case"beforeblur":case"afterblur":Se=Yx;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=hN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=P6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=H6;break;case AN:case IN:case ON:Se=I6;break;case MN:Se=G6;break;case"scroll":Se=E6;break;case"wheel":Se=Y6;break;case"copy":case"cut":case"paste":Se=M6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=mN}var Re=(u&4)!==0,en=!Re&&l==="scroll",ie=Re?he!==null?he+"Capture":null:he;Re=[];for(var ne=oe,ae;ne!==null;){ae=ne;var ge=ae.stateNode;if(ae.tag===5&&ge!==null&&(ae=ge,ie!==null&&(ge=on(ne,ie),ge!=null&&Re.push(zd(ne,ge,ae)))),en)break;ne=ne.return}0<Re.length&&(he=new Se(he,Ee,null,p,fe),me.push({event:he,listeners:Re}))}}if((u&7)===0){e:{if(he=l==="mouseover"||l==="pointerover",Se=l==="mouseout"||l==="pointerout",he&&p!==Xt&&(Ee=p.relatedTarget||p.fromElement)&&(fo(Ee)||Ee[Si]))break e;if((Se||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,Se?(Ee=p.relatedTarget||p.toElement,Se=oe,Ee=Ee?fo(Ee):null,Ee!==null&&(en=ho(Ee),Ee!==en||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=oe),Se!==Ee)){if(Re=hN,ge="onMouseLeave",ie="onMouseEnter",ne="mouse",(l==="pointerout"||l==="pointerover")&&(Re=mN,ge="onPointerLeave",ie="onPointerEnter",ne="pointer"),en=Se==null?he:Pl(Se),ae=Ee==null?he:Pl(Ee),he=new Re(ge,ne+"leave",Se,p,fe),he.target=en,he.relatedTarget=ae,ge=null,fo(fe)===oe&&(Re=new Re(ie,ne+"enter",Ee,p,fe),Re.target=ae,Re.relatedTarget=en,ge=Re),en=ge,Se&&Ee)t:{for(Re=Se,ie=Ee,ne=0,ae=Re;ae;ae=El(ae))ne++;for(ae=0,ge=ie;ge;ge=El(ge))ae++;for(;0<ne-ae;)Re=El(Re),ne--;for(;0<ae-ne;)ie=El(ie),ae--;for(;ne--;){if(Re===ie||ie!==null&&Re===ie.alternate)break t;Re=El(Re),ie=El(ie)}Re=null}else Re=null;Se!==null&&zN(me,he,Se,Re,!1),Ee!==null&&en!==null&&zN(me,en,Ee,Re,!0)}}e:{if(he=oe?Pl(oe):window,Se=he.nodeName&&he.nodeName.toLowerCase(),Se==="select"||Se==="input"&&he.type==="file")var Ae=nF;else if(bN(he))if(jN)Ae=aF;else{Ae=sF;var Ue=rF}else(Se=he.nodeName)&&Se.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ae=iF);if(Ae&&(Ae=Ae(l,oe))){wN(me,Ae,p,fe);break e}Ue&&Ue(l,he,oe),l==="focusout"&&(Ue=he._wrapperState)&&Ue.controlled&&he.type==="number"&&an(he,"number",he.value)}switch(Ue=oe?Pl(oe):window,l){case"focusin":(bN(Ue)||Ue.contentEditable==="true")&&(kl=Ue,ty=oe,$d=null);break;case"focusout":$d=ty=kl=null;break;case"mousedown":ny=!0;break;case"contextmenu":case"mouseup":case"dragend":ny=!1,PN(me,p,fe);break;case"selectionchange":if(cF)break;case"keydown":case"keyup":PN(me,p,fe)}var ze;if(Xx)e:{switch(l){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else _l?yN(l,p)&&(Ge="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Ge="onCompositionStart");Ge&&(pN&&p.locale!=="ko"&&(_l||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&_l&&(ze=dN()):(oa=fe,Hx="value"in oa?oa.value:oa.textContent,_l=!0)),Ue=wf(oe,Ge),0<Ue.length&&(Ge=new fN(Ge,l,null,p,fe),me.push({event:Ge,listeners:Ue}),ze?Ge.data=ze:(ze=vN(p),ze!==null&&(Ge.data=ze)))),(ze=X6?Q6(l,p):Z6(l,p))&&(oe=wf(oe,"onBeforeInput"),0<oe.length&&(fe=new fN("onBeforeInput","beforeinput",null,p,fe),me.push({event:fe,listeners:oe}),fe.data=ze))}FN(me,u)})}function zd(l,u,p){return{instance:l,listener:u,currentTarget:p}}function wf(l,u){for(var p=u+"Capture",v=[];l!==null;){var w=l,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=on(l,p),k!=null&&v.unshift(zd(l,k,w)),k=on(l,u),k!=null&&v.push(zd(l,k,w))),l=l.return}return v}function El(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function zN(l,u,p,v,w){for(var k=u._reactName,I=[];p!==null&&p!==v;){var Y=p,te=Y.alternate,oe=Y.stateNode;if(te!==null&&te===v)break;Y.tag===5&&oe!==null&&(Y=oe,w?(te=on(p,k),te!=null&&I.unshift(zd(p,te,Y))):w||(te=on(p,k),te!=null&&I.push(zd(p,te,Y)))),p=p.return}I.length!==0&&l.push({event:u,listeners:I})}var fF=/\r\n?/g,mF=/\u0000|\uFFFD/g;function BN(l){return(typeof l=="string"?l:""+l).replace(fF,`
`).replace(mF,"")}function jf(l,u,p){if(u=BN(u),BN(l)!==u&&p)throw Error(n(425))}function Sf(){}var ly=null,cy=null;function dy(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var uy=typeof setTimeout=="function"?setTimeout:void 0,pF=typeof clearTimeout=="function"?clearTimeout:void 0,VN=typeof Promise=="function"?Promise:void 0,gF=typeof queueMicrotask=="function"?queueMicrotask:typeof VN<"u"?function(l){return VN.resolve(null).then(l).catch(xF)}:uy;function xF(l){setTimeout(function(){throw l})}function hy(l,u){var p=u,v=0;do{var w=p.nextSibling;if(l.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(v===0){l.removeChild(w),Rd(u);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=w}while(p);Rd(u)}function ca(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function WN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),Qs="__reactFiber$"+Tl,Bd="__reactProps$"+Tl,Si="__reactContainer$"+Tl,fy="__reactEvents$"+Tl,yF="__reactListeners$"+Tl,vF="__reactHandles$"+Tl;function fo(l){var u=l[Qs];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Si]||p[Qs]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=WN(l);l!==null;){if(p=l[Qs])return p;l=WN(l)}return u}l=p,p=l.parentNode}return null}function Vd(l){return l=l[Qs]||l[Si],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Pl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Nf(l){return l[Bd]||null}var my=[],Rl=-1;function da(l){return{current:l}}function Mt(l){0>Rl||(l.current=my[Rl],my[Rl]=null,Rl--)}function Tt(l,u){Rl++,my[Rl]=l.current,l.current=u}var ua={},Fn=da(ua),ur=da(!1),mo=ua;function Al(l,u){var p=l.type.contextTypes;if(!p)return ua;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in p)w[k]=u[k];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=w),w}function hr(l){return l=l.childContextTypes,l!=null}function _f(){Mt(ur),Mt(Fn)}function HN(l,u,p){if(Fn.current!==ua)throw Error(n(168));Tt(Fn,u),Tt(ur,p)}function qN(l,u,p){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var w in v)if(!(w in u))throw Error(n(108,K(l)||"Unknown",w));return H({},p,v)}function kf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ua,mo=Fn.current,Tt(Fn,l),Tt(ur,ur.current),!0}function GN(l,u,p){var v=l.stateNode;if(!v)throw Error(n(169));p?(l=qN(l,u,mo),v.__reactInternalMemoizedMergedChildContext=l,Mt(ur),Mt(Fn),Tt(Fn,l)):Mt(ur),Tt(ur,p)}var Ni=null,Cf=!1,py=!1;function KN(l){Ni===null?Ni=[l]:Ni.push(l)}function bF(l){Cf=!0,KN(l)}function ha(){if(!py&&Ni!==null){py=!0;var l=0,u=bt;try{var p=Ni;for(bt=1;l<p.length;l++){var v=p[l];do v=v(!0);while(v!==null)}Ni=null,Cf=!1}catch(w){throw Ni!==null&&(Ni=Ni.slice(l+1)),JS(Lx,ha),w}finally{bt=u,py=!1}}return null}var Il=[],Ol=0,Ef=null,Tf=0,Qr=[],Zr=0,po=null,_i=1,ki="";function go(l,u){Il[Ol++]=Tf,Il[Ol++]=Ef,Ef=l,Tf=u}function YN(l,u,p){Qr[Zr++]=_i,Qr[Zr++]=ki,Qr[Zr++]=po,po=l;var v=_i;l=ki;var w=32-bs(v)-1;v&=~(1<<w),p+=1;var k=32-bs(u)+w;if(30<k){var I=w-w%5;k=(v&(1<<I)-1).toString(32),v>>=I,w-=I,_i=1<<32-bs(u)+w|p<<w|v,ki=k+l}else _i=1<<k|p<<w|v,ki=l}function gy(l){l.return!==null&&(go(l,1),YN(l,1,0))}function xy(l){for(;l===Ef;)Ef=Il[--Ol],Il[Ol]=null,Tf=Il[--Ol],Il[Ol]=null;for(;l===po;)po=Qr[--Zr],Qr[Zr]=null,ki=Qr[--Zr],Qr[Zr]=null,_i=Qr[--Zr],Qr[Zr]=null}var Or=null,Mr=null,Dt=!1,js=null;function JN(l,u){var p=rs(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function XN(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Or=l,Mr=ca(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Or=l,Mr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=po!==null?{id:_i,overflow:ki}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=rs(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Or=l,Mr=null,!0):!1;default:return!1}}function yy(l){return(l.mode&1)!==0&&(l.flags&128)===0}function vy(l){if(Dt){var u=Mr;if(u){var p=u;if(!XN(l,u)){if(yy(l))throw Error(n(418));u=ca(p.nextSibling);var v=Or;u&&XN(l,u)?JN(v,p):(l.flags=l.flags&-4097|2,Dt=!1,Or=l)}}else{if(yy(l))throw Error(n(418));l.flags=l.flags&-4097|2,Dt=!1,Or=l}}}function QN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Or=l}function Pf(l){if(l!==Or)return!1;if(!Dt)return QN(l),Dt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!dy(l.type,l.memoizedProps)),u&&(u=Mr)){if(yy(l))throw ZN(),Error(n(418));for(;u;)JN(l,u),u=ca(u.nextSibling)}if(QN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){Mr=ca(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}Mr=null}}else Mr=Or?ca(l.stateNode.nextSibling):null;return!0}function ZN(){for(var l=Mr;l;)l=ca(l.nextSibling)}function Ml(){Mr=Or=null,Dt=!1}function by(l){js===null?js=[l]:js.push(l)}var wF=T.ReactCurrentBatchConfig;function Wd(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var v=p.stateNode}if(!v)throw Error(n(147,l));var w=v,k=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function(I){var Y=w.refs;I===null?delete Y[k]:Y[k]=I},u._stringRef=k,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function Rf(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function e_(l){var u=l._init;return u(l._payload)}function t_(l){function u(ie,ne){if(l){var ae=ie.deletions;ae===null?(ie.deletions=[ne],ie.flags|=16):ae.push(ne)}}function p(ie,ne){if(!l)return null;for(;ne!==null;)u(ie,ne),ne=ne.sibling;return null}function v(ie,ne){for(ie=new Map;ne!==null;)ne.key!==null?ie.set(ne.key,ne):ie.set(ne.index,ne),ne=ne.sibling;return ie}function w(ie,ne){return ie=ba(ie,ne),ie.index=0,ie.sibling=null,ie}function k(ie,ne,ae){return ie.index=ae,l?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<ne?(ie.flags|=2,ne):ae):(ie.flags|=2,ne)):(ie.flags|=1048576,ne)}function I(ie){return l&&ie.alternate===null&&(ie.flags|=2),ie}function Y(ie,ne,ae,ge){return ne===null||ne.tag!==6?(ne=u0(ae,ie.mode,ge),ne.return=ie,ne):(ne=w(ne,ae),ne.return=ie,ne)}function te(ie,ne,ae,ge){var Ae=ae.type;return Ae===E?fe(ie,ne,ae.props.children,ge,ae.key):ne!==null&&(ne.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===F&&e_(Ae)===ne.type)?(ge=w(ne,ae.props),ge.ref=Wd(ie,ne,ae),ge.return=ie,ge):(ge=tm(ae.type,ae.key,ae.props,null,ie.mode,ge),ge.ref=Wd(ie,ne,ae),ge.return=ie,ge)}function oe(ie,ne,ae,ge){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ae.containerInfo||ne.stateNode.implementation!==ae.implementation?(ne=h0(ae,ie.mode,ge),ne.return=ie,ne):(ne=w(ne,ae.children||[]),ne.return=ie,ne)}function fe(ie,ne,ae,ge,Ae){return ne===null||ne.tag!==7?(ne=No(ae,ie.mode,ge,Ae),ne.return=ie,ne):(ne=w(ne,ae),ne.return=ie,ne)}function me(ie,ne,ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=u0(""+ne,ie.mode,ae),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ae=tm(ne.type,ne.key,ne.props,null,ie.mode,ae),ae.ref=Wd(ie,null,ne),ae.return=ie,ae;case P:return ne=h0(ne,ie.mode,ae),ne.return=ie,ne;case F:var ge=ne._init;return me(ie,ge(ne._payload),ae)}if(Ze(ne)||Z(ne))return ne=No(ne,ie.mode,ae,null),ne.return=ie,ne;Rf(ie,ne)}return null}function he(ie,ne,ae,ge){var Ae=ne!==null?ne.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ae!==null?null:Y(ie,ne,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case M:return ae.key===Ae?te(ie,ne,ae,ge):null;case P:return ae.key===Ae?oe(ie,ne,ae,ge):null;case F:return Ae=ae._init,he(ie,ne,Ae(ae._payload),ge)}if(Ze(ae)||Z(ae))return Ae!==null?null:fe(ie,ne,ae,ge,null);Rf(ie,ae)}return null}function Se(ie,ne,ae,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ie=ie.get(ae)||null,Y(ne,ie,""+ge,Ae);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case M:return ie=ie.get(ge.key===null?ae:ge.key)||null,te(ne,ie,ge,Ae);case P:return ie=ie.get(ge.key===null?ae:ge.key)||null,oe(ne,ie,ge,Ae);case F:var Ue=ge._init;return Se(ie,ne,ae,Ue(ge._payload),Ae)}if(Ze(ge)||Z(ge))return ie=ie.get(ae)||null,fe(ne,ie,ge,Ae,null);Rf(ne,ge)}return null}function Ee(ie,ne,ae,ge){for(var Ae=null,Ue=null,ze=ne,Ge=ne=0,Sn=null;ze!==null&&Ge<ae.length;Ge++){ze.index>Ge?(Sn=ze,ze=null):Sn=ze.sibling;var xt=he(ie,ze,ae[Ge],ge);if(xt===null){ze===null&&(ze=Sn);break}l&&ze&&xt.alternate===null&&u(ie,ze),ne=k(xt,ne,Ge),Ue===null?Ae=xt:Ue.sibling=xt,Ue=xt,ze=Sn}if(Ge===ae.length)return p(ie,ze),Dt&&go(ie,Ge),Ae;if(ze===null){for(;Ge<ae.length;Ge++)ze=me(ie,ae[Ge],ge),ze!==null&&(ne=k(ze,ne,Ge),Ue===null?Ae=ze:Ue.sibling=ze,Ue=ze);return Dt&&go(ie,Ge),Ae}for(ze=v(ie,ze);Ge<ae.length;Ge++)Sn=Se(ze,ie,Ge,ae[Ge],ge),Sn!==null&&(l&&Sn.alternate!==null&&ze.delete(Sn.key===null?Ge:Sn.key),ne=k(Sn,ne,Ge),Ue===null?Ae=Sn:Ue.sibling=Sn,Ue=Sn);return l&&ze.forEach(function(wa){return u(ie,wa)}),Dt&&go(ie,Ge),Ae}function Re(ie,ne,ae,ge){var Ae=Z(ae);if(typeof Ae!="function")throw Error(n(150));if(ae=Ae.call(ae),ae==null)throw Error(n(151));for(var Ue=Ae=null,ze=ne,Ge=ne=0,Sn=null,xt=ae.next();ze!==null&&!xt.done;Ge++,xt=ae.next()){ze.index>Ge?(Sn=ze,ze=null):Sn=ze.sibling;var wa=he(ie,ze,xt.value,ge);if(wa===null){ze===null&&(ze=Sn);break}l&&ze&&wa.alternate===null&&u(ie,ze),ne=k(wa,ne,Ge),Ue===null?Ae=wa:Ue.sibling=wa,Ue=wa,ze=Sn}if(xt.done)return p(ie,ze),Dt&&go(ie,Ge),Ae;if(ze===null){for(;!xt.done;Ge++,xt=ae.next())xt=me(ie,xt.value,ge),xt!==null&&(ne=k(xt,ne,Ge),Ue===null?Ae=xt:Ue.sibling=xt,Ue=xt);return Dt&&go(ie,Ge),Ae}for(ze=v(ie,ze);!xt.done;Ge++,xt=ae.next())xt=Se(ze,ie,Ge,xt.value,ge),xt!==null&&(l&&xt.alternate!==null&&ze.delete(xt.key===null?Ge:xt.key),ne=k(xt,ne,Ge),Ue===null?Ae=xt:Ue.sibling=xt,Ue=xt);return l&&ze.forEach(function(eU){return u(ie,eU)}),Dt&&go(ie,Ge),Ae}function en(ie,ne,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case M:e:{for(var Ae=ae.key,Ue=ne;Ue!==null;){if(Ue.key===Ae){if(Ae=ae.type,Ae===E){if(Ue.tag===7){p(ie,Ue.sibling),ne=w(Ue,ae.props.children),ne.return=ie,ie=ne;break e}}else if(Ue.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===F&&e_(Ae)===Ue.type){p(ie,Ue.sibling),ne=w(Ue,ae.props),ne.ref=Wd(ie,Ue,ae),ne.return=ie,ie=ne;break e}p(ie,Ue);break}else u(ie,Ue);Ue=Ue.sibling}ae.type===E?(ne=No(ae.props.children,ie.mode,ge,ae.key),ne.return=ie,ie=ne):(ge=tm(ae.type,ae.key,ae.props,null,ie.mode,ge),ge.ref=Wd(ie,ne,ae),ge.return=ie,ie=ge)}return I(ie);case P:e:{for(Ue=ae.key;ne!==null;){if(ne.key===Ue)if(ne.tag===4&&ne.stateNode.containerInfo===ae.containerInfo&&ne.stateNode.implementation===ae.implementation){p(ie,ne.sibling),ne=w(ne,ae.children||[]),ne.return=ie,ie=ne;break e}else{p(ie,ne);break}else u(ie,ne);ne=ne.sibling}ne=h0(ae,ie.mode,ge),ne.return=ie,ie=ne}return I(ie);case F:return Ue=ae._init,en(ie,ne,Ue(ae._payload),ge)}if(Ze(ae))return Ee(ie,ne,ae,ge);if(Z(ae))return Re(ie,ne,ae,ge);Rf(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ne!==null&&ne.tag===6?(p(ie,ne.sibling),ne=w(ne,ae),ne.return=ie,ie=ne):(p(ie,ne),ne=u0(ae,ie.mode,ge),ne.return=ie,ie=ne),I(ie)):p(ie,ne)}return en}var Dl=t_(!0),n_=t_(!1),Af=da(null),If=null,Ll=null,wy=null;function jy(){wy=Ll=If=null}function Sy(l){var u=Af.current;Mt(Af),l._currentValue=u}function Ny(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function $l(l,u){If=l,wy=Ll=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(fr=!0),l.firstContext=null)}function es(l){var u=l._currentValue;if(wy!==l)if(l={context:l,memoizedValue:u,next:null},Ll===null){if(If===null)throw Error(n(308));Ll=l,If.dependencies={lanes:0,firstContext:l}}else Ll=Ll.next=l;return u}var xo=null;function _y(l){xo===null?xo=[l]:xo.push(l)}function r_(l,u,p,v){var w=u.interleaved;return w===null?(p.next=p,_y(u)):(p.next=w.next,w.next=p),u.interleaved=p,Ci(l,v)}function Ci(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var fa=!1;function ky(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ei(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ma(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(mt&2)!==0){var w=v.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),v.pending=u,Ci(l,p)}return w=v.interleaved,w===null?(u.next=u,_y(v)):(u.next=w.next,w.next=u),v.interleaved=u,Ci(l,p)}function Of(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,Ux(l,p)}}function i_(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var w=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var I={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};k===null?w=k=I:k=k.next=I,p=p.next}while(p!==null);k===null?w=k=u:k=k.next=u}else w=k=u;p={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:v.shared,effects:v.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Mf(l,u,p,v){var w=l.updateQueue;fa=!1;var k=w.firstBaseUpdate,I=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var te=Y,oe=te.next;te.next=null,I===null?k=oe:I.next=oe,I=te;var fe=l.alternate;fe!==null&&(fe=fe.updateQueue,Y=fe.lastBaseUpdate,Y!==I&&(Y===null?fe.firstBaseUpdate=oe:Y.next=oe,fe.lastBaseUpdate=te))}if(k!==null){var me=w.baseState;I=0,fe=oe=te=null,Y=k;do{var he=Y.lane,Se=Y.eventTime;if((v&he)===he){fe!==null&&(fe=fe.next={eventTime:Se,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ee=l,Re=Y;switch(he=u,Se=p,Re.tag){case 1:if(Ee=Re.payload,typeof Ee=="function"){me=Ee.call(Se,me,he);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Re.payload,he=typeof Ee=="function"?Ee.call(Se,me,he):Ee,he==null)break e;me=H({},me,he);break e;case 2:fa=!0}}Y.callback!==null&&Y.lane!==0&&(l.flags|=64,he=w.effects,he===null?w.effects=[Y]:he.push(Y))}else Se={eventTime:Se,lane:he,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},fe===null?(oe=fe=Se,te=me):fe=fe.next=Se,I|=he;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;he=Y,Y=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(fe===null&&(te=me),w.baseState=te,w.firstBaseUpdate=oe,w.lastBaseUpdate=fe,u=w.shared.interleaved,u!==null){w=u;do I|=w.lane,w=w.next;while(w!==u)}else k===null&&(w.shared.lanes=0);bo|=I,l.lanes=I,l.memoizedState=me}}function a_(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],w=v.callback;if(w!==null){if(v.callback=null,v=p,typeof w!="function")throw Error(n(191,w));w.call(v)}}}var Hd={},Zs=da(Hd),qd=da(Hd),Gd=da(Hd);function yo(l){if(l===Hd)throw Error(n(174));return l}function Cy(l,u){switch(Tt(Gd,u),Tt(qd,l),Tt(Zs,Hd),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:ta(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=ta(u,l)}Mt(Zs),Tt(Zs,u)}function Fl(){Mt(Zs),Mt(qd),Mt(Gd)}function o_(l){yo(Gd.current);var u=yo(Zs.current),p=ta(u,l.type);u!==p&&(Tt(qd,l),Tt(Zs,p))}function Ey(l){qd.current===l&&(Mt(Zs),Mt(qd))}var Ft=da(0);function Df(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ty=[];function Py(){for(var l=0;l<Ty.length;l++)Ty[l]._workInProgressVersionPrimary=null;Ty.length=0}var Lf=T.ReactCurrentDispatcher,Ry=T.ReactCurrentBatchConfig,vo=0,Ut=null,mn=null,wn=null,$f=!1,Kd=!1,Yd=0,jF=0;function Un(){throw Error(n(321))}function Ay(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!ws(l[p],u[p]))return!1;return!0}function Iy(l,u,p,v,w,k){if(vo=k,Ut=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Lf.current=l===null||l.memoizedState===null?kF:CF,l=p(v,w),Kd){k=0;do{if(Kd=!1,Yd=0,25<=k)throw Error(n(301));k+=1,wn=mn=null,u.updateQueue=null,Lf.current=EF,l=p(v,w)}while(Kd)}if(Lf.current=zf,u=mn!==null&&mn.next!==null,vo=0,wn=mn=Ut=null,$f=!1,u)throw Error(n(300));return l}function Oy(){var l=Yd!==0;return Yd=0,l}function ei(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ut.memoizedState=wn=l:wn=wn.next=l,wn}function ts(){if(mn===null){var l=Ut.alternate;l=l!==null?l.memoizedState:null}else l=mn.next;var u=wn===null?Ut.memoizedState:wn.next;if(u!==null)wn=u,mn=l;else{if(l===null)throw Error(n(310));mn=l,l={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},wn===null?Ut.memoizedState=wn=l:wn=wn.next=l}return wn}function Jd(l,u){return typeof u=="function"?u(l):u}function My(l){var u=ts(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var v=mn,w=v.baseQueue,k=p.pending;if(k!==null){if(w!==null){var I=w.next;w.next=k.next,k.next=I}v.baseQueue=w=k,p.pending=null}if(w!==null){k=w.next,v=v.baseState;var Y=I=null,te=null,oe=k;do{var fe=oe.lane;if((vo&fe)===fe)te!==null&&(te=te.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),v=oe.hasEagerState?oe.eagerState:l(v,oe.action);else{var me={lane:fe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};te===null?(Y=te=me,I=v):te=te.next=me,Ut.lanes|=fe,bo|=fe}oe=oe.next}while(oe!==null&&oe!==k);te===null?I=v:te.next=Y,ws(v,u.memoizedState)||(fr=!0),u.memoizedState=v,u.baseState=I,u.baseQueue=te,p.lastRenderedState=v}if(l=p.interleaved,l!==null){w=l;do k=w.lane,Ut.lanes|=k,bo|=k,w=w.next;while(w!==l)}else w===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Dy(l){var u=ts(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var v=p.dispatch,w=p.pending,k=u.memoizedState;if(w!==null){p.pending=null;var I=w=w.next;do k=l(k,I.action),I=I.next;while(I!==w);ws(k,u.memoizedState)||(fr=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,v]}function l_(){}function c_(l,u){var p=Ut,v=ts(),w=u(),k=!ws(v.memoizedState,w);if(k&&(v.memoizedState=w,fr=!0),v=v.queue,Ly(h_.bind(null,p,v,l),[l]),v.getSnapshot!==u||k||wn!==null&&wn.memoizedState.tag&1){if(p.flags|=2048,Xd(9,u_.bind(null,p,v,w,u),void 0,null),jn===null)throw Error(n(349));(vo&30)!==0||d_(p,u,w)}return w}function d_(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Ut.updateQueue,u===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function u_(l,u,p,v){u.value=p,u.getSnapshot=v,f_(u)&&m_(l)}function h_(l,u,p){return p(function(){f_(u)&&m_(l)})}function f_(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!ws(l,p)}catch{return!0}}function m_(l){var u=Ci(l,1);u!==null&&ks(u,l,1,-1)}function p_(l){var u=ei();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:l},u.queue=l,l=l.dispatch=_F.bind(null,Ut,l),[u.memoizedState,l]}function Xd(l,u,p,v){return l={tag:l,create:u,destroy:p,deps:v,next:null},u=Ut.updateQueue,u===null?(u={lastEffect:null,stores:null},Ut.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l)),l}function g_(){return ts().memoizedState}function Ff(l,u,p,v){var w=ei();Ut.flags|=l,w.memoizedState=Xd(1|u,p,void 0,v===void 0?null:v)}function Uf(l,u,p,v){var w=ts();v=v===void 0?null:v;var k=void 0;if(mn!==null){var I=mn.memoizedState;if(k=I.destroy,v!==null&&Ay(v,I.deps)){w.memoizedState=Xd(u,p,k,v);return}}Ut.flags|=l,w.memoizedState=Xd(1|u,p,k,v)}function x_(l,u){return Ff(8390656,8,l,u)}function Ly(l,u){return Uf(2048,8,l,u)}function y_(l,u){return Uf(4,2,l,u)}function v_(l,u){return Uf(4,4,l,u)}function b_(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function w_(l,u,p){return p=p!=null?p.concat([l]):null,Uf(4,4,b_.bind(null,u,l),p)}function $y(){}function j_(l,u){var p=ts();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Ay(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function S_(l,u){var p=ts();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Ay(u,v[1])?v[0]:(l=l(),p.memoizedState=[l,u],l)}function N_(l,u,p){return(vo&21)===0?(l.baseState&&(l.baseState=!1,fr=!0),l.memoizedState=p):(ws(p,u)||(p=eN(),Ut.lanes|=p,bo|=p,l.baseState=!0),u)}function SF(l,u){var p=bt;bt=p!==0&&4>p?p:4,l(!0);var v=Ry.transition;Ry.transition={};try{l(!1),u()}finally{bt=p,Ry.transition=v}}function __(){return ts().memoizedState}function NF(l,u,p){var v=ya(l);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},k_(l))C_(u,p);else if(p=r_(l,u,p,v),p!==null){var w=Zn();ks(p,l,v,w),E_(p,u,v)}}function _F(l,u,p){var v=ya(l),w={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(k_(l))C_(u,w);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var I=u.lastRenderedState,Y=k(I,p);if(w.hasEagerState=!0,w.eagerState=Y,ws(Y,I)){var te=u.interleaved;te===null?(w.next=w,_y(u)):(w.next=te.next,te.next=w),u.interleaved=w;return}}catch{}finally{}p=r_(l,u,w,v),p!==null&&(w=Zn(),ks(p,l,v,w),E_(p,u,v))}}function k_(l){var u=l.alternate;return l===Ut||u!==null&&u===Ut}function C_(l,u){Kd=$f=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function E_(l,u,p){if((p&4194240)!==0){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,Ux(l,p)}}var zf={readContext:es,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},kF={readContext:es,useCallback:function(l,u){return ei().memoizedState=[l,u===void 0?null:u],l},useContext:es,useEffect:x_,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,Ff(4194308,4,b_.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Ff(4194308,4,l,u)},useInsertionEffect:function(l,u){return Ff(4,2,l,u)},useMemo:function(l,u){var p=ei();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var v=ei();return u=p!==void 0?p(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=NF.bind(null,Ut,l),[v.memoizedState,l]},useRef:function(l){var u=ei();return l={current:l},u.memoizedState=l},useState:p_,useDebugValue:$y,useDeferredValue:function(l){return ei().memoizedState=l},useTransition:function(){var l=p_(!1),u=l[0];return l=SF.bind(null,l[1]),ei().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var v=Ut,w=ei();if(Dt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),jn===null)throw Error(n(349));(vo&30)!==0||d_(v,u,p)}w.memoizedState=p;var k={value:p,getSnapshot:u};return w.queue=k,x_(h_.bind(null,v,k,l),[l]),v.flags|=2048,Xd(9,u_.bind(null,v,k,p,u),void 0,null),p},useId:function(){var l=ei(),u=jn.identifierPrefix;if(Dt){var p=ki,v=_i;p=(v&~(1<<32-bs(v)-1)).toString(32)+p,u=":"+u+"R"+p,p=Yd++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=jF++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},CF={readContext:es,useCallback:j_,useContext:es,useEffect:Ly,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:My,useRef:g_,useState:function(){return My(Jd)},useDebugValue:$y,useDeferredValue:function(l){var u=ts();return N_(u,mn.memoizedState,l)},useTransition:function(){var l=My(Jd)[0],u=ts().memoizedState;return[l,u]},useMutableSource:l_,useSyncExternalStore:c_,useId:__,unstable_isNewReconciler:!1},EF={readContext:es,useCallback:j_,useContext:es,useEffect:Ly,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:S_,useReducer:Dy,useRef:g_,useState:function(){return Dy(Jd)},useDebugValue:$y,useDeferredValue:function(l){var u=ts();return mn===null?u.memoizedState=l:N_(u,mn.memoizedState,l)},useTransition:function(){var l=Dy(Jd)[0],u=ts().memoizedState;return[l,u]},useMutableSource:l_,useSyncExternalStore:c_,useId:__,unstable_isNewReconciler:!1};function Ss(l,u){if(l&&l.defaultProps){u=H({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function Fy(l,u,p,v){u=l.memoizedState,p=p(v,u),p=p==null?u:H({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Bf={isMounted:function(l){return(l=l._reactInternals)?ho(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var v=Zn(),w=ya(l),k=Ei(v,w);k.payload=u,p!=null&&(k.callback=p),u=ma(l,k,w),u!==null&&(ks(u,l,w,v),Of(u,l,w))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=Zn(),w=ya(l),k=Ei(v,w);k.tag=1,k.payload=u,p!=null&&(k.callback=p),u=ma(l,k,w),u!==null&&(ks(u,l,w,v),Of(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Zn(),v=ya(l),w=Ei(p,v);w.tag=2,u!=null&&(w.callback=u),u=ma(l,w,v),u!==null&&(ks(u,l,v,p),Of(u,l,v))}};function T_(l,u,p,v,w,k,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,k,I):u.prototype&&u.prototype.isPureReactComponent?!Ld(p,v)||!Ld(w,k):!0}function P_(l,u,p){var v=!1,w=ua,k=u.contextType;return typeof k=="object"&&k!==null?k=es(k):(w=hr(u)?mo:Fn.current,v=u.contextTypes,k=(v=v!=null)?Al(l,w):ua),u=new u(p,k),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bf,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=k),u}function R_(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&Bf.enqueueReplaceState(u,u.state,null)}function Uy(l,u,p,v){var w=l.stateNode;w.props=p,w.state=l.memoizedState,w.refs={},ky(l);var k=u.contextType;typeof k=="object"&&k!==null?w.context=es(k):(k=hr(u)?mo:Fn.current,w.context=Al(l,k)),w.state=l.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Fy(l,u,k,p),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Bf.enqueueReplaceState(w,w.state,null),Mf(l,p,w,v),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function Ul(l,u){try{var p="",v=u;do p+=L(v),v=v.return;while(v);var w=p}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:u,stack:w,digest:null}}function zy(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function By(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var TF=typeof WeakMap=="function"?WeakMap:Map;function A_(l,u,p){p=Ei(-1,p),p.tag=3,p.payload={element:null};var v=u.value;return p.callback=function(){Yf||(Yf=!0,r0=v),By(l,u)},p}function I_(l,u,p){p=Ei(-1,p),p.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var w=u.value;p.payload=function(){return v(w)},p.callback=function(){By(l,u)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(p.callback=function(){By(l,u),typeof v!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})}),p}function O_(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new TF;var w=new Set;v.set(u,w)}else w=v.get(u),w===void 0&&(w=new Set,v.set(u,w));w.has(p)||(w.add(p),l=VF.bind(null,l,u,p),u.then(l,l))}function M_(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function D_(l,u,p,v,w){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ei(-1,1),u.tag=2,ma(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=w,l)}var PF=T.ReactCurrentOwner,fr=!1;function Qn(l,u,p,v){u.child=l===null?n_(u,null,p,v):Dl(u,l.child,p,v)}function L_(l,u,p,v,w){p=p.render;var k=u.ref;return $l(u,w),v=Iy(l,u,p,v,k,w),p=Oy(),l!==null&&!fr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,Ti(l,u,w)):(Dt&&p&&gy(u),u.flags|=1,Qn(l,u,v,w),u.child)}function $_(l,u,p,v,w){if(l===null){var k=p.type;return typeof k=="function"&&!d0(k)&&k.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=k,F_(l,u,k,v,w)):(l=tm(p.type,null,v,u,u.mode,w),l.ref=u.ref,l.return=u,u.child=l)}if(k=l.child,(l.lanes&w)===0){var I=k.memoizedProps;if(p=p.compare,p=p!==null?p:Ld,p(I,v)&&l.ref===u.ref)return Ti(l,u,w)}return u.flags|=1,l=ba(k,v),l.ref=u.ref,l.return=u,u.child=l}function F_(l,u,p,v,w){if(l!==null){var k=l.memoizedProps;if(Ld(k,v)&&l.ref===u.ref)if(fr=!1,u.pendingProps=v=k,(l.lanes&w)!==0)(l.flags&131072)!==0&&(fr=!0);else return u.lanes=l.lanes,Ti(l,u,w)}return Vy(l,u,p,v,w)}function U_(l,u,p){var v=u.pendingProps,w=v.children,k=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Bl,Dr),Dr|=p;else{if((p&1073741824)===0)return l=k!==null?k.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Tt(Bl,Dr),Dr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=k!==null?k.baseLanes:p,Tt(Bl,Dr),Dr|=v}else k!==null?(v=k.baseLanes|p,u.memoizedState=null):v=p,Tt(Bl,Dr),Dr|=v;return Qn(l,u,w,p),u.child}function z_(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Vy(l,u,p,v,w){var k=hr(p)?mo:Fn.current;return k=Al(u,k),$l(u,w),p=Iy(l,u,p,v,k,w),v=Oy(),l!==null&&!fr?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,Ti(l,u,w)):(Dt&&v&&gy(u),u.flags|=1,Qn(l,u,p,w),u.child)}function B_(l,u,p,v,w){if(hr(p)){var k=!0;kf(u)}else k=!1;if($l(u,w),u.stateNode===null)Wf(l,u),P_(u,p,v),Uy(u,p,v,w),v=!0;else if(l===null){var I=u.stateNode,Y=u.memoizedProps;I.props=Y;var te=I.context,oe=p.contextType;typeof oe=="object"&&oe!==null?oe=es(oe):(oe=hr(p)?mo:Fn.current,oe=Al(u,oe));var fe=p.getDerivedStateFromProps,me=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function";me||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(Y!==v||te!==oe)&&R_(u,I,v,oe),fa=!1;var he=u.memoizedState;I.state=he,Mf(u,v,I,w),te=u.memoizedState,Y!==v||he!==te||ur.current||fa?(typeof fe=="function"&&(Fy(u,p,fe,v),te=u.memoizedState),(Y=fa||T_(u,p,Y,v,he,te,oe))?(me||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=te),I.props=v,I.state=te,I.context=oe,v=Y):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,s_(l,u),Y=u.memoizedProps,oe=u.type===u.elementType?Y:Ss(u.type,Y),I.props=oe,me=u.pendingProps,he=I.context,te=p.contextType,typeof te=="object"&&te!==null?te=es(te):(te=hr(p)?mo:Fn.current,te=Al(u,te));var Se=p.getDerivedStateFromProps;(fe=typeof Se=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(Y!==me||he!==te)&&R_(u,I,v,te),fa=!1,he=u.memoizedState,I.state=he,Mf(u,v,I,w);var Ee=u.memoizedState;Y!==me||he!==Ee||ur.current||fa?(typeof Se=="function"&&(Fy(u,p,Se,v),Ee=u.memoizedState),(oe=fa||T_(u,p,oe,v,he,Ee,te)||!1)?(fe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,Ee,te),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,Ee,te)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||Y===l.memoizedProps&&he===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&he===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ee),I.props=v,I.state=Ee,I.context=te,v=oe):(typeof I.componentDidUpdate!="function"||Y===l.memoizedProps&&he===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&he===l.memoizedState||(u.flags|=1024),v=!1)}return Wy(l,u,p,v,k,w)}function Wy(l,u,p,v,w,k){z_(l,u);var I=(u.flags&128)!==0;if(!v&&!I)return w&&GN(u,p,!1),Ti(l,u,k);v=u.stateNode,PF.current=u;var Y=I&&typeof p.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&I?(u.child=Dl(u,l.child,null,k),u.child=Dl(u,null,Y,k)):Qn(l,u,Y,k),u.memoizedState=v.state,w&&GN(u,p,!0),u.child}function V_(l){var u=l.stateNode;u.pendingContext?HN(l,u.pendingContext,u.pendingContext!==u.context):u.context&&HN(l,u.context,!1),Cy(l,u.containerInfo)}function W_(l,u,p,v,w){return Ml(),by(w),u.flags|=256,Qn(l,u,p,v),u.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function qy(l){return{baseLanes:l,cachePool:null,transitions:null}}function H_(l,u,p){var v=u.pendingProps,w=Ft.current,k=!1,I=(u.flags&128)!==0,Y;if((Y=I)||(Y=l!==null&&l.memoizedState===null?!1:(w&2)!==0),Y?(k=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(w|=1),Tt(Ft,w&1),l===null)return vy(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(I=v.children,l=v.fallback,k?(v=u.mode,k=u.child,I={mode:"hidden",children:I},(v&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=I):k=nm(I,v,0,null),l=No(l,v,p,null),k.return=u,l.return=u,k.sibling=l,u.child=k,u.child.memoizedState=qy(p),u.memoizedState=Hy,l):Gy(u,I));if(w=l.memoizedState,w!==null&&(Y=w.dehydrated,Y!==null))return RF(l,u,I,v,Y,w,p);if(k){k=v.fallback,I=u.mode,w=l.child,Y=w.sibling;var te={mode:"hidden",children:v.children};return(I&1)===0&&u.child!==w?(v=u.child,v.childLanes=0,v.pendingProps=te,u.deletions=null):(v=ba(w,te),v.subtreeFlags=w.subtreeFlags&14680064),Y!==null?k=ba(Y,k):(k=No(k,I,p,null),k.flags|=2),k.return=u,v.return=u,v.sibling=k,u.child=v,v=k,k=u.child,I=l.child.memoizedState,I=I===null?qy(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},k.memoizedState=I,k.childLanes=l.childLanes&~p,u.memoizedState=Hy,v}return k=l.child,l=k.sibling,v=ba(k,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=p),v.return=u,v.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=v,u.memoizedState=null,v}function Gy(l,u){return u=nm({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Vf(l,u,p,v){return v!==null&&by(v),Dl(u,l.child,null,p),l=Gy(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function RF(l,u,p,v,w,k,I){if(p)return u.flags&256?(u.flags&=-257,v=zy(Error(n(422))),Vf(l,u,I,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(k=v.fallback,w=u.mode,v=nm({mode:"visible",children:v.children},w,0,null),k=No(k,w,I,null),k.flags|=2,v.return=u,k.return=u,v.sibling=k,u.child=v,(u.mode&1)!==0&&Dl(u,l.child,null,I),u.child.memoizedState=qy(I),u.memoizedState=Hy,k);if((u.mode&1)===0)return Vf(l,u,I,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var Y=v.dgst;return v=Y,k=Error(n(419)),v=zy(k,v,void 0),Vf(l,u,I,v)}if(Y=(I&l.childLanes)!==0,fr||Y){if(v=jn,v!==null){switch(I&-I){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|I))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,Ci(l,w),ks(v,l,w,-1))}return c0(),v=zy(Error(n(421))),Vf(l,u,I,v)}return w.data==="$?"?(u.flags|=128,u.child=l.child,u=WF.bind(null,l),w._reactRetry=u,null):(l=k.treeContext,Mr=ca(w.nextSibling),Or=u,Dt=!0,js=null,l!==null&&(Qr[Zr++]=_i,Qr[Zr++]=ki,Qr[Zr++]=po,_i=l.id,ki=l.overflow,po=u),u=Gy(u,v.children),u.flags|=4096,u)}function q_(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Ny(l.return,u,p)}function Ky(l,u,p,v,w){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:w}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=v,k.tail=p,k.tailMode=w)}function G_(l,u,p){var v=u.pendingProps,w=v.revealOrder,k=v.tail;if(Qn(l,u,v.children,p),v=Ft.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&q_(l,p,u);else if(l.tag===19)q_(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Tt(Ft,v),(u.mode&1)===0)u.memoizedState=null;else switch(w){case"forwards":for(p=u.child,w=null;p!==null;)l=p.alternate,l!==null&&Df(l)===null&&(w=p),p=p.sibling;p=w,p===null?(w=u.child,u.child=null):(w=p.sibling,p.sibling=null),Ky(u,!1,w,p,k);break;case"backwards":for(p=null,w=u.child,u.child=null;w!==null;){if(l=w.alternate,l!==null&&Df(l)===null){u.child=w;break}l=w.sibling,w.sibling=p,p=w,w=l}Ky(u,!0,p,null,k);break;case"together":Ky(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wf(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ti(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),bo|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=ba(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=ba(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function AF(l,u,p){switch(u.tag){case 3:V_(u),Ml();break;case 5:o_(u);break;case 1:hr(u.type)&&kf(u);break;case 4:Cy(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,w=u.memoizedProps.value;Tt(Af,v._currentValue),v._currentValue=w;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Tt(Ft,Ft.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?H_(l,u,p):(Tt(Ft,Ft.current&1),l=Ti(l,u,p),l!==null?l.sibling:null);Tt(Ft,Ft.current&1);break;case 19:if(v=(p&u.childLanes)!==0,(l.flags&128)!==0){if(v)return G_(l,u,p);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Tt(Ft,Ft.current),v)break;return null;case 22:case 23:return u.lanes=0,U_(l,u,p)}return Ti(l,u,p)}var K_,Yy,Y_,J_;K_=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Yy=function(){},Y_=function(l,u,p,v){var w=l.memoizedProps;if(w!==v){l=u.stateNode,yo(Zs.current);var k=null;switch(p){case"input":w=ot(l,w),v=ot(l,v),k=[];break;case"select":w=H({},w,{value:void 0}),v=H({},v,{value:void 0}),k=[];break;case"textarea":w=$e(l,w),v=$e(l,v),k=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=Sf)}it(p,v);var I;p=null;for(oe in w)if(!v.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var Y=w[oe];for(I in Y)Y.hasOwnProperty(I)&&(p||(p={}),p[I]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?k||(k=[]):(k=k||[]).push(oe,null));for(oe in v){var te=v[oe];if(Y=w?.[oe],v.hasOwnProperty(oe)&&te!==Y&&(te!=null||Y!=null))if(oe==="style")if(Y){for(I in Y)!Y.hasOwnProperty(I)||te&&te.hasOwnProperty(I)||(p||(p={}),p[I]="");for(I in te)te.hasOwnProperty(I)&&Y[I]!==te[I]&&(p||(p={}),p[I]=te[I])}else p||(k||(k=[]),k.push(oe,p)),p=te;else oe==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Y=Y?Y.__html:void 0,te!=null&&Y!==te&&(k=k||[]).push(oe,te)):oe==="children"?typeof te!="string"&&typeof te!="number"||(k=k||[]).push(oe,""+te):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(te!=null&&oe==="onScroll"&&Ot("scroll",l),k||Y===te||(k=[])):(k=k||[]).push(oe,te))}p&&(k=k||[]).push("style",p);var oe=k;(u.updateQueue=oe)&&(u.flags|=4)}},J_=function(l,u,p,v){p!==v&&(u.flags|=4)};function Qd(l,u){if(!Dt)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function zn(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var w=l.child;w!==null;)p|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)p|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function IF(l,u,p){var v=u.pendingProps;switch(xy(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(u),null;case 1:return hr(u.type)&&_f(),zn(u),null;case 3:return v=u.stateNode,Fl(),Mt(ur),Mt(Fn),Py(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Pf(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,js!==null&&(a0(js),js=null))),Yy(l,u),zn(u),null;case 5:Ey(u);var w=yo(Gd.current);if(p=u.type,l!==null&&u.stateNode!=null)Y_(l,u,p,v,w),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(n(166));return zn(u),null}if(l=yo(Zs.current),Pf(u)){v=u.stateNode,p=u.type;var k=u.memoizedProps;switch(v[Qs]=u,v[Bd]=k,l=(u.mode&1)!==0,p){case"dialog":Ot("cancel",v),Ot("close",v);break;case"iframe":case"object":case"embed":Ot("load",v);break;case"video":case"audio":for(w=0;w<Fd.length;w++)Ot(Fd[w],v);break;case"source":Ot("error",v);break;case"img":case"image":case"link":Ot("error",v),Ot("load",v);break;case"details":Ot("toggle",v);break;case"input":kt(v,k),Ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!k.multiple},Ot("invalid",v);break;case"textarea":yt(v,k),Ot("invalid",v)}it(p,k),w=null;for(var I in k)if(k.hasOwnProperty(I)){var Y=k[I];I==="children"?typeof Y=="string"?v.textContent!==Y&&(k.suppressHydrationWarning!==!0&&jf(v.textContent,Y,l),w=["children",Y]):typeof Y=="number"&&v.textContent!==""+Y&&(k.suppressHydrationWarning!==!0&&jf(v.textContent,Y,l),w=["children",""+Y]):i.hasOwnProperty(I)&&Y!=null&&I==="onScroll"&&Ot("scroll",v)}switch(p){case"input":le(v),Rr(v,k,!0);break;case"textarea":le(v),cr(v);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(v.onclick=Sf)}v=w,u.updateQueue=v,v!==null&&(u.flags|=4)}else{I=w.nodeType===9?w:w.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=wi(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=I.createElement(p,{is:v.is}):(l=I.createElement(p),p==="select"&&(I=l,v.multiple?I.multiple=!0:v.size&&(I.size=v.size))):l=I.createElementNS(l,p),l[Qs]=u,l[Bd]=v,K_(l,u,!1,!1),u.stateNode=l;e:{switch(I=Jn(p,v),p){case"dialog":Ot("cancel",l),Ot("close",l),w=v;break;case"iframe":case"object":case"embed":Ot("load",l),w=v;break;case"video":case"audio":for(w=0;w<Fd.length;w++)Ot(Fd[w],l);w=v;break;case"source":Ot("error",l),w=v;break;case"img":case"image":case"link":Ot("error",l),Ot("load",l),w=v;break;case"details":Ot("toggle",l),w=v;break;case"input":kt(l,v),w=ot(l,v),Ot("invalid",l);break;case"option":w=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},w=H({},v,{value:void 0}),Ot("invalid",l);break;case"textarea":yt(l,v),w=$e(l,v),Ot("invalid",l);break;default:w=v}it(p,w),Y=w;for(k in Y)if(Y.hasOwnProperty(k)){var te=Y[k];k==="style"?xe(l,te):k==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&ji(l,te)):k==="children"?typeof te=="string"?(p!=="textarea"||te!=="")&&Yn(l,te):typeof te=="number"&&Yn(l,""+te):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?te!=null&&k==="onScroll"&&Ot("scroll",l):te!=null&&C(l,k,te,I))}switch(p){case"input":le(l),Rr(l,v,!1);break;case"textarea":le(l),cr(l);break;case"option":v.value!=null&&l.setAttribute("value",""+se(v.value));break;case"select":l.multiple=!!v.multiple,k=v.value,k!=null?Lt(l,!!v.multiple,k,!1):v.defaultValue!=null&&Lt(l,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(l.onclick=Sf)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return zn(u),null;case 6:if(l&&u.stateNode!=null)J_(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(p=yo(Gd.current),yo(Zs.current),Pf(u)){if(v=u.stateNode,p=u.memoizedProps,v[Qs]=u,(k=v.nodeValue!==p)&&(l=Or,l!==null))switch(l.tag){case 3:jf(v.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&jf(v.nodeValue,p,(l.mode&1)!==0)}k&&(u.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[Qs]=u,u.stateNode=v}return zn(u),null;case 13:if(Mt(Ft),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Dt&&Mr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)ZN(),Ml(),u.flags|=98560,k=!1;else if(k=Pf(u),v!==null&&v.dehydrated!==null){if(l===null){if(!k)throw Error(n(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Qs]=u}else Ml(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;zn(u),k=!1}else js!==null&&(a0(js),js=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Ft.current&1)!==0?pn===0&&(pn=3):c0())),u.updateQueue!==null&&(u.flags|=4),zn(u),null);case 4:return Fl(),Yy(l,u),l===null&&Ud(u.stateNode.containerInfo),zn(u),null;case 10:return Sy(u.type._context),zn(u),null;case 17:return hr(u.type)&&_f(),zn(u),null;case 19:if(Mt(Ft),k=u.memoizedState,k===null)return zn(u),null;if(v=(u.flags&128)!==0,I=k.rendering,I===null)if(v)Qd(k,!1);else{if(pn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Df(l),I!==null){for(u.flags|=128,Qd(k,!1),v=I.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=p,p=u.child;p!==null;)k=p,l=v,k.flags&=14680066,I=k.alternate,I===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=I.childLanes,k.lanes=I.lanes,k.child=I.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=I.memoizedProps,k.memoizedState=I.memoizedState,k.updateQueue=I.updateQueue,k.type=I.type,l=I.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return Tt(Ft,Ft.current&1|2),u.child}l=l.sibling}k.tail!==null&&Zt()>Vl&&(u.flags|=128,v=!0,Qd(k,!1),u.lanes=4194304)}else{if(!v)if(l=Df(I),l!==null){if(u.flags|=128,v=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Qd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!I.alternate&&!Dt)return zn(u),null}else 2*Zt()-k.renderingStartTime>Vl&&p!==1073741824&&(u.flags|=128,v=!0,Qd(k,!1),u.lanes=4194304);k.isBackwards?(I.sibling=u.child,u.child=I):(p=k.last,p!==null?p.sibling=I:u.child=I,k.last=I)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=Zt(),u.sibling=null,p=Ft.current,Tt(Ft,v?p&1|2:p&1),u):(zn(u),null);case 22:case 23:return l0(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Dr&1073741824)!==0&&(zn(u),u.subtreeFlags&6&&(u.flags|=8192)):zn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function OF(l,u){switch(xy(u),u.tag){case 1:return hr(u.type)&&_f(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Fl(),Mt(ur),Mt(Fn),Py(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Ey(u),null;case 13:if(Mt(Ft),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ml()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Mt(Ft),null;case 4:return Fl(),null;case 10:return Sy(u.type._context),null;case 22:case 23:return l0(),null;case 24:return null;default:return null}}var Hf=!1,Bn=!1,MF=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function zl(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){Ht(l,u,v)}else p.current=null}function Jy(l,u,p){try{p()}catch(v){Ht(l,u,v)}}var X_=!1;function DF(l,u){if(ly=uf,l=TN(),ey(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var w=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var I=0,Y=-1,te=-1,oe=0,fe=0,me=l,he=null;t:for(;;){for(var Se;me!==p||w!==0&&me.nodeType!==3||(Y=I+w),me!==k||v!==0&&me.nodeType!==3||(te=I+v),me.nodeType===3&&(I+=me.nodeValue.length),(Se=me.firstChild)!==null;)he=me,me=Se;for(;;){if(me===l)break t;if(he===p&&++oe===w&&(Y=I),he===k&&++fe===v&&(te=I),(Se=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=Se}p=Y===-1||te===-1?null:{start:Y,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(cy={focusedElem:l,selectionRange:p},uf=!1,Ce=u;Ce!==null;)if(u=Ce,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ce=l;else for(;Ce!==null;){u=Ce;try{var Ee=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Re=Ee.memoizedProps,en=Ee.memoizedState,ie=u.stateNode,ne=ie.getSnapshotBeforeUpdate(u.elementType===u.type?Re:Ss(u.type,Re),en);ie.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ae=u.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){Ht(u,u.return,ge)}if(l=u.sibling,l!==null){l.return=u.return,Ce=l;break}Ce=u.return}return Ee=X_,X_=!1,Ee}function Zd(l,u,p){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&l)===l){var k=w.destroy;w.destroy=void 0,k!==void 0&&Jy(u,p,k)}w=w.next}while(w!==v)}}function qf(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var v=p.create;p.destroy=v()}p=p.next}while(p!==u)}}function Xy(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function Q_(l){var u=l.alternate;u!==null&&(l.alternate=null,Q_(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Qs],delete u[Bd],delete u[fy],delete u[yF],delete u[vF])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Z_(l){return l.tag===5||l.tag===3||l.tag===4}function ek(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Z_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Qy(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Sf));else if(v!==4&&(l=l.child,l!==null))for(Qy(l,u,p),l=l.sibling;l!==null;)Qy(l,u,p),l=l.sibling}function Zy(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Zy(l,u,p),l=l.sibling;l!==null;)Zy(l,u,p),l=l.sibling}var Tn=null,Ns=!1;function pa(l,u,p){for(p=p.child;p!==null;)tk(l,u,p),p=p.sibling}function tk(l,u,p){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(sf,p)}catch{}switch(p.tag){case 5:Bn||zl(p,u);case 6:var v=Tn,w=Ns;Tn=null,pa(l,u,p),Tn=v,Ns=w,Tn!==null&&(Ns?(l=Tn,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):Tn.removeChild(p.stateNode));break;case 18:Tn!==null&&(Ns?(l=Tn,p=p.stateNode,l.nodeType===8?hy(l.parentNode,p):l.nodeType===1&&hy(l,p),Rd(l)):hy(Tn,p.stateNode));break;case 4:v=Tn,w=Ns,Tn=p.stateNode.containerInfo,Ns=!0,pa(l,u,p),Tn=v,Ns=w;break;case 0:case 11:case 14:case 15:if(!Bn&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var k=w,I=k.destroy;k=k.tag,I!==void 0&&((k&2)!==0||(k&4)!==0)&&Jy(p,u,I),w=w.next}while(w!==v)}pa(l,u,p);break;case 1:if(!Bn&&(zl(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(Y){Ht(p,u,Y)}pa(l,u,p);break;case 21:pa(l,u,p);break;case 22:p.mode&1?(Bn=(v=Bn)||p.memoizedState!==null,pa(l,u,p),Bn=v):pa(l,u,p);break;default:pa(l,u,p)}}function nk(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new MF),u.forEach(function(v){var w=HF.bind(null,l,v);p.has(v)||(p.add(v),v.then(w,w))})}}function _s(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var w=p[v];try{var k=l,I=u,Y=I;e:for(;Y!==null;){switch(Y.tag){case 5:Tn=Y.stateNode,Ns=!1;break e;case 3:Tn=Y.stateNode.containerInfo,Ns=!0;break e;case 4:Tn=Y.stateNode.containerInfo,Ns=!0;break e}Y=Y.return}if(Tn===null)throw Error(n(160));tk(k,I,w),Tn=null,Ns=!1;var te=w.alternate;te!==null&&(te.return=null),w.return=null}catch(oe){Ht(w,u,oe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)rk(u,l),u=u.sibling}function rk(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(_s(u,l),ti(l),v&4){try{Zd(3,l,l.return),qf(3,l)}catch(Re){Ht(l,l.return,Re)}try{Zd(5,l,l.return)}catch(Re){Ht(l,l.return,Re)}}break;case 1:_s(u,l),ti(l),v&512&&p!==null&&zl(p,p.return);break;case 5:if(_s(u,l),ti(l),v&512&&p!==null&&zl(p,p.return),l.flags&32){var w=l.stateNode;try{Yn(w,"")}catch(Re){Ht(l,l.return,Re)}}if(v&4&&(w=l.stateNode,w!=null)){var k=l.memoizedProps,I=p!==null?p.memoizedProps:k,Y=l.type,te=l.updateQueue;if(l.updateQueue=null,te!==null)try{Y==="input"&&k.type==="radio"&&k.name!=null&&rn(w,k),Jn(Y,I);var oe=Jn(Y,k);for(I=0;I<te.length;I+=2){var fe=te[I],me=te[I+1];fe==="style"?xe(w,me):fe==="dangerouslySetInnerHTML"?ji(w,me):fe==="children"?Yn(w,me):C(w,fe,me,oe)}switch(Y){case"input":sn(w,k);break;case"textarea":tt(w,k);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var Se=k.value;Se!=null?Lt(w,!!k.multiple,Se,!1):he!==!!k.multiple&&(k.defaultValue!=null?Lt(w,!!k.multiple,k.defaultValue,!0):Lt(w,!!k.multiple,k.multiple?[]:"",!1))}w[Bd]=k}catch(Re){Ht(l,l.return,Re)}}break;case 6:if(_s(u,l),ti(l),v&4){if(l.stateNode===null)throw Error(n(162));w=l.stateNode,k=l.memoizedProps;try{w.nodeValue=k}catch(Re){Ht(l,l.return,Re)}}break;case 3:if(_s(u,l),ti(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Rd(u.containerInfo)}catch(Re){Ht(l,l.return,Re)}break;case 4:_s(u,l),ti(l);break;case 13:_s(u,l),ti(l),w=l.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(n0=Zt())),v&4&&nk(l);break;case 22:if(fe=p!==null&&p.memoizedState!==null,l.mode&1?(Bn=(oe=Bn)||fe,_s(u,l),Bn=oe):_s(u,l),ti(l),v&8192){if(oe=l.memoizedState!==null,(l.stateNode.isHidden=oe)&&!fe&&(l.mode&1)!==0)for(Ce=l,fe=l.child;fe!==null;){for(me=Ce=fe;Ce!==null;){switch(he=Ce,Se=he.child,he.tag){case 0:case 11:case 14:case 15:Zd(4,he,he.return);break;case 1:zl(he,he.return);var Ee=he.stateNode;if(typeof Ee.componentWillUnmount=="function"){v=he,p=he.return;try{u=v,Ee.props=u.memoizedProps,Ee.state=u.memoizedState,Ee.componentWillUnmount()}catch(Re){Ht(v,p,Re)}}break;case 5:zl(he,he.return);break;case 22:if(he.memoizedState!==null){ak(me);continue}}Se!==null?(Se.return=he,Ce=Se):ak(me)}fe=fe.sibling}e:for(fe=null,me=l;;){if(me.tag===5){if(fe===null){fe=me;try{w=me.stateNode,oe?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(Y=me.stateNode,te=me.memoizedProps.style,I=te!=null&&te.hasOwnProperty("display")?te.display:null,Y.style.display=uo("display",I))}catch(Re){Ht(l,l.return,Re)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=oe?"":me.memoizedProps}catch(Re){Ht(l,l.return,Re)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===l)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===l)break e;for(;me.sibling===null;){if(me.return===null||me.return===l)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:_s(u,l),ti(l),v&4&&nk(l);break;case 21:break;default:_s(u,l),ti(l)}}function ti(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(Z_(p)){var v=p;break e}p=p.return}throw Error(n(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(Yn(w,""),v.flags&=-33);var k=ek(l);Zy(l,k,w);break;case 3:case 4:var I=v.stateNode.containerInfo,Y=ek(l);Qy(l,Y,I);break;default:throw Error(n(161))}}catch(te){Ht(l,l.return,te)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function LF(l,u,p){Ce=l,sk(l)}function sk(l,u,p){for(var v=(l.mode&1)!==0;Ce!==null;){var w=Ce,k=w.child;if(w.tag===22&&v){var I=w.memoizedState!==null||Hf;if(!I){var Y=w.alternate,te=Y!==null&&Y.memoizedState!==null||Bn;Y=Hf;var oe=Bn;if(Hf=I,(Bn=te)&&!oe)for(Ce=w;Ce!==null;)I=Ce,te=I.child,I.tag===22&&I.memoizedState!==null?ok(w):te!==null?(te.return=I,Ce=te):ok(w);for(;k!==null;)Ce=k,sk(k),k=k.sibling;Ce=w,Hf=Y,Bn=oe}ik(l)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,Ce=k):ik(l)}}function ik(l){for(;Ce!==null;){var u=Ce;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Bn||qf(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Bn)if(p===null)v.componentDidMount();else{var w=u.elementType===u.type?p.memoizedProps:Ss(u.type,p.memoizedProps);v.componentDidUpdate(w,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&a_(u,k,v);break;case 3:var I=u.updateQueue;if(I!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}a_(u,I,p)}break;case 5:var Y=u.stateNode;if(p===null&&u.flags&4){p=Y;var te=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&p.focus();break;case"img":te.src&&(p.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var oe=u.alternate;if(oe!==null){var fe=oe.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&Rd(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bn||u.flags&512&&Xy(u)}catch(he){Ht(u,u.return,he)}}if(u===l){Ce=null;break}if(p=u.sibling,p!==null){p.return=u.return,Ce=p;break}Ce=u.return}}function ak(l){for(;Ce!==null;){var u=Ce;if(u===l){Ce=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ce=p;break}Ce=u.return}}function ok(l){for(;Ce!==null;){var u=Ce;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{qf(4,u)}catch(te){Ht(u,p,te)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var w=u.return;try{v.componentDidMount()}catch(te){Ht(u,w,te)}}var k=u.return;try{Xy(u)}catch(te){Ht(u,k,te)}break;case 5:var I=u.return;try{Xy(u)}catch(te){Ht(u,I,te)}}}catch(te){Ht(u,u.return,te)}if(u===l){Ce=null;break}var Y=u.sibling;if(Y!==null){Y.return=u.return,Ce=Y;break}Ce=u.return}}var $F=Math.ceil,Gf=T.ReactCurrentDispatcher,e0=T.ReactCurrentOwner,ns=T.ReactCurrentBatchConfig,mt=0,jn=null,ln=null,Pn=0,Dr=0,Bl=da(0),pn=0,eu=null,bo=0,Kf=0,t0=0,tu=null,mr=null,n0=0,Vl=1/0,Pi=null,Yf=!1,r0=null,ga=null,Jf=!1,xa=null,Xf=0,nu=0,s0=null,Qf=-1,Zf=0;function Zn(){return(mt&6)!==0?Zt():Qf!==-1?Qf:Qf=Zt()}function ya(l){return(l.mode&1)===0?1:(mt&2)!==0&&Pn!==0?Pn&-Pn:wF.transition!==null?(Zf===0&&(Zf=eN()),Zf):(l=bt,l!==0||(l=window.event,l=l===void 0?16:cN(l.type)),l)}function ks(l,u,p,v){if(50<nu)throw nu=0,s0=null,Error(n(185));kd(l,p,v),((mt&2)===0||l!==jn)&&(l===jn&&((mt&2)===0&&(Kf|=p),pn===4&&va(l,Pn)),pr(l,v),p===1&&mt===0&&(u.mode&1)===0&&(Vl=Zt()+500,Cf&&ha()))}function pr(l,u){var p=l.callbackNode;w6(l,u);var v=lf(l,l===jn?Pn:0);if(v===0)p!==null&&XS(p),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(p!=null&&XS(p),u===1)l.tag===0?bF(ck.bind(null,l)):KN(ck.bind(null,l)),gF(function(){(mt&6)===0&&ha()}),p=null;else{switch(tN(v)){case 1:p=Lx;break;case 4:p=QS;break;case 16:p=rf;break;case 536870912:p=ZS;break;default:p=rf}p=xk(p,lk.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function lk(l,u){if(Qf=-1,Zf=0,(mt&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Wl()&&l.callbackNode!==p)return null;var v=lf(l,l===jn?Pn:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||u)u=em(l,v);else{u=v;var w=mt;mt|=2;var k=uk();(jn!==l||Pn!==u)&&(Pi=null,Vl=Zt()+500,jo(l,u));do try{zF();break}catch(Y){dk(l,Y)}while(!0);jy(),Gf.current=k,mt=w,ln!==null?u=0:(jn=null,Pn=0,u=pn)}if(u!==0){if(u===2&&(w=$x(l),w!==0&&(v=w,u=i0(l,w))),u===1)throw p=eu,jo(l,0),va(l,v),pr(l,Zt()),p;if(u===6)va(l,v);else{if(w=l.current.alternate,(v&30)===0&&!FF(w)&&(u=em(l,v),u===2&&(k=$x(l),k!==0&&(v=k,u=i0(l,k))),u===1))throw p=eu,jo(l,0),va(l,v),pr(l,Zt()),p;switch(l.finishedWork=w,l.finishedLanes=v,u){case 0:case 1:throw Error(n(345));case 2:So(l,mr,Pi);break;case 3:if(va(l,v),(v&130023424)===v&&(u=n0+500-Zt(),10<u)){if(lf(l,0)!==0)break;if(w=l.suspendedLanes,(w&v)!==v){Zn(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=uy(So.bind(null,l,mr,Pi),u);break}So(l,mr,Pi);break;case 4:if(va(l,v),(v&4194240)===v)break;for(u=l.eventTimes,w=-1;0<v;){var I=31-bs(v);k=1<<I,I=u[I],I>w&&(w=I),v&=~k}if(v=w,v=Zt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*$F(v/1960))-v,10<v){l.timeoutHandle=uy(So.bind(null,l,mr,Pi),v);break}So(l,mr,Pi);break;case 5:So(l,mr,Pi);break;default:throw Error(n(329))}}}return pr(l,Zt()),l.callbackNode===p?lk.bind(null,l):null}function i0(l,u){var p=tu;return l.current.memoizedState.isDehydrated&&(jo(l,u).flags|=256),l=em(l,u),l!==2&&(u=mr,mr=p,u!==null&&a0(u)),l}function a0(l){mr===null?mr=l:mr.push.apply(mr,l)}function FF(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var w=p[v],k=w.getSnapshot;w=w.value;try{if(!ws(k(),w))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function va(l,u){for(u&=~t0,u&=~Kf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-bs(u),v=1<<p;l[p]=-1,u&=~v}}function ck(l){if((mt&6)!==0)throw Error(n(327));Wl();var u=lf(l,0);if((u&1)===0)return pr(l,Zt()),null;var p=em(l,u);if(l.tag!==0&&p===2){var v=$x(l);v!==0&&(u=v,p=i0(l,v))}if(p===1)throw p=eu,jo(l,0),va(l,u),pr(l,Zt()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,So(l,mr,Pi),pr(l,Zt()),null}function o0(l,u){var p=mt;mt|=1;try{return l(u)}finally{mt=p,mt===0&&(Vl=Zt()+500,Cf&&ha())}}function wo(l){xa!==null&&xa.tag===0&&(mt&6)===0&&Wl();var u=mt;mt|=1;var p=ns.transition,v=bt;try{if(ns.transition=null,bt=1,l)return l()}finally{bt=v,ns.transition=p,mt=u,(mt&6)===0&&ha()}}function l0(){Dr=Bl.current,Mt(Bl)}function jo(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,pF(p)),ln!==null)for(p=ln.return;p!==null;){var v=p;switch(xy(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&_f();break;case 3:Fl(),Mt(ur),Mt(Fn),Py();break;case 5:Ey(v);break;case 4:Fl();break;case 13:Mt(Ft);break;case 19:Mt(Ft);break;case 10:Sy(v.type._context);break;case 22:case 23:l0()}p=p.return}if(jn=l,ln=l=ba(l.current,null),Pn=Dr=u,pn=0,eu=null,t0=Kf=bo=0,mr=tu=null,xo!==null){for(u=0;u<xo.length;u++)if(p=xo[u],v=p.interleaved,v!==null){p.interleaved=null;var w=v.next,k=p.pending;if(k!==null){var I=k.next;k.next=w,v.next=I}p.pending=v}xo=null}return l}function dk(l,u){do{var p=ln;try{if(jy(),Lf.current=zf,$f){for(var v=Ut.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}$f=!1}if(vo=0,wn=mn=Ut=null,Kd=!1,Yd=0,e0.current=null,p===null||p.return===null){pn=1,eu=u,ln=null;break}e:{var k=l,I=p.return,Y=p,te=u;if(u=Pn,Y.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var oe=te,fe=Y,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Se=M_(I);if(Se!==null){Se.flags&=-257,D_(Se,I,Y,k,u),Se.mode&1&&O_(k,oe,u),u=Se,te=oe;var Ee=u.updateQueue;if(Ee===null){var Re=new Set;Re.add(te),u.updateQueue=Re}else Ee.add(te);break e}else{if((u&1)===0){O_(k,oe,u),c0();break e}te=Error(n(426))}}else if(Dt&&Y.mode&1){var en=M_(I);if(en!==null){(en.flags&65536)===0&&(en.flags|=256),D_(en,I,Y,k,u),by(Ul(te,Y));break e}}k=te=Ul(te,Y),pn!==4&&(pn=2),tu===null?tu=[k]:tu.push(k),k=I;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var ie=A_(k,te,u);i_(k,ie);break e;case 1:Y=te;var ne=k.type,ae=k.stateNode;if((k.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ga===null||!ga.has(ae)))){k.flags|=65536,u&=-u,k.lanes|=u;var ge=I_(k,Y,u);i_(k,ge);break e}}k=k.return}while(k!==null)}fk(p)}catch(Ae){u=Ae,ln===p&&p!==null&&(ln=p=p.return);continue}break}while(!0)}function uk(){var l=Gf.current;return Gf.current=zf,l===null?zf:l}function c0(){(pn===0||pn===3||pn===2)&&(pn=4),jn===null||(bo&268435455)===0&&(Kf&268435455)===0||va(jn,Pn)}function em(l,u){var p=mt;mt|=2;var v=uk();(jn!==l||Pn!==u)&&(Pi=null,jo(l,u));do try{UF();break}catch(w){dk(l,w)}while(!0);if(jy(),mt=p,Gf.current=v,ln!==null)throw Error(n(261));return jn=null,Pn=0,pn}function UF(){for(;ln!==null;)hk(ln)}function zF(){for(;ln!==null&&!h6();)hk(ln)}function hk(l){var u=gk(l.alternate,l,Dr);l.memoizedProps=l.pendingProps,u===null?fk(l):ln=u,e0.current=null}function fk(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=IF(p,u,Dr),p!==null){ln=p;return}}else{if(p=OF(p,u),p!==null){p.flags&=32767,ln=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{pn=6,ln=null;return}}if(u=u.sibling,u!==null){ln=u;return}ln=u=l}while(u!==null);pn===0&&(pn=5)}function So(l,u,p){var v=bt,w=ns.transition;try{ns.transition=null,bt=1,BF(l,u,p,v)}finally{ns.transition=w,bt=v}return null}function BF(l,u,p,v){do Wl();while(xa!==null);if((mt&6)!==0)throw Error(n(327));p=l.finishedWork;var w=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var k=p.lanes|p.childLanes;if(j6(l,k),l===jn&&(ln=jn=null,Pn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Jf||(Jf=!0,xk(rf,function(){return Wl(),null})),k=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||k){k=ns.transition,ns.transition=null;var I=bt;bt=1;var Y=mt;mt|=4,e0.current=null,DF(l,p),rk(p,l),lF(cy),uf=!!ly,cy=ly=null,l.current=p,LF(p),f6(),mt=Y,bt=I,ns.transition=k}else l.current=p;if(Jf&&(Jf=!1,xa=l,Xf=w),k=l.pendingLanes,k===0&&(ga=null),g6(p.stateNode),pr(l,Zt()),u!==null)for(v=l.onRecoverableError,p=0;p<u.length;p++)w=u[p],v(w.value,{componentStack:w.stack,digest:w.digest});if(Yf)throw Yf=!1,l=r0,r0=null,l;return(Xf&1)!==0&&l.tag!==0&&Wl(),k=l.pendingLanes,(k&1)!==0?l===s0?nu++:(nu=0,s0=l):nu=0,ha(),null}function Wl(){if(xa!==null){var l=tN(Xf),u=ns.transition,p=bt;try{if(ns.transition=null,bt=16>l?16:l,xa===null)var v=!1;else{if(l=xa,xa=null,Xf=0,(mt&6)!==0)throw Error(n(331));var w=mt;for(mt|=4,Ce=l.current;Ce!==null;){var k=Ce,I=k.child;if((Ce.flags&16)!==0){var Y=k.deletions;if(Y!==null){for(var te=0;te<Y.length;te++){var oe=Y[te];for(Ce=oe;Ce!==null;){var fe=Ce;switch(fe.tag){case 0:case 11:case 15:Zd(8,fe,k)}var me=fe.child;if(me!==null)me.return=fe,Ce=me;else for(;Ce!==null;){fe=Ce;var he=fe.sibling,Se=fe.return;if(Q_(fe),fe===oe){Ce=null;break}if(he!==null){he.return=Se,Ce=he;break}Ce=Se}}}var Ee=k.alternate;if(Ee!==null){var Re=Ee.child;if(Re!==null){Ee.child=null;do{var en=Re.sibling;Re.sibling=null,Re=en}while(Re!==null)}}Ce=k}}if((k.subtreeFlags&2064)!==0&&I!==null)I.return=k,Ce=I;else e:for(;Ce!==null;){if(k=Ce,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Zd(9,k,k.return)}var ie=k.sibling;if(ie!==null){ie.return=k.return,Ce=ie;break e}Ce=k.return}}var ne=l.current;for(Ce=ne;Ce!==null;){I=Ce;var ae=I.child;if((I.subtreeFlags&2064)!==0&&ae!==null)ae.return=I,Ce=ae;else e:for(I=ne;Ce!==null;){if(Y=Ce,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:qf(9,Y)}}catch(Ae){Ht(Y,Y.return,Ae)}if(Y===I){Ce=null;break e}var ge=Y.sibling;if(ge!==null){ge.return=Y.return,Ce=ge;break e}Ce=Y.return}}if(mt=w,ha(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(sf,l)}catch{}v=!0}return v}finally{bt=p,ns.transition=u}}return!1}function mk(l,u,p){u=Ul(p,u),u=A_(l,u,1),l=ma(l,u,1),u=Zn(),l!==null&&(kd(l,1,u),pr(l,u))}function Ht(l,u,p){if(l.tag===3)mk(l,l,p);else for(;u!==null;){if(u.tag===3){mk(u,l,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ga===null||!ga.has(v))){l=Ul(p,l),l=I_(u,l,1),u=ma(u,l,1),l=Zn(),u!==null&&(kd(u,1,l),pr(u,l));break}}u=u.return}}function VF(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),u=Zn(),l.pingedLanes|=l.suspendedLanes&p,jn===l&&(Pn&p)===p&&(pn===4||pn===3&&(Pn&130023424)===Pn&&500>Zt()-n0?jo(l,0):t0|=p),pr(l,u)}function pk(l,u){u===0&&((l.mode&1)===0?u=1:(u=of,of<<=1,(of&130023424)===0&&(of=4194304)));var p=Zn();l=Ci(l,u),l!==null&&(kd(l,u,p),pr(l,p))}function WF(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),pk(l,p)}function HF(l,u){var p=0;switch(l.tag){case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(p=w.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(u),pk(l,p)}var gk;gk=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||ur.current)fr=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return fr=!1,AF(l,u,p);fr=(l.flags&131072)!==0}else fr=!1,Dt&&(u.flags&1048576)!==0&&YN(u,Tf,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Wf(l,u),l=u.pendingProps;var w=Al(u,Fn.current);$l(u,p),w=Iy(null,u,v,l,w,p);var k=Oy();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,hr(v)?(k=!0,kf(u)):k=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,ky(u),w.updater=Bf,u.stateNode=w,w._reactInternals=u,Uy(u,v,l,p),u=Wy(null,u,v,!0,k,p)):(u.tag=0,Dt&&k&&gy(u),Qn(null,u,w,p),u=u.child),u;case 16:v=u.elementType;e:{switch(Wf(l,u),l=u.pendingProps,w=v._init,v=w(v._payload),u.type=v,w=u.tag=GF(v),l=Ss(v,l),w){case 0:u=Vy(null,u,v,l,p);break e;case 1:u=B_(null,u,v,l,p);break e;case 11:u=L_(null,u,v,l,p);break e;case 14:u=$_(null,u,v,Ss(v.type,l),p);break e}throw Error(n(306,v,""))}return u;case 0:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ss(v,w),Vy(l,u,v,w,p);case 1:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ss(v,w),B_(l,u,v,w,p);case 3:e:{if(V_(u),l===null)throw Error(n(387));v=u.pendingProps,k=u.memoizedState,w=k.element,s_(l,u),Mf(u,v,null,p);var I=u.memoizedState;if(v=I.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){w=Ul(Error(n(423)),u),u=W_(l,u,v,p,w);break e}else if(v!==w){w=Ul(Error(n(424)),u),u=W_(l,u,v,p,w);break e}else for(Mr=ca(u.stateNode.containerInfo.firstChild),Or=u,Dt=!0,js=null,p=n_(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ml(),v===w){u=Ti(l,u,p);break e}Qn(l,u,v,p)}u=u.child}return u;case 5:return o_(u),l===null&&vy(u),v=u.type,w=u.pendingProps,k=l!==null?l.memoizedProps:null,I=w.children,dy(v,w)?I=null:k!==null&&dy(v,k)&&(u.flags|=32),z_(l,u),Qn(l,u,I,p),u.child;case 6:return l===null&&vy(u),null;case 13:return H_(l,u,p);case 4:return Cy(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Dl(u,null,v,p):Qn(l,u,v,p),u.child;case 11:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ss(v,w),L_(l,u,v,w,p);case 7:return Qn(l,u,u.pendingProps,p),u.child;case 8:return Qn(l,u,u.pendingProps.children,p),u.child;case 12:return Qn(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(v=u.type._context,w=u.pendingProps,k=u.memoizedProps,I=w.value,Tt(Af,v._currentValue),v._currentValue=I,k!==null)if(ws(k.value,I)){if(k.children===w.children&&!ur.current){u=Ti(l,u,p);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var Y=k.dependencies;if(Y!==null){I=k.child;for(var te=Y.firstContext;te!==null;){if(te.context===v){if(k.tag===1){te=Ei(-1,p&-p),te.tag=2;var oe=k.updateQueue;if(oe!==null){oe=oe.shared;var fe=oe.pending;fe===null?te.next=te:(te.next=fe.next,fe.next=te),oe.pending=te}}k.lanes|=p,te=k.alternate,te!==null&&(te.lanes|=p),Ny(k.return,p,u),Y.lanes|=p;break}te=te.next}}else if(k.tag===10)I=k.type===u.type?null:k.child;else if(k.tag===18){if(I=k.return,I===null)throw Error(n(341));I.lanes|=p,Y=I.alternate,Y!==null&&(Y.lanes|=p),Ny(I,p,u),I=k.sibling}else I=k.child;if(I!==null)I.return=k;else for(I=k;I!==null;){if(I===u){I=null;break}if(k=I.sibling,k!==null){k.return=I.return,I=k;break}I=I.return}k=I}Qn(l,u,w.children,p),u=u.child}return u;case 9:return w=u.type,v=u.pendingProps.children,$l(u,p),w=es(w),v=v(w),u.flags|=1,Qn(l,u,v,p),u.child;case 14:return v=u.type,w=Ss(v,u.pendingProps),w=Ss(v.type,w),$_(l,u,v,w,p);case 15:return F_(l,u,u.type,u.pendingProps,p);case 17:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ss(v,w),Wf(l,u),u.tag=1,hr(v)?(l=!0,kf(u)):l=!1,$l(u,p),P_(u,v,w),Uy(u,v,w,p),Wy(null,u,v,!0,l,p);case 19:return G_(l,u,p);case 22:return U_(l,u,p)}throw Error(n(156,u.tag))};function xk(l,u){return JS(l,u)}function qF(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(l,u,p,v){return new qF(l,u,p,v)}function d0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function GF(l){if(typeof l=="function")return d0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===G)return 11;if(l===$)return 14}return 2}function ba(l,u){var p=l.alternate;return p===null?(p=rs(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function tm(l,u,p,v,w,k){var I=2;if(v=l,typeof l=="function")d0(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case E:return No(p.children,w,k,u);case R:I=8,w|=8;break;case q:return l=rs(12,p,u,w|2),l.elementType=q,l.lanes=k,l;case A:return l=rs(13,p,u,w),l.elementType=A,l.lanes=k,l;case J:return l=rs(19,p,u,w),l.elementType=J,l.lanes=k,l;case B:return nm(p,w,k,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case V:I=10;break e;case Q:I=9;break e;case G:I=11;break e;case $:I=14;break e;case F:I=16,v=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=rs(I,p,u,w),u.elementType=l,u.type=v,u.lanes=k,u}function No(l,u,p,v){return l=rs(7,l,v,u),l.lanes=p,l}function nm(l,u,p,v){return l=rs(22,l,v,u),l.elementType=B,l.lanes=p,l.stateNode={isHidden:!1},l}function u0(l,u,p){return l=rs(6,l,null,u),l.lanes=p,l}function h0(l,u,p){return u=rs(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function KF(l,u,p,v,w){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function f0(l,u,p,v,w,k,I,Y,te){return l=new KF(l,u,p,Y,te),u===1?(u=1,k===!0&&(u|=8)):u=0,k=rs(3,null,null,u),l.current=k,k.stateNode=l,k.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(k),l}function YF(l,u,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:v==null?null:""+v,children:l,containerInfo:u,implementation:p}}function yk(l){if(!l)return ua;l=l._reactInternals;e:{if(ho(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(hr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(hr(p))return qN(l,p,u)}return u}function vk(l,u,p,v,w,k,I,Y,te){return l=f0(p,v,!0,l,w,k,I,Y,te),l.context=yk(null),p=l.current,v=Zn(),w=ya(p),k=Ei(v,w),k.callback=u??null,ma(p,k,w),l.current.lanes=w,kd(l,w,v),pr(l,v),l}function rm(l,u,p,v){var w=u.current,k=Zn(),I=ya(w);return p=yk(p),u.context===null?u.context=p:u.pendingContext=p,u=Ei(k,I),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=ma(w,u,I),l!==null&&(ks(l,w,I,k),Of(l,w,I)),I}function sm(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function bk(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function m0(l,u){bk(l,u),(l=l.alternate)&&bk(l,u)}function JF(){return null}var wk=typeof reportError=="function"?reportError:function(l){console.error(l)};function p0(l){this._internalRoot=l}im.prototype.render=p0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));rm(l,u,null,null)},im.prototype.unmount=p0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;wo(function(){rm(null,l,null,null)}),u[Si]=null}};function im(l){this._internalRoot=l}im.prototype.unstable_scheduleHydration=function(l){if(l){var u=sN();l={blockedOn:null,target:l,priority:u};for(var p=0;p<aa.length&&u!==0&&u<aa[p].priority;p++);aa.splice(p,0,l),p===0&&oN(l)}};function g0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function am(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function jk(){}function XF(l,u,p,v,w){if(w){if(typeof v=="function"){var k=v;v=function(){var oe=sm(I);k.call(oe)}}var I=vk(u,v,l,0,null,!1,!1,"",jk);return l._reactRootContainer=I,l[Si]=I.current,Ud(l.nodeType===8?l.parentNode:l),wo(),I}for(;w=l.lastChild;)l.removeChild(w);if(typeof v=="function"){var Y=v;v=function(){var oe=sm(te);Y.call(oe)}}var te=f0(l,0,!1,null,null,!1,!1,"",jk);return l._reactRootContainer=te,l[Si]=te.current,Ud(l.nodeType===8?l.parentNode:l),wo(function(){rm(u,te,p,v)}),te}function om(l,u,p,v,w){var k=p._reactRootContainer;if(k){var I=k;if(typeof w=="function"){var Y=w;w=function(){var te=sm(I);Y.call(te)}}rm(u,I,l,w)}else I=XF(p,u,l,w,v);return sm(I)}nN=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=_d(u.pendingLanes);p!==0&&(Ux(u,p|1),pr(u,Zt()),(mt&6)===0&&(Vl=Zt()+500,ha()))}break;case 13:wo(function(){var v=Ci(l,1);if(v!==null){var w=Zn();ks(v,l,1,w)}}),m0(l,1)}},zx=function(l){if(l.tag===13){var u=Ci(l,134217728);if(u!==null){var p=Zn();ks(u,l,134217728,p)}m0(l,134217728)}},rN=function(l){if(l.tag===13){var u=ya(l),p=Ci(l,u);if(p!==null){var v=Zn();ks(p,l,u,v)}m0(l,u)}},sN=function(){return bt},iN=function(l,u){var p=bt;try{return bt=l,u()}finally{bt=p}},Xn=function(l,u,p){switch(u){case"input":if(sn(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==l&&v.form===l.form){var w=Nf(v);if(!w)throw Error(n(90));je(v),sn(v,w)}}}break;case"textarea":tt(l,p);break;case"select":u=p.value,u!=null&&Lt(l,!!p.multiple,u,!1)}},Ct=o0,$t=wo;var QF={usingClientEntryPoint:!1,Events:[Vd,Pl,Nf,Be,St,o0]},ru={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZF={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=KS(l),l===null?null:l.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||JF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{sf=lm.inject(ZF),Xs=lm}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QF,gr.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(u))throw Error(n(200));return YF(l,u,null,p)},gr.createRoot=function(l,u){if(!g0(l))throw Error(n(299));var p=!1,v="",w=wk;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),u=f0(l,1,!1,null,null,p,!1,v,w),l[Si]=u.current,Ud(l.nodeType===8?l.parentNode:l),new p0(u)},gr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=KS(u),l=l===null?null:l.stateNode,l},gr.flushSync=function(l){return wo(l)},gr.hydrate=function(l,u,p){if(!am(u))throw Error(n(200));return om(null,l,u,!0,p)},gr.hydrateRoot=function(l,u,p){if(!g0(l))throw Error(n(405));var v=p!=null&&p.hydratedSources||null,w=!1,k="",I=wk;if(p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&(I=p.onRecoverableError)),u=vk(u,null,l,1,p??null,w,!1,k,I),l[Si]=u.current,Ud(l),v)for(l=0;l<v.length;l++)p=v[l],w=p._getVersion,w=w(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,w]:u.mutableSourceEagerHydrationData.push(p,w);return new im(u)},gr.render=function(l,u,p){if(!am(u))throw Error(n(200));return om(null,l,u,!1,p)},gr.unmountComponentAtNode=function(l){if(!am(l))throw Error(n(40));return l._reactRootContainer?(wo(function(){om(null,null,l,!1,function(){l._reactRootContainer=null,l[Si]=null})}),!0):!1},gr.unstable_batchedUpdates=o0,gr.unstable_renderSubtreeIntoContainer=function(l,u,p,v){if(!am(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return om(l,u,p,!1,v)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var aE;function NI(){if(aE)return F0.exports;aE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F0.exports=EG(),F0.exports}var oE;function TG(){if(oE)return wm;oE=1;var e=NI();return wm.createRoot=e.createRoot,wm.hydrateRoot=e.hydrateRoot,wm}var PG=TG();const Fc={};function _I(e){return"init"in e}function gb(e){return!!e.write}function lE(e){return"v"in e||"e"in e}function zp(e){if("e"in e)throw e.e;if((Fc?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const Bp=new WeakMap;function kI(e){var t;return Vp(e)&&!!((t=Bp.get(e))!=null&&t[0])}function RG(e){const t=Bp.get(e);t?.[0]&&(t[0]=!1,t[1].forEach(n=>n()))}function xb(e,t){let n=Bp.get(e);if(!n){n=[!0,new Set],Bp.set(e,n);const s=()=>{n[0]=!1};e.then(s,s)}n[1].add(t)}function Vp(e){return typeof e?.then=="function"}function CI(e,t,n){if(!n.p.has(e)){n.p.add(e);const s=()=>n.p.delete(e);t.then(s,s)}}function EI(e,t,n){var s;const i=new Set;for(const a of((s=n.get(e))==null?void 0:s.t)||[])n.has(a)&&i.add(a);for(const a of t.p)i.add(a);return i}const AG=(e,t,...n)=>t.read(...n),IG=(e,t,...n)=>t.write(...n),OG=(e,t)=>{var n;return(n=t.unstable_onInit)==null?void 0:n.call(t,e)},MG=(e,t,n)=>{var s;return(s=t.onMount)==null?void 0:s.call(t,n)},DG=(e,t)=>{const n=Gn(e),s=n[0],i=n[9];if((Fc?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let a=s.get(t);return a||(a={d:new Map,p:new Set,n:0},s.set(t,a),i?.(e,t)),a},LG=e=>{const t=Gn(e),n=t[1],s=t[3],i=t[4],a=t[5],o=t[6],c=t[13],d=[],h=f=>{try{f()}catch(m){d.push(m)}};do{o.f&&h(o.f);const f=new Set,m=f.add.bind(f);s.forEach(g=>{var y;return(y=n.get(g))==null?void 0:y.l.forEach(m)}),s.clear(),a.forEach(m),a.clear(),i.forEach(m),i.clear(),f.forEach(h),s.size&&c(e)}while(s.size||a.size||i.size);if(d.length)throw new AggregateError(d)},$G=e=>{const t=Gn(e),n=t[1],s=t[2],i=t[3],a=t[11],o=t[14],c=t[17],d=[],h=new WeakSet,f=new WeakSet,m=Array.from(i);for(;m.length;){const g=m[m.length-1],y=a(e,g);if(f.has(g)){m.pop();continue}if(h.has(g)){if(s.get(g)===y.n)d.push([g,y]);else if((Fc?"production":void 0)!=="production"&&s.has(g))throw new Error("[Bug] invalidated atom exists");f.add(g),m.pop();continue}h.add(g);for(const b of EI(g,y,n))h.has(b)||m.push(b)}for(let g=d.length-1;g>=0;--g){const[y,b]=d[g];let j=!1;for(const S of b.d.keys())if(S!==y&&i.has(S)){j=!0;break}j&&(o(e,y),c(e,y)),s.delete(y)}},FG=(e,t)=>{var n,s;const i=Gn(e),a=i[1],o=i[2],c=i[3],d=i[6],h=i[7],f=i[11],m=i[12],g=i[13],y=i[14],b=i[16],j=i[17],S=f(e,t);if(lE(S)&&(a.has(t)&&o.get(t)!==S.n||Array.from(S.d).every(([R,q])=>y(e,R).n===q)))return S;S.d.clear();let _=!0;function N(){a.has(t)&&(j(e,t),g(e),m(e))}function C(R){var q;if(R===t){const Q=f(e,R);if(!lE(Q))if(_I(R))Wp(e,R,R.init);else throw new Error("no atom init");return zp(Q)}const V=y(e,R);try{return zp(V)}finally{S.d.set(R,V.n),kI(S.v)&&CI(t,S.v,V),(q=a.get(R))==null||q.t.add(t),_||N()}}let T,M;const P={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return(Fc?"production":void 0)!=="production"&&!gb(t)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&gb(t)&&(M=(...R)=>{if((Fc?"production":void 0)!=="production"&&_&&console.warn("setSelf function cannot be called in sync"),!_)try{return b(e,t,...R)}finally{g(e),m(e)}}),M}},E=S.n;try{const R=h(e,t,C,P);return Wp(e,t,R),Vp(R)&&(xb(R,()=>T?.abort()),R.then(N,N)),(n=d.r)==null||n.call(d,t),S}catch(R){return delete S.v,S.e=R,++S.n,S}finally{_=!1,E!==S.n&&o.get(t)===E&&(o.set(t,S.n),c.add(t),(s=d.c)==null||s.call(d,t))}},UG=(e,t)=>{const n=Gn(e),s=n[1],i=n[2],a=n[11],o=[t];for(;o.length;){const c=o.pop(),d=a(e,c);for(const h of EI(c,d,s)){const f=a(e,h);i.set(h,f.n),o.push(h)}}},TI=(e,t,...n)=>{const s=Gn(e),i=s[3],a=s[6],o=s[8],c=s[11],d=s[12],h=s[13],f=s[14],m=s[15],g=s[17];let y=!0;const b=S=>zp(f(e,S)),j=(S,..._)=>{var N;const C=c(e,S);try{if(S===t){if(!_I(S))throw new Error("atom not writable");const T=C.n,M=_[0];Wp(e,S,M),g(e,S),T!==C.n&&(i.add(S),(N=a.c)==null||N.call(a,S),m(e,S));return}else return TI(e,S,..._)}finally{y||(h(e),d(e))}};try{return o(e,t,b,j,...n)}finally{y=!1}},zG=(e,t)=>{var n;const s=Gn(e),i=s[1],a=s[3],o=s[6],c=s[11],d=s[15],h=s[18],f=s[19],m=c(e,t),g=i.get(t);if(g&&!kI(m.v)){for(const[y,b]of m.d)if(!g.d.has(y)){const j=c(e,y);h(e,y).t.add(t),g.d.add(y),b!==j.n&&(a.add(y),(n=o.c)==null||n.call(o,y),d(e,y))}for(const y of g.d||[])if(!m.d.has(y)){g.d.delete(y);const b=f(e,y);b?.t.delete(t)}}},PI=(e,t)=>{var n;const s=Gn(e),i=s[1],a=s[4],o=s[6],c=s[10],d=s[11],h=s[12],f=s[13],m=s[14],g=s[16],y=d(e,t);let b=i.get(t);if(!b){m(e,t);for(const j of y.d.keys())PI(e,j).t.add(t);if(b={l:new Set,d:new Set(y.d.keys()),t:new Set},i.set(t,b),(n=o.m)==null||n.call(o,t),gb(t)){const j=()=>{let S=!0;const _=(...N)=>{try{return g(e,t,...N)}finally{S||(f(e),h(e))}};try{const N=c(e,t,_);N&&(b.u=()=>{S=!0;try{N()}finally{S=!1}})}finally{S=!1}};a.add(j)}}return b},BG=(e,t)=>{var n;const s=Gn(e),i=s[1],a=s[5],o=s[6],c=s[11],d=s[19],h=c(e,t);let f=i.get(t);if(f&&!f.l.size&&!Array.from(f.t).some(m=>{var g;return(g=i.get(m))==null?void 0:g.d.has(t)})){f.u&&a.add(f.u),f=void 0,i.delete(t),(n=o.u)==null||n.call(o,t);for(const m of h.d.keys()){const g=d(e,m);g?.t.delete(t)}return}return f},Wp=(e,t,n)=>{const s=Gn(e)[11],i=s(e,t),a="v"in i,o=i.v;if(Vp(n))for(const c of i.d.keys())CI(t,n,s(e,c));i.v=n,delete i.e,(!a||!Object.is(o,i.v))&&(++i.n,Vp(o)&&RG(o))},VG=(e,t)=>{const n=Gn(e)[14];return zp(n(e,t))},WG=(e,t,...n)=>{const s=Gn(e),i=s[12],a=s[13],o=s[16];try{return o(e,t,...n)}finally{a(e),i(e)}},HG=(e,t,n)=>{const s=Gn(e),i=s[12],a=s[18],o=s[19],d=a(e,t).l;return d.add(n),i(e),()=>{d.delete(n),o(e,t),i(e)}},RI=new WeakMap,Gn=e=>{const t=RI.get(e);if((Fc?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function qG(...e){const t={get(s){const i=Gn(t)[21];return i(t,s)},set(s,...i){const a=Gn(t)[22];return a(t,s,...i)},sub(s,i){const a=Gn(t)[23];return a(t,s,i)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},AG,IG,OG,MG,DG,LG,$G,FG,UG,TI,zG,PI,BG,Wp,VG,WG,HG,void 0].map((s,i)=>e[i]||s);return RI.set(t,Object.freeze(n)),t}const AI={};let GG=0;function be(e,t){const n=`atom${++GG}`,s={toString(){return(AI?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?s.read=e:(s.init=e,s.read=KG,s.write=YG),t&&(s.write=t),s}function KG(e){return e(this)}function YG(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function II(){return qG()}let au;function JG(){return au||(au=II(),(AI?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=au),globalThis.__JOTAI_DEFAULT_STORE__!==au&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),au}const XG={},yb=x.createContext(void 0);function OI(e){return x.useContext(yb)||JG()}function QG({children:e,store:t}){const n=x.useRef(null);return t?x.createElement(yb.Provider,{value:t},e):(n.current===null&&(n.current=II()),x.createElement(yb.Provider,{value:n.current},e))}const vb=e=>typeof e?.then=="function",bb=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},ZG=ce.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(bb(e),e)}),B0=new WeakMap,cE=(e,t)=>{let n=B0.get(e);return n||(n=new Promise((s,i)=>{let a=e;const o=h=>f=>{a===h&&s(f)},c=h=>f=>{a===h&&i(f)},d=()=>{try{const h=t();vb(h)?(B0.set(h,n),a=h,h.then(o(h),c(h)),xb(h,d)):s(h)}catch(h){i(h)}};e.then(o(e),c(e)),xb(e,d)}),B0.set(e,n)),n};function Je(e,t){const{delay:n,unstable_promiseStatus:s=!ce.use}={},i=OI(),[[a,o,c],d]=x.useReducer(f=>{const m=i.get(e);return Object.is(f[0],m)&&f[1]===i&&f[2]===e?f:[m,i,e]},void 0,()=>[i.get(e),i,e]);let h=a;if((o!==i||c!==e)&&(d(),h=i.get(e)),x.useEffect(()=>{const f=i.sub(e,()=>{if(s)try{const m=i.get(e);vb(m)&&bb(cE(m,()=>i.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),f},[i,e,n,s]),x.useDebugValue(h),vb(h)){const f=cE(h,()=>i.get(e));return s&&bb(f),ZG(f)}return h}function wt(e,t){const n=OI();return x.useCallback((...i)=>{if((XG?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Hn(e,t){return[Je(e),wt(e)]}const eK="modulepreload",tK=function(e){return"/"+e},dE={},Ag=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=o(n.map(h=>{if(h=tK(h),h in dE)return;dE[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":eK,f||(g.as="script"),g.crossOrigin="",g.href=h,d&&g.setAttribute("nonce",d),document.head.appendChild(g),f)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rK=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),uE=e=>{const t=rK(e);return t.charAt(0).toUpperCase()+t.slice(1)},MI=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...c},d)=>x.createElement("svg",{ref:d,...sK,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:MI("lucide",i),...c},[...o.map(([h,f])=>x.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=x.forwardRef(({className:s,...i},a)=>x.createElement(iK,{ref:a,iconNode:t,className:MI(`lucide-${nK(uE(e))}`,`lucide-${e}`,s),...i}));return n.displayName=uE(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oK=pe("activity",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fs=pe("arrow-left",lK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fs=pe("arrow-right",cK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],uK=pe("award",dK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fK=pe("badge-check",hK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],pK=pe("badge-percent",mK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],DI=pe("beef",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],jm=pe("bell-off",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hE=pe("bell",yK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],bK=pe("bell-ring",vK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tl=pe("calendar",wK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],In=pe("check",jK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mi=pe("chevron-down",SK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_K=pe("chevron-left",NK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ma=pe("chevron-right",kK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EK=pe("chevron-up",CK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],PK=pe("chevrons-up-down",TK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],On=pe("circle-alert",RK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ra=pe("circle-check-big",AK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hr=pe("circle-check",IK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fE=pe("circle-help",OK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ms=pe("circle-x",MK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],LK=pe("circle",DK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jt=pe("clock",$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LI=pe("copy",FK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Th=pe("credit-card",UK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ii=pe("dollar-sign",zK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wu=pe("external-link",BK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wc=pe("eye-off",VK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jc=pe("eye",WK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],qK=pe("facebook",HK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$I=pe("file-text",GK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Va=pe("gift",KK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Hu=pe("heart",YK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],XK=pe("house",JK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZK=pe("image",QK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],FI=pe("info",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],nY=pe("instagram",tY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Sc=pe("key-round",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],V0=pe("layout-dashboard",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],mE=pe("leaf",iY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],oY=pe("link",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],et=pe("loader-circle",lY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dY=pe("lock",cY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],qu=pe("log-in",uY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Gu=pe("log-out",hY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mn=pe("mail",fY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bn=pe("map-pin",mY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],UI=pe("menu",pY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Uc=pe("message-circle",gY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],yY=pe("message-square",xY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],bY=pe("minimize-2",vY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ph=pe("minus",wY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Ku=pe("navigation",jY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nn=pe("package",SY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],_Y=pe("panel-left-close",NY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],CY=pe("panel-left",kY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],TY=pe("pen-line",EY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zI=pe("pencil",PY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Yu=pe("percent",RY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],sr=pe("phone",AY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Us=pe("plus",IY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],BI=pe("qr-code",OY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],DY=pe("quote",MY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Tj=pe("receipt",LY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],VI=pe("refresh-ccw",$Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Da=pe("refresh-cw",FY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WI=pe("save",UY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],gi=pe("search",zY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VY=pe("send",BY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dp=pe("settings",WY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],HI=pe("share-2",HY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qI=pe("shield-alert",qY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ig=pe("shield-check",GY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Dn=pe("shopping-bag",KY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],nl=pe("shopping-cart",YY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fi=pe("sparkles",JY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bt=pe("star",XY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],up=pe("store",QY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hp=pe("tag",ZY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],tJ=pe("ticket",eJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rh=pe("trash-2",nJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Og=pe("trending-up",rJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Su=pe("triangle-alert",sJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],zs=pe("truck",iJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],oJ=pe("twitter",aJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ju=pe("upload",lJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dJ=pe("user-plus",cJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],hJ=pe("user-x",uJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rl=pe("user",fJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Nr=pe("users",mJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],gJ=pe("utensils-crossed",pJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],GI=pe("utensils",xJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ir=pe("x",yJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bJ=pe("zoom-in",vJ);function pE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ar(...e){return t=>{let n=!1;const s=e.map(i=>{const a=pE(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():pE(e[i],null)}}}}function He(...e){return x.useCallback(ar(...e),e)}var wJ=Symbol.for("react.lazy"),Hp=Ej[" use ".trim().toString()];function jJ(e){return typeof e=="object"&&e!==null&&"then"in e}function KI(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===wJ&&"_payload"in e&&jJ(e._payload)}function Mg(e){const t=SJ(e),n=x.forwardRef((s,i)=>{let{children:a,...o}=s;KI(a)&&typeof Hp=="function"&&(a=Hp(a._payload));const c=x.Children.toArray(a),d=c.find(_J);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var YI=Mg("Slot");function SJ(e){const t=x.forwardRef((n,s)=>{let{children:i,...a}=n;if(KI(i)&&typeof Hp=="function"&&(i=Hp(i._payload)),x.isValidElement(i)){const o=CJ(i),c=kJ(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NJ=Symbol("radix.slottable");function _J(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NJ}function kJ(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function CJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function JI(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=JI(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function XI(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=JI(e))&&(s&&(s+=" "),s+=t);return s}const gE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xE=XI,Pj=(e,t)=>n=>{var s;if(t?.variants==null)return xE(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(h=>{const f=n?.[h],m=a?.[h];if(f===null)return null;const g=gE(f)||gE(m);return i[h][g]}),c=n&&Object.entries(n).reduce((h,f)=>{let[m,g]=f;return g===void 0||(h[m]=g),h},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,f)=>{let{class:m,className:g,...y}=f;return Object.entries(y).every(b=>{let[j,S]=b;return Array.isArray(S)?S.includes({...a,...c}[j]):{...a,...c}[j]===S})?[...h,m,g]:h},[]);return xE(e,o,d,n?.class,n?.className)},Rj="-",EJ=e=>{const t=PJ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const c=o.split(Rj);return c[0]===""&&c.length!==1&&c.shift(),QI(c,t)||TJ(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},QI=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?QI(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Rj);return t.validators.find(({validator:o})=>o(a))?.classGroupId},yE=/^\[(.+)\]$/,TJ=e=>{if(yE.test(e)){const t=yE.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},PJ=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const i in n)wb(n[i],s,i,t);return s},wb=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:vE(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(RJ(i)){wb(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{wb(o,vE(t,a),n,s)})})},vE=(e,t)=>{let n=e;return t.split(Rj).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},RJ=e=>e.isThemeGetter,AJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},jb="!",Sb=":",IJ=Sb.length,OJ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const a=[];let o=0,c=0,d=0,h;for(let b=0;b<i.length;b++){let j=i[b];if(o===0&&c===0){if(j===Sb){a.push(i.slice(d,b)),d=b+IJ;continue}if(j==="/"){h=b;continue}}j==="["?o++:j==="]"?o--:j==="("?c++:j===")"&&c--}const f=a.length===0?i:i.substring(d),m=MJ(f),g=m!==f,y=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const i=t+Sb,a=s;s=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=a=>n({className:a,parseClassName:i})}return s},MJ=e=>e.endsWith(jb)?e.substring(0,e.length-1):e.startsWith(jb)?e.substring(1):e,DJ=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(o=>{o[0]==="["||t[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},LJ=e=>({cache:AJ(e.cacheSize),parseClassName:OJ(e),sortModifiers:DJ(e),...EJ(e)}),$J=/\s+/,FJ=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],c=e.trim().split($J);let d="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:j}=n(f);if(m){d=f+(d.length>0?" "+d:d);continue}let S=!!j,_=s(S?b.substring(0,j):b);if(!_){if(!S){d=f+(d.length>0?" "+d:d);continue}if(_=s(b),!_){d=f+(d.length>0?" "+d:d);continue}S=!1}const N=a(g).join(":"),C=y?N+jb:N,T=C+_;if(o.includes(T))continue;o.push(T);const M=i(_,S);for(let P=0;P<M.length;++P){const E=M[P];o.push(C+E)}d=f+(d.length>0?" "+d:d)}return d};function UJ(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ZI(t))&&(s&&(s+=" "),s+=n);return s}const ZI=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=ZI(e[s]))&&(n&&(n+=" "),n+=t);return n};function zJ(e,...t){let n,s,i,a=o;function o(d){const h=t.reduce((f,m)=>m(f),e());return n=LJ(h),s=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const h=s(d);if(h)return h;const f=FJ(d,n);return i(d,f),f}return function(){return a(UJ.apply(null,arguments))}}const gn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},eO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BJ=/^\d+\/\d+$/,VJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gl=e=>BJ.test(e),nt=e=>!!e&&!Number.isNaN(Number(e)),Sa=e=>!!e&&Number.isInteger(Number(e)),W0=e=>e.endsWith("%")&&nt(e.slice(0,-1)),Ri=e=>VJ.test(e),KJ=()=>!0,YJ=e=>WJ.test(e)&&!HJ.test(e),nO=()=>!1,JJ=e=>qJ.test(e),XJ=e=>GJ.test(e),QJ=e=>!Te(e)&&!Pe(e),ZJ=e=>od(e,iO,nO),Te=e=>eO.test(e),ko=e=>od(e,aO,YJ),H0=e=>od(e,sX,nt),bE=e=>od(e,rO,nO),eX=e=>od(e,sO,XJ),Sm=e=>od(e,oO,JJ),Pe=e=>tO.test(e),ou=e=>ld(e,aO),tX=e=>ld(e,iX),wE=e=>ld(e,rO),nX=e=>ld(e,iO),rX=e=>ld(e,sO),Nm=e=>ld(e,oO,!0),od=(e,t,n)=>{const s=eO.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},ld=(e,t,n=!1)=>{const s=tO.exec(e);return s?s[1]?t(s[1]):n:!1},rO=e=>e==="position"||e==="percentage",sO=e=>e==="image"||e==="url",iO=e=>e==="length"||e==="size"||e==="bg-size",aO=e=>e==="length",sX=e=>e==="number",iX=e=>e==="family-name",oO=e=>e==="shadow",aX=()=>{const e=gn("color"),t=gn("font"),n=gn("text"),s=gn("font-weight"),i=gn("tracking"),a=gn("leading"),o=gn("breakpoint"),c=gn("container"),d=gn("spacing"),h=gn("radius"),f=gn("shadow"),m=gn("inset-shadow"),g=gn("text-shadow"),y=gn("drop-shadow"),b=gn("blur"),j=gn("perspective"),S=gn("aspect"),_=gn("ease"),N=gn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...T(),Pe,Te],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],R=()=>[Pe,Te,d],q=()=>[Gl,"full","auto",...R()],V=()=>[Sa,"none","subgrid",Pe,Te],Q=()=>["auto",{span:["full",Sa,Pe,Te]},Sa,Pe,Te],G=()=>[Sa,"auto",Pe,Te],A=()=>["auto","min","max","fr",Pe,Te],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...R()],B=()=>[Gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],O=()=>[e,Pe,Te],Z=()=>[...T(),wE,bE,{position:[Pe,Te]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",nX,ZJ,{size:[Pe,Te]}],D=()=>[W0,ou,ko],ee=()=>["","none","full",h,Pe,Te],z=()=>["",nt,ou,ko],L=()=>["solid","dashed","dotted","double"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[nt,W0,wE,bE],se=()=>["","none",b,Pe,Te],ue=()=>["none",nt,Pe,Te],de=()=>["none",nt,Pe,Te],le=()=>[nt,Pe,Te],je=()=>[Gl,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ri],breakpoint:[Ri],color:[KJ],container:[Ri],"drop-shadow":[Ri],ease:["in","out","in-out"],font:[QJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ri],shadow:[Ri],spacing:["px",nt],text:[Ri],"text-shadow":[Ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gl,Te,Pe,S]}],container:["container"],columns:[{columns:[nt,Te,Pe,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Sa,"auto",Pe,Te]}],basis:[{basis:[Gl,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Gl,"auto","initial","none",Te]}],grow:[{grow:["",nt,Pe,Te]}],shrink:[{shrink:["",nt,Pe,Te]}],order:[{order:[Sa,"first","last","none",Pe,Te]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[c,"screen",...B()]}],"min-w":[{"min-w":[c,"screen","none",...B()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,ou,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Pe,H0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",W0,Te]}],"font-family":[{font:[tX,Te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pe,Te]}],"line-clamp":[{"line-clamp":[nt,"none",Pe,H0]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Pe,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",Pe,ko]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[nt,"auto",Pe,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sa,Pe,Te],radial:["",Pe,Te],conic:[Sa,Pe,Te]},rX,eX]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,Pe,Te]}],"outline-w":[{outline:["",nt,ou,ko]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",f,Nm,Sm]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",m,Nm,Sm]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[nt,ko]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",g,Nm,Sm]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[nt,Pe,Te]}],"mix-blend":[{"mix-blend":[...X(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":X()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Pe,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Te]}],filter:[{filter:["","none",Pe,Te]}],blur:[{blur:se()}],brightness:[{brightness:[nt,Pe,Te]}],contrast:[{contrast:[nt,Pe,Te]}],"drop-shadow":[{"drop-shadow":["","none",y,Nm,Sm]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",nt,Pe,Te]}],"hue-rotate":[{"hue-rotate":[nt,Pe,Te]}],invert:[{invert:["",nt,Pe,Te]}],saturate:[{saturate:[nt,Pe,Te]}],sepia:[{sepia:["",nt,Pe,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Te]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[nt,Pe,Te]}],"backdrop-contrast":[{"backdrop-contrast":[nt,Pe,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,Pe,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,Pe,Te]}],"backdrop-invert":[{"backdrop-invert":["",nt,Pe,Te]}],"backdrop-opacity":[{"backdrop-opacity":[nt,Pe,Te]}],"backdrop-saturate":[{"backdrop-saturate":[nt,Pe,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,Pe,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",Pe,Te]}],ease:[{ease:["linear","initial",_,Pe,Te]}],delay:[{delay:[nt,Pe,Te]}],animate:[{animate:["none",N,Pe,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Pe,Te]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[Pe,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Te]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[nt,ou,ko,H0]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oX=zJ(aX);function _e(...e){return oX(XI(e))}const lX=Pj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-brand/30 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-brand text-white hover:bg-brand-hover",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"text-gray-700 hover:bg-gray-100 hover:text-gray-900",link:"text-brand underline-offset-4 hover:underline"},size:{default:"h-11 min-h-[44px] px-4 py-2 has-[>svg]:px-3",sm:"h-10 min-h-[40px] rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-12 min-h-[48px] rounded-md px-6 has-[>svg]:px-4",icon:"min-w-[44px] min-h-[44px] w-11 h-11 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),re=x.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},a)=>{const o=s?YI:"button";return r.jsx(o,{"data-slot":"button",ref:a,className:_e(lX({variant:t,size:n,className:e})),...i})});re.displayName="Button";var Nb=function(e,t){return Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Nb(e,t)};function lO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var os=function(){return os=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},os.apply(this,arguments)};function to(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function cO(e,t,n,s){var i=arguments.length,a=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,s);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function dO(e,t){return function(n,s){t(n,s,e)}}function uO(e,t,n,s,i,a){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var c=s.kind,d=c==="getter"?"get":c==="setter"?"set":"value",h=!t&&e?s.static?e:e.prototype:null,f=t||(h?Object.getOwnPropertyDescriptor(h,s.name):{}),m,g=!1,y=n.length-1;y>=0;y--){var b={};for(var j in s)b[j]=j==="access"?{}:s[j];for(var j in s.access)b.access[j]=s.access[j];b.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(_||null))};var S=(0,n[y])(c==="accessor"?{get:f.get,set:f.set}:f[d],b);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=o(S.get))&&(f.get=m),(m=o(S.set))&&(f.set=m),(m=o(S.init))&&i.unshift(m)}else(m=o(S))&&(c==="field"?i.unshift(m):f[d]=m)}h&&Object.defineProperty(h,s.name,f),g=!0}function hO(e,t,n){for(var s=arguments.length>2,i=0;i<t.length;i++)n=s?t[i].call(e,n):t[i].call(e);return s?n:void 0}function fO(e){return typeof e=="symbol"?e:"".concat(e)}function mO(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function pO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ie(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(f){try{h(s.next(f))}catch(m){o(m)}}function d(f){try{h(s.throw(f))}catch(m){o(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((s=s.apply(e,t||[])).next())})}function gO(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(f){return d([h,f])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(s=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(f){h=[6,f],i=0}finally{s=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Dg=Object.create?(function(e,t,n,s){s===void 0&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}):(function(e,t,n,s){s===void 0&&(s=n),e[s]=t[n]});function xO(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Dg(t,e,n)}function qp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Aj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a}function yO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Aj(arguments[t]));return e}function vO(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)s[i]=a[o];return s}function Ij(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}function zc(e){return this instanceof zc?(this.v=e,this):new zc(e)}function bO(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(b){return Promise.resolve(b).then(y,m)}}function c(y,b){s[y]&&(i[y]=function(j){return new Promise(function(S,_){a.push([y,j,S,_])>1||d(y,j)})},b&&(i[y]=b(i[y])))}function d(y,b){try{h(s[y](b))}catch(j){g(a[0][3],j)}}function h(y){y.value instanceof zc?Promise.resolve(y.value.v).then(f,m):g(a[0][2],y)}function f(y){d("next",y)}function m(y){d("throw",y)}function g(y,b){y(b),a.shift(),a.length&&d(a[0][0],a[0][1])}}function wO(e){var t,n;return t={},s("next"),s("throw",function(i){throw i}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:zc(e[i](o)),done:!1}:a?a(o):o}:a}}function jO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qp=="function"?qp(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=e[a]&&function(o){return new Promise(function(c,d){o=e[a](o),i(c,d,o.done,o.value)})}}function i(a,o,c,d){Promise.resolve(d).then(function(h){a({value:h,done:c})},o)}}function SO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var cX=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},_b=function(e){return _b=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},_b(e)};function NO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=_b(e),s=0;s<n.length;s++)n[s]!=="default"&&Dg(t,e,n[s]);return cX(t,e),t}function _O(e){return e&&e.__esModule?e:{default:e}}function kO(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)}function CO(e,t,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function EO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function TO(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],n&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:s,async:n})}else n&&e.stack.push({async:!0});return t}var dX=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var s=new Error(n);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function PO(e){function t(a){e.error=e.hasError?new dX(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,s=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&s===1)return s=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function RO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,i,a,o){return s?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const uX={__extends:lO,__assign:os,__rest:to,__decorate:cO,__param:dO,__esDecorate:uO,__runInitializers:hO,__propKey:fO,__setFunctionName:mO,__metadata:pO,__awaiter:Ie,__generator:gO,__createBinding:Dg,__exportStar:xO,__values:qp,__read:Aj,__spread:yO,__spreadArrays:vO,__spreadArray:Ij,__await:zc,__asyncGenerator:bO,__asyncDelegator:wO,__asyncValues:jO,__makeTemplateObject:SO,__importStar:NO,__importDefault:_O,__classPrivateFieldGet:kO,__classPrivateFieldSet:CO,__classPrivateFieldIn:EO,__addDisposableResource:TO,__disposeResources:PO,__rewriteRelativeImportExtension:RO},hX=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:TO,get __assign(){return os},__asyncDelegator:wO,__asyncGenerator:bO,__asyncValues:jO,__await:zc,__awaiter:Ie,__classPrivateFieldGet:kO,__classPrivateFieldIn:EO,__classPrivateFieldSet:CO,__createBinding:Dg,__decorate:cO,__disposeResources:PO,__esDecorate:uO,__exportStar:xO,__extends:lO,__generator:gO,__importDefault:_O,__importStar:NO,__makeTemplateObject:SO,__metadata:pO,__param:dO,__propKey:fO,__read:Aj,__rest:to,__rewriteRelativeImportExtension:RO,__runInitializers:hO,__setFunctionName:mO,__spread:yO,__spreadArray:Ij,__spreadArrays:vO,__values:qp,default:uX},Symbol.toStringTag,{value:"Module"})),fX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Oj extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class jE extends Oj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class SE extends Oj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NE extends Oj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kb||(kb={}));class mX{constructor(t,{headers:n={},customFetch:s,region:i=kb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=fX(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ie(this,arguments,void 0,function*(n,s={}){var i;try{const{headers:a,method:o,body:c,signal:d}=s;let h={},{region:f}=s;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(h["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(h["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:d}).catch(_=>{throw _.name==="AbortError"?_:new jE(_)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new SE(y);if(!y.ok)throw new NE(y);let j=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield y.json():j==="application/octet-stream"||j==="application/pdf"?S=yield y.blob():j==="text/event-stream"?S=y:j==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new jE(a)}:{data:null,error:a,response:a instanceof NE||a instanceof SE?a.context:void 0}}})}}var Vn={};const cd=tU(hX);var _m={},km={},Cm={},Em={},Tm={},Pm={},_E;function AO(){if(_E)return Pm;_E=1,Object.defineProperty(Pm,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Pm.default=e,Pm}var kE;function IO(){if(kE)return Tm;kE=1,Object.defineProperty(Tm,"__esModule",{value:!0});const t=cd.__importDefault(AO());class n{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,f,m,g;let y=null,b=null,j=null,S=d.status,_=d.statusText;if(d.ok){if(this.method!=="HEAD"){const M=await d.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=M:b=JSON.parse(M))}const C=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,S=406,_="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await d.text();try{y=JSON.parse(C),Array.isArray(y)&&d.status===404&&(b=[],y=null,S=200,_="OK")}catch{d.status===404&&C===""?(S=204,_="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,S=200,_="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:b,count:j,status:S,statusText:_}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,f,m;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(f=d?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return Tm.default=n,Tm}var CE;function OO(){if(CE)return Em;CE=1,Object.defineProperty(Em,"__esModule",{value:!0});const t=cd.__importDefault(IO());class n extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Em.default=n,Em}var EE;function Mj(){if(EE)return Cm;EE=1,Object.defineProperty(Cm,"__esModule",{value:!0});const t=cd.__importDefault(OO()),n=new RegExp("[,()]");class s extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}}return Cm.default=s,Cm}var TE;function MO(){if(TE)return km;TE=1,Object.defineProperty(km,"__esModule",{value:!0});const t=cd.__importDefault(Mj());class n{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},d=o?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return km.default=n,km}var PE;function pX(){if(PE)return _m;PE=1,Object.defineProperty(_m,"__esModule",{value:!0});const e=cd,t=e.__importDefault(MO()),n=e.__importDefault(Mj());class s{constructor(a,{headers:o={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=d}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:d=!1,count:h}={}){var f;let m;const g=new URL(`${this.url}/rpc/${a}`);let y;c||d?(m=c?"HEAD":"GET",Object.entries(o).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{g.searchParams.append(j,S)})):(m="POST",y=o);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new n.default({method:m,url:g,headers:b,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return _m.default=s,_m}var RE;function gX(){if(RE)return Vn;RE=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const e=cd,t=e.__importDefault(pX());Vn.PostgrestClient=t.default;const n=e.__importDefault(MO());Vn.PostgrestQueryBuilder=n.default;const s=e.__importDefault(Mj());Vn.PostgrestFilterBuilder=s.default;const i=e.__importDefault(OO());Vn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(IO());Vn.PostgrestBuilder=a.default;const o=e.__importDefault(AO());return Vn.PostgrestError=o.default,Vn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Vn}var DO=gX();const LO=xg(DO),xX=HP({__proto__:null,default:LO},[DO]),{PostgrestClient:yX,PostgrestQueryBuilder:G0e,PostgrestFilterBuilder:K0e,PostgrestTransformBuilder:Y0e,PostgrestBuilder:J0e,PostgrestError:X0e}=LO||xX;class vX{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bX="2.80.0",wX=`realtime-js/${bX}`,jX="1.0.0",Cb=1e4,SX=1e3,NX=100;var Nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nu||(Nu={}));var xn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xn||(xn={}));var Ms;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ms||(Ms={}));var Eb;(function(e){e.websocket="websocket"})(Eb||(Eb={}));var Oo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Oo||(Oo={}));class _X{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=s.decode(t.slice(o,o+i));o=o+i;const d=s.decode(t.slice(o,o+a));o=o+a;const h=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class $O{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const AE=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=kX(o,e,t,i),a),{}):{}},kX=(e,t,n,s)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!s.includes(a)?FO(a,o):Tb(o)},FO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return PX(t,n)}switch(e){case Rt.bool:return CX(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return EX(t);case Rt.json:case Rt.jsonb:return TX(t);case Rt.timestamp:return RX(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return Tb(t);default:return Tb(t)}},Tb=e=>e,CX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},TX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PX=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>FO(t,c))}return e},RX=e=>typeof e=="string"?e.replace(" ","T"):e,UO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class q0{constructor(t,n,s={},i=Cb){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var IE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(IE||(IE={}));class _u{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_u.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=_u.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_u.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},d={};return this.map(a,(h,f)=>{o[h]||(d[h]=f)}),this.map(o,(h,f)=>{const m=a[h];if(m){const g=f.map(S=>S.presence_ref),y=m.map(S=>S.presence_ref),b=f.filter(S=>y.indexOf(S.presence_ref)<0),j=m.filter(S=>g.indexOf(S.presence_ref)<0);b.length>0&&(c[h]=b),j.length>0&&(d[h]=j)}else c[h]=f}),this.syncDiff(a,{joins:c,leaves:d},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var h;const f=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),f.length>0){const m=t[c].map(y=>y.presence_ref),g=f.filter(y=>m.indexOf(y.presence_ref)<0);t[c].unshift(...g)}s(c,f,d)}),this.map(o,(c,d)=>{let h=t[c];if(!h)return;const f=d.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),t[c]=h,i(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OE||(OE={}));var ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ku||(ku={}));var Ii;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ii||(Ii={}));class Dj{constructor(t,n={config:{}},s){var i,a;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new q0(this,Ms.join,this.params,this.timeout),this.rejoinTimer=new $O(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ms.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new _u(this),this.broadcastEndpointURL=UO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==xn.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,h=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[ku.PRESENCE]&&this.bindings[ku.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(Ii.CHANNEL_ERROR,y)),this._onClose(()=>t?.(Ii.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){t?.(Ii.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(b=j?.length)!==null&&b!==void 0?b:0,_=[];for(let N=0;N<S;N++){const C=j[N],{filter:{event:T,schema:M,table:P,filter:E}}=C,R=y&&y[N];if(R&&R.event===T&&R.schema===M&&R.table===P&&R.filter===E)_.push(Object.assign(Object.assign({},C),{id:R.id}));else{this.unsubscribe(),this.state=xn.errored,t?.(Ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Ii.SUBSCRIBED);return}}).receive("error",y=>{this.state=xn.errored,t?.(Ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===xn.joined&&t===ku.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ms.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new q0(this,Ms.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xn.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new q0(this,t,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NX){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:f}=Ms;if(s&&[c,d,h,f].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,j,S;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(j=y.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(g,s)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var b,j,S,_,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const T=y.id,M=(b=y.filter)===null||b===void 0?void 0:b.event;return T&&((j=n.ids)===null||j===void 0?void 0:j.includes(T))&&(M==="*"||M?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const T=(N=(_=y?.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return T==="*"||T===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:j,table:S,commit_timestamp:_,type:N,errors:C}=b;g=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:_,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(b))}y.callback(g,s)})}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Dj.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ms.close,{},t)}_onError(t){this._on(Ms.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=AE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=AE(t.columns,t.old_record)),n}}const G0=()=>{},Rm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AX=[1e3,2e3,5e3,1e4],IX=1e4,OX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MX{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cb,this.transport=null,this.heartbeatIntervalMs=Rm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=G0,this.ref=0,this.reconnectTimer=null,this.logger=G0,this.conn=null,this.sendBuffer=[],this.serializer=new _X,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Eb.websocket}`,this.httpEndpoint=UO(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jX}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Nu.connecting:return Oo.Connecting;case Nu.open:return Oo.Open;case Nu.closing:return Oo.Closing;default:return Oo.Closed}}isConnected(){return this.connectionState()===Oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new Dj(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SX,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${s} ${i} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ms.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([OX],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:wX};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ms.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new $O(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,i,a,o,c,d,h,f;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Cb,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rm.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:G0,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>AX[m-1]||IX),this.encode=(h=t?.encode)!==null&&h!==void 0?h:((m,g)=>g(JSON.stringify(m))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Lj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DX extends Lj{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pb extends Lj{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const $j=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LX=()=>Response,Rb=e=>{if(Array.isArray(e))return e.map(n=>Rb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Rb(s)}),t},$X=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},K0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FX=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){const s=yield LX();e instanceof s&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new DX(K0(i),a,o))}).catch(i=>{t(new Pb(K0(i),i))}):t(new Pb(K0(e),e))}),UX=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:($X(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ah(e,t,n,s,i,a){return Ie(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,UX(t,s,i,a)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>FX(d,c,s))})})}function Xu(e,t,n,s){return Ie(this,void 0,void 0,function*(){return Ah(e,"GET",t,n,s)})}function As(e,t,n,s,i){return Ie(this,void 0,void 0,function*(){return Ah(e,"POST",t,s,i,n)})}function Ab(e,t,n,s,i){return Ie(this,void 0,void 0,function*(){return Ah(e,"PUT",t,s,i,n)})}function zX(e,t,n,s){return Ie(this,void 0,void 0,function*(){return Ah(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Fj(e,t,n,s,i){return Ie(this,void 0,void 0,function*(){return Ah(e,"DELETE",t,s,i,n)})}class BX{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}}var zO;class VX{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[zO]="BlobDownloadBuilder",this.promise=null}asStream(){return new BX(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}}zO=Symbol.toStringTag;const WX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ME={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HX{constructor(t,n={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=$j(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,i){return Ie(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ME),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=s,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=yield(t=="PUT"?Ab:As)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(zt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:ME.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",h.cacheControl)):(d=s,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const m=yield Ab(this.fetch,c.toString(),d,{headers:f});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(zt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield As(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Lj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ie(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield As(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ie(this,void 0,void 0,function*(){try{const i=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>Xu(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new VX(d,this.shouldThrowOnError)}info(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Xu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rb(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}exists(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield zX(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s)&&s instanceof Pb){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Fj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ie(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},WX),n),{prefix:t||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield As(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const BO="2.80.0",VO={"X-Client-Info":`storage-js/${BO}`};class qX{constructor(t,n={},s,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VO),n),this.fetch=$j(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Xu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}createBucket(t){return Ie(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Fj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class GX{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VO),n),this.fetch=$j(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ie(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Fj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zt(n))return{data:null,error:n};throw n}})}}const Uj={"X-Client-Info":`storage-js/${BO}`,"Content-Type":"application/json"};class WO extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ur(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Y0 extends WO{constructor(t,n,s){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KX extends WO{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var DE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(DE||(DE={}));const zj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},LE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JX=(e,t,n)=>Ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new Y0(LE(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new Y0(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new Y0(c,i,o))}}else t(new KX(LE(e),e))}),XX=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return s?(YX(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,Object.assign(Object.assign({},i),n)):i};function QX(e,t,n,s,i,a){return Ie(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,XX(t,s,i,a)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>JX(d,c,s))})})}function zr(e,t,n,s,i){return Ie(this,void 0,void 0,function*(){return QX(e,"POST",t,s,i,n)})}class ZX{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uj),n),this.fetch=zj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield zr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ur(s))return{data:null,error:s};throw s}})}listIndexes(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ie(this,void 0,void 0,function*(){try{return{data:(yield zr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ur(s))return{data:null,error:s};throw s}})}}class eQ{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uj),n),this.fetch=zj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}getVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}listVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield zr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}}class tQ{constructor(t,n={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uj),n),this.fetch=zj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield zr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}getBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}listBuckets(){return Ie(this,arguments,void 0,function*(t={}){try{return{data:yield zr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ie(this,void 0,void 0,function*(){try{return{data:(yield zr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}}class nQ extends tQ{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new rQ(this.url,this.headers,t,this.fetch)}}class rQ extends ZX{constructor(t,n,s,i){super(t,n,i),this.vectorBucketName=s}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ie(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ie(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ie(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ie(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new sQ(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class sQ extends eQ{constructor(t,n,s,i,a){super(t,n,a),this.vectorBucketName=s,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ie(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ie(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ie(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ie(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ie(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class iQ extends qX{constructor(t,n={},s,i){super(t,n,s,i)}from(t){return new HX(this.url,this.headers,t,this.fetch)}get vectors(){return new nQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GX(this.url+"/iceberg",this.headers,this.fetch)}}const aQ="2.80.0";let pu="";typeof Deno<"u"?pu="deno":typeof document<"u"?pu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pu="react-native":pu="node";const oQ={"X-Client-Info":`supabase-js-${pu}/${aQ}`},lQ={headers:oQ},cQ={schema:"public"},dQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uQ={},hQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fQ=()=>Headers,mQ=(e,t,n)=>{const s=hQ(n),i=fQ();return async(a,o)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(a,Object.assign(Object.assign({},o),{headers:h}))}};function pQ(e){return e.endsWith("/")?e:e+"/"}function gQ(e,t){var n,s;const{db:i,auth:a,realtime:o,global:c}=e,{db:d,auth:h,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function xQ(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pQ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const HO="2.80.0",ac=30*1e3,Ib=3,J0=Ib*ac,yQ="http://localhost:9999",vQ="supabase.auth.token",bQ={"X-Client-Info":`gotrue-js/${HO}`},Ob="X-Supabase-Api-Version",qO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jQ=600*1e3;class Qu extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class SQ extends Qu{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function NQ(e){return De(e)&&e.name==="AuthApiError"}class Mo extends Qu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class no extends Qu{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class Es extends no{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _Q(e){return De(e)&&e.name==="AuthSessionMissingError"}class Kl extends no{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Am extends no{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Im extends no{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kQ(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class $E extends no{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mb extends no{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function X0(e){return De(e)&&e.name==="AuthRetryableFetchError"}class FE extends no{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Db extends no{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UE=` 	
\r=`.split(""),CQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UE.length;t+=1)e[UE[t].charCodeAt(0)]=-2;for(let t=0;t<Gp.length;t+=1)e[Gp[t].charCodeAt(0)]=t;return e})();function zE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Gp[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Gp[s]),t.queuedBits-=6}}function GO(e,t,n){const s=CQ[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{PQ(o,s,n)};for(let o=0;o<e.length;o+=1)GO(e.charCodeAt(o),i,a);return t.join("")}function EQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TQ(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}EQ(s,t)}}function PQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Nc(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)GO(e.charCodeAt(i),n,s);return new Uint8Array(t)}function RQ(e){const t=[];return TQ(e,n=>t.push(n)),new Uint8Array(t)}function Fo(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>zE(i,n,s)),zE(null,n,s),t.join("")}function AQ(e){return Math.round(Date.now()/1e3)+e}function IQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wn=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},KO=()=>{if(!Wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function OQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const YO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Eo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Na=async(e,t)=>{await e.removeItem(t)};class Lg{constructor(){this.promise=new Lg.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lg.promiseConstructor=Promise;function Q0(e){const t=e.split(".");if(t.length!==3)throw new Db("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!wQ.test(t[s]))throw new Db("JWT not in base64url format");return{header:JSON.parse(BE(t[0])),payload:JSON.parse(BE(t[1])),signature:Nc(t[2]),raw:{header:t[0],payload:t[1]}}}async function DQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LQ(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function $Q(e){return("0"+e.toString(16)).substr(-2)}function FQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,$Q).join("")}async function UQ(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function zQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yl(e,t,n=!1){const s=FQ();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await oc(e,`${t}-code-verifier`,i);const a=await zQ(s);return[a,s===a?"plain":"s256"]}const BQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VQ(e){const t=e.headers.get(Ob);if(!t||!t.match(BQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jl(e){if(!qQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GQ(e,t){return new Proxy(e,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,s,i)}})}function VE(e){return JSON.parse(JSON.stringify(e))}const Ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KQ=[502,503,504];async function WE(e){var t;if(!MQ(e))throw new Mb(Ro(e),0);if(KQ.includes(e.status))throw new Mb(Ro(e),e.status);let n;try{n=await e.json()}catch(a){throw new Mo(Ro(a),a)}let s;const i=VQ(e);if(i&&i.getTime()>=qO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new FE(Ro(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new FE(Ro(n),e.status,n.weak_password.reasons);throw new SQ(Ro(n),e.status||500,s)}const YQ=(e,t,n,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Ve(e,t,n,s){var i;const a=Object.assign({},s?.headers);a[Ob]||(a[Ob]=qO["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await JQ(e,t,n+c,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function JQ(e,t,n,s,i,a){const o=YQ(t,s,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new Mb(Ro(d),0)}if(c.ok||await WE(c),s?.noResolveJson)return c;try{return await c.json()}catch(d){await WE(d)}}function Ts(e){var t;let n=null;ZQ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=AQ(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function HE(e){const t=Ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XQ(e){return{data:e,error:null}}function QQ(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,o=to(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function qE(e){return e}function ZQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const ev=["global","local","others"];class eZ{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=YO(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ev[0]){if(ev.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ev.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ta})}catch(s){if(De(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=to(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:QQ,redirectTo:n?.redirectTo})}catch(n){if(De(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},f=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qE});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(De(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Jl(t);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jl(t);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ta})}catch(s){if(De(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Jl(t);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ta})}catch(s){if(De(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Jl(t.userId);try{const{data:n,error:s}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jl(t.userId),Jl(t.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,i,a,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},f=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qE});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(De(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(De(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}}function GE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Xl={debug:!!(globalThis&&KO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tZ extends JO{}async function nZ(e,t,n){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function XO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sZ(e){return parseInt(e,16)}function iZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function aZ(e){var t;const{chainId:n,domain:s,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:d,resources:h,scheme:f,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=XO(e.address),b=f?`${f}://${s}`:s,j=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${y}

${j}`;let _=`URI: ${m}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),c&&(_+=`
Not Before: ${c.toISOString()}`),d&&(_+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}_+=N}return`${S}
${_}`}class cn extends Error{constructor({message:t,code:n,cause:s,name:i}){var a;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=i??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Kp extends cn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function oZ({error:e,options:t}){var n,s,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new cn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(QO(o)){if(a.rp.id!==o)return new cn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lZ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(QO(s)){if(n.rpId!==s)return new cn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cZ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dZ=new cZ;function uZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,i=to(e,["challenge","user","excludeCredentials"]),a=Nc(t).buffer,o=Object.assign(Object.assign({},n),{id:Nc(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const h=s[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Nc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function hZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=to(e,["challenge","allowCredentials"]),i=Nc(t).buffer,a=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Nc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function fZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fo(new Uint8Array(i.authenticatorData)),clientDataJSON:Fo(new Uint8Array(i.clientDataJSON)),signature:Fo(new Uint8Array(i.signature)),userHandle:i.userHandle?Fo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function KE(){var e,t;return!!(Wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:oZ({error:t,options:e})}}}async function gZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kp("Browser returned unexpected credential type",t)}:{data:null,error:new Kp("Empty credential response",t)}}catch(t){return{data:null,error:lZ({error:t,options:e})}}}const xZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yZ={userVerification:"preferred",hints:["security-key"]};function Yp(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))s[a]=o;else if(n(o))s[a]=o;else if(t(o)){const c=s[a];t(c)?s[a]=Yp(c,o):s[a]=Yp(o)}else s[a]=o}return s}function vZ(e,t){return Yp(xZ,e,t||{})}function bZ(e,t){return Yp(yZ,e,t||{})}class wZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const d=i??dZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=vZ(o.webauthn.credential_options.publicKey,a?.create),{data:f,error:m}=await pZ({publicKey:h,signal:d});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const h=bZ(o.webauthn.credential_options.publicKey,a?.request),{data:f,error:m}=await gZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Mo("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Qu("rpId is required for WebAuthn authentication")};try{if(!KE())return{data:null,error:new Mo("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:s,credential_response:d.credential_response}})}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Mo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Qu("rpId is required for WebAuthn registration")};try{if(!KE())return{data:null,error:new Mo("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Mo("Unexpected error in register",o)}}}}rZ();const jZ={url:yQ,storageKey:vQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function YE(e,t,n){return await n()}const Ql={};class Zu{get jwks(){var t,n;return(n=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{cachedAt:t})}constructor(t){var n,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},jZ),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Zu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Wn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new eZ({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=YO(a.fetch),this.lock=a.lock||YE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Wn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=nZ:this.lock=YE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:KO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=GE(this.memoryStorage)),Wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},s="none";if(Wn()&&(n=OQ(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Wn()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kQ(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return De(n)?this._returnResult({error:n}):this._returnResult({error:new Mo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ts}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Yl(this.storage,this.storageKey)),a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:Ts})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(s=g?.data)!==null&&s!==void 0?s:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ts})}else throw new Am("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HE})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HE})}else throw new Am("You must provide either an email or phone number and a password");const{data:s,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const a=new Kl;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(De(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,i,a,o,c,d,h,f,m,g;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:j,wallet:S,statement:_,options:N}=t;let C;if(Wn())if(typeof S=="object")C=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")C=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const T=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await C.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=XO(M[0]);let E=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!E){const q=await C.request({method:"eth_chainId"});E=sZ(q)}const R={domain:T.host,address:P,statement:_,uri:T.href,version:"1",chainId:E,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=aZ(R),b=await C.request({method:"personal_sign",params:[iZ(y),P]})}try{const{data:j,error:S}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ts});if(S)throw S;if(!j||!j.session||!j.user){const _=new Kl;return this._returnResult({data:{user:null,session:null},error:_})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:S})}catch(j){if(De(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,s,i,a,o,c,d,h,f,m,g,y;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:S,wallet:_,statement:N,options:C}=t;let T;if(Wn())if(typeof _=="object")T=_;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))T=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const M=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const P=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let E;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")E=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)E=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),j=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${M.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(f=C?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const P=await T.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=P}}try{const{data:S,error:_}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fo(j)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ts});if(_)throw _;if(!S||!S.session||!S.user){const N=new Kl;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(De(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:o}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ts});if(await Na(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Kl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:o}=t,c=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ts}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const f=new Kl;return this._returnResult({data:{user:null,session:null},error:f})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(De(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,s,i,a,o;try{if("email"in t){const{email:c,options:d}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Yl(this.storage,this.storageKey));const{error:m}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:f}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:f})}throw new Am("You must provide either an email or phone number.")}catch(c){if(De(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:c}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ts});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Yl(this.storage,this.storageKey));const c=await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:XQ});return this._returnResult(c)}catch(a){if(De(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Es;const{error:i}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:o}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:o,error:c}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Am("You must provide either an email or phone number and a type")}catch(n){if(De(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<J0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Eo(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Z0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=GQ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async n=>{var s,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ta})})}catch(n){if(De(n))return _Q(n)&&(await this._removeSession(),await Na(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new Es;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Yl(this.storage,this.storageKey));const{data:h,error:f}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:Ta});if(f)throw f;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(De(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Es;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:o}=Q0(t.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Es;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(De(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Wn())throw new Im("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Im(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $E("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Im("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $E("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:d,token_type:h}=t;if(!a||!c||!o||!h)throw new Im("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(c);let g=f+m;d&&(g=parseInt(d));const y=g-f;y*1e3<=ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const b=g-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:j,error:S}=await this._getUser(a);if(S)throw S;const _={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:h,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(s){if(De(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(NQ(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Na(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=IQ(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Yl(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(De(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var o,c,d,h,f;const{data:m,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Wn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:t.provider,url:s?.url},error:null})}catch(s){if(De(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:d,access_token:h,nonce:f}=t,m=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ts}),{data:g,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Kl}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)throw o;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await LQ(async i=>(i>0&&await DQ(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ts})),(i,a)=>{const o=200*Math.pow(2,i);return a&&X0(a)&&Date.now()+o-s<ac})}catch(s){if(this._debug(n,"error",s),De(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Wn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Eo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await oc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Z0()}else if(i&&!i.user&&!i.user){const o=await Eo(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Na(this.storage,this.storageKey+"-user"),await oc(this.storage,this.storageKey,i)):i.user=Z0()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<J0;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${J0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),X0(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lg;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Es;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),De(a)){const o={data:null,error:a};return X0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await oc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=VE(i);await oc(this.storage,this.storageKey,a)}else{const i=VE(n);await oc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Na(this.storage,this.storageKey),await Na(this.storage,this.storageKey+"-code-verifier"),await Na(this.storage,this.storageKey+"-user"),this.userStorage&&await Na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ac}ms, refresh threshold is ${Ib} ticks`),i<=Ib&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof JO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Yl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fZ(t.webauthn.credential_response):mZ(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:uZ(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hZ(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Q0(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Es})})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Es});const o=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Wn()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(De(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Es});const o=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Wn()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(De(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(c=>c.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(c=>c.kid===t),s&&this.jwks_cached_at+jQ>i)return s;const{data:a,error:o}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(c=>c.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});s=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:d}}=Q0(s);n?.allowExpired||WQ(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const f=HQ(i.alg),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,RQ(`${c}.${d}`)))throw new Db("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(s){if(De(s))return this._returnResult({data:null,error:s});throw s}}}Zu.nextInstanceID={};const SZ=Zu;class NZ extends SZ{constructor(t){super(t)}}class _Z{constructor(t,n,s){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const c=xQ(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:cQ,realtime:uQ,auth:Object.assign(Object.assign({},dQ),{storageKey:d}),global:lQ},f=gQ(s??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=mQ(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new yX(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new iQ(this.storageUrl.href,this.headers,this.fetch,s?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new mX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:o,flowType:c,lock:d,debug:h,throwOnError:f},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:a,flowType:c,lock:d,debug:h,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new MX(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kZ=(e,t,n)=>new _Z(e,t,n);function CZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}CZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EZ="cdfllxxtgguyveowmdis",TZ=`https://${EZ}.supabase.co`,PZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.XXXX.XXXX";function RZ(e){return e.replace(/\/+$/,"")}const ZO=RZ(TZ),AZ=new URL(ZO).hostname,e5=AZ.split(".")[0],t5=ZO,Nt=PZ,Fe=kZ(t5,Nt,{auth:{persistSession:!0,detectSessionInUrl:!0,autoRefreshToken:!0}}),JE="tabsy_auth_users",XE="tabsy_auth_flows",IZ=600*1e3;class OZ{users=new Map;flows=new Map;initialized=!1;constructor(){this.loadFromLocalStorage()}loadFromLocalStorage(){if(!(this.initialized||typeof window>"u"))try{const t=localStorage.getItem(JE),n=localStorage.getItem(XE);if(t){const s=JSON.parse(t);this.users=new Map(Object.entries(s))}if(n){const s=JSON.parse(n);this.flows=new Map(Object.entries(s))}this.initialized=!0}catch(t){console.error("Error loading auth data from localStorage:",t)}}saveToLocalStorage(){if(!(typeof window>"u"))try{localStorage.setItem(JE,JSON.stringify(Object.fromEntries(this.users))),localStorage.setItem(XE,JSON.stringify(Object.fromEntries(this.flows)))}catch(t){console.error("Error saving auth data to localStorage:",t)}}findUserByEmailOrPhone(t,n){for(const s of this.users.values())if(t&&s.email===t||n&&s.phone===n)return s}getUser(t){return this.users.get(t)}createUser(t){const n=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:n,createdAt:new Date().toISOString(),...t};return this.users.set(n,s),this.saveToLocalStorage(),s}upsertUser(t){this.users.set(t.id,t),this.saveToLocalStorage()}updateUser(t,n){const s=this.users.get(t);if(!s)return;const i={...s,...n};return this.users.set(t,i),this.saveToLocalStorage(),i}createFlow(t,n){const s=`flow_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=new Date(Date.now()+IZ).toISOString(),a={id:s,method:t,identifier:n,expiresAt:i};return this.flows.set(s,a),this.saveToLocalStorage(),a}getFlow(t){return this.flows.get(t)}updateFlow(t,n){const s=this.flows.get(t);if(!s)return;const i={...s,...n};return this.flows.set(t,i),this.saveToLocalStorage(),i}deleteFlow(t){this.flows.delete(t),this.saveToLocalStorage()}}const Ki=new OZ,MZ="market-server",qr=`${t5}/functions/v1/${MZ}`;function DZ(e=""){return e?`${qr}${e.startsWith("/")?e:`/${e}`}`:qr}function LZ(e){const t=e.email?.trim(),n=e.phone?.trim();return{email:t?.length?t:void 0,phone:n?.length?n:void 0}}async function Ih(e){const t=LZ(e);if(!t.email&&!t.phone)return null;const n=await fetch(`${qr}/loyalty/profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt}`,apikey:Nt},body:JSON.stringify(t)}),s=await n.text(),i=s?JSON.parse(s):null;if(!n.ok){const a=i?.error||`Failed to fetch loyalty profile (${n.status})`;throw new Error(a)}return i}const QE="tabsy_loyalty_profiles",ZE="tabsy_loyalty_events",e2="tabsy_loyalty_referrals";class $Z{profiles=new Map;events=new Map;referrals=new Map;initialized=!1;constructor(){this.loadFromLocalStorage()}loadFromLocalStorage(){if(!(this.initialized||typeof window>"u"))try{const t=localStorage.getItem(QE),n=localStorage.getItem(ZE),s=localStorage.getItem(e2);if(t){const i=JSON.parse(t);this.profiles=new Map(Object.entries(i))}if(n){const i=JSON.parse(n);this.events=new Map(Object.entries(i))}if(s){const i=JSON.parse(s);this.referrals=new Map(Object.entries(i))}this.initialized=!0}catch(t){console.error("Error loading loyalty data from localStorage:",t)}}saveToLocalStorage(){if(!(typeof window>"u"))try{localStorage.setItem(QE,JSON.stringify(Object.fromEntries(this.profiles))),localStorage.setItem(ZE,JSON.stringify(Object.fromEntries(this.events))),localStorage.setItem(e2,JSON.stringify(Object.fromEntries(this.referrals)))}catch(t){console.error("Error saving loyalty data to localStorage:",t)}}getProfile(t){return this.profiles.get(t)}findProfileByEmailOrPhone(t,n){for(const s of this.profiles.values())if(t&&s.email===t||n&&s.phone===n)return s}createProfile(t){const n=`profile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:n,stars:0,createdAt:new Date().toISOString(),firstOrderCompleted:!1,...t},i=t.email||t.phone||n;return this.profiles.set(i,s),this.saveToLocalStorage(),s}updateProfile(t,n){const s=this.profiles.get(t);if(!s)throw new Error("Profile not found");const i={...s,...n};return this.profiles.set(t,i),this.saveToLocalStorage(),i}createEvent(t){const n=`event_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:n,createdAt:new Date().toISOString(),...t};return this.events.set(n,s),this.saveToLocalStorage(),s}getEventsByProfile(t){return Array.from(this.events.values()).filter(n=>n.profileId===t).sort((n,s)=>new Date(s.createdAt).getTime()-new Date(n.createdAt).getTime())}createReferral(t){const n=`REF${Math.random().toString(36).substr(2,8).toUpperCase()}`,s={code:n,inviterProfileId:t,createdAt:new Date().toISOString(),clicks:0,conversions:0,firstOrderCredited:!1};return this.referrals.set(n,s),this.saveToLocalStorage(),s}getReferral(t){return this.referrals.get(t)}incrementReferralClicks(t){const n=this.referrals.get(t);n&&(n.clicks+=1,this.referrals.set(t,n),this.saveToLocalStorage())}creditReferral(t){const n=this.referrals.get(t);n&&(n.conversions+=1,n.firstOrderCredited=!0,this.referrals.set(t,n),this.saveToLocalStorage())}getStats(){const t=Date.now(),n=t-10080*60*1e3,s=t-720*60*60*1e3,i=Array.from(this.events.values()).filter(o=>new Date(o.createdAt).getTime()>n).reduce((o,c)=>o+c.stars,0),a=Array.from(this.referrals.values()).filter(o=>new Date(o.createdAt).getTime()>s).reduce((o,c)=>o+c.conversions,0);return{totalMembers:this.profiles.size,starsIssued7d:i,referralConversions30d:a,activeMembers:Array.from(this.profiles.values()).filter(o=>o.stars>0).length}}getAllProfiles(){return Array.from(this.profiles.values()).sort((t,n)=>n.stars-t.stars)}}const Wa=new $Z,ai=10,mi=500,Gr=300,Lb="tabsy_ref_code",FZ=7;function n5(e,t=ai){return Math.max(0,Math.round(e/100*t))}function Oh(e){return typeof window>"u"?"":`${window.location.origin}?ref=${e}&utm_source=tabsy_ref`}function r5(e){if(!(typeof window>"u"))try{localStorage.setItem(Lb,e);const t=new Date;t.setDate(t.getDate()+FZ),document.cookie=`${Lb}=${e}; expires=${t.toUTCString()}; path=/`}catch(t){console.error("Error storing referral code:",t)}}function s5(){if(typeof window>"u")return null;try{return localStorage.getItem(Lb)}catch(e){return console.error("Error reading referral code:",e),null}}function Mh(e,t,n){let s=Wa.findProfileByEmailOrPhone(e,t);if(!s&&(e||t)){const i=s5();s=Wa.createProfile({email:e,phone:t,name:n,referredBy:i||void 0})}if(!s)throw new Error("Could not create profile without email or phone");return s}function Bj(e,t){const n=Mh(e,t),i=Array.from(Wa.referrals.values()).find(o=>o.inviterProfileId===n.id);return i?i.code:Wa.createReferral(n.id).code}function UZ(e){Wa.incrementReferralClicks(e),r5(e)}function Vj(e,t){const n=Oh(e),s=`I'm treating you! Use my link to order from ${t}. You'll get +${Gr}  on your first order: ${n}`;return`sms:?body=${encodeURIComponent(s)}`}function Wj(e,t){const n=Oh(e),s=`I'm treating you! Use my link to order from ${t}. You'll get +${Gr}  on your first order: ${n}`;return`https://wa.me/?text=${encodeURIComponent(s)}`}const zZ=Object.freeze(Object.defineProperty({__proto__:null,EARN_RATE:ai,REFERRAL_FRIEND_BONUS:Gr,REFERRAL_INVITER_BONUS:mi,buildReferralLink:Oh,calcStars:n5,generateSMSShareLink:Vj,generateWhatsAppShareLink:Wj,getOrCreateProfile:Mh,getOrCreateReferralLink:Bj,getStoredAttribution:s5,rememberAttribution:r5,trackReferralClick:UZ},Symbol.toStringTag,{value:"Module"})),BZ=600*1e3;function Hj(e){return{id:e.id,email:e.email??void 0,phone:e.phone??void 0,name:e.user_metadata?.full_name??e.email?.split("@")[0]??"Guest",createdAt:e.created_at??new Date().toISOString()}}async function qj(e){if(e.email)try{await Fe.rpc("claim_orphan_email",{p_email:e.email})}catch(t){console.warn("Failed to claim orphan email",t)}if(e.phone)try{await Fe.rpc("claim_phone_number",{p_phone:e.phone})}catch(t){console.warn("Failed to claim phone",t)}try{const t=(e.name||"").split(" "),n=t[0]||"",s=t.slice(1).join(" ")||"",{error:i}=await Fe.from("customers").upsert({auth_user_id:e.id,email:e.email,phone:e.phone,first_name:n,last_name:s,updated_at:new Date().toISOString()},{onConflict:"auth_user_id",ignoreDuplicates:!1});i&&console.warn("Failed to upsert customer record",i)}catch(t){console.warn("Error in ensureSupabaseCustomer",t)}}function i5(e,t={}){const n=Ki.getFlow(e);if(!n)throw new Error("Invalid verification flow. Please start again.");const s=new Date(n.expiresAt)<new Date;if(s&&!t.allowExpired)throw new Error("Verification flow expired. Please start again.");return{flow:n,expired:s}}async function VZ(e){if(!e.email&&!e.phone)throw new Error("Email or phone is required");const t=e.email?"email":"sms",n=(e.email||e.phone||"").trim();let s=n;if(t==="email"){const{error:a}=await Fe.auth.signInWithOtp({email:s,options:{shouldCreateUser:!0}});if(a)throw new Error(a.message||"Unable to send verification code")}else{const{toE164PhoneNumber:a}=await Ag(async()=>{const{toE164PhoneNumber:d}=await Promise.resolve().then(()=>HS);return{toE164PhoneNumber:d}},void 0),o=a(n);if(!o)throw new Error("Invalid phone number format");s=o;const{error:c}=await Fe.auth.signInWithOtp({phone:o,options:{shouldCreateUser:!0,channel:"sms"}});if(c)throw new Error(c.message||"Unable to send verification code")}const i=Ki.createFlow(t,s);return{method:t,codeSent:!0,flowId:i.id}}async function a5(e){const{flow:t}=i5(e.flowId),n=t.method==="email";let s=null;if(!n){const{toE164PhoneNumber:d}=await Ag(async()=>{const{toE164PhoneNumber:h}=await Promise.resolve().then(()=>HS);return{toE164PhoneNumber:h}},void 0);if(s=d(t.identifier),!s)throw new Error("Invalid phone number. Please start again.")}const i=n?{type:"email",email:t.identifier,token:e.code}:{type:"sms",phone:s,token:e.code},{data:a,error:o}=await Fe.auth.verifyOtp(i);if(o||!a?.session||!a.user)throw new Error(o?.message||"Invalid or expired code");const c=Hj(a.user);Ki.upsertUser(c),await qj(c);try{Mh(c.email,c.phone,c.name)}catch(d){console.warn("Unable to upsert loyalty profile for user",d)}return Ki.deleteFlow(t.id),{success:!0,token:a.session.access_token,user:c}}async function WZ(){const{data:e,error:t}=await Fe.auth.getSession();if(t)return console.error("Failed to load session",t),null;const n=e?.session;if(!n?.user)return null;const s=Hj(n.user);Ki.upsertUser(s),qj(s).catch(a=>console.warn("Background sync failed",a));let i=0;try{const a=await Ih({email:s.email,phone:s.phone});a?.profile?.stars!=null&&(i=a.profile.stars)}catch(a){console.warn("Unable to load loyalty profile from Supabase",a);try{i=(Wa.findProfileByEmailOrPhone(s.email,s.phone)||Mh(s.email,s.phone,s.name))?.stars||0}catch(o){console.warn("Fallback loyalty profile load failed",o)}}return{user:s,loyaltyBalance:i}}async function HZ(){const{error:e}=await Fe.auth.signOut();if(e)throw new Error(e.message)}async function o5(e){const{flow:t}=i5(e,{allowExpired:!0}),n=new Date(Date.now()+BZ).toISOString();if(t.method==="email"){const{error:s}=await Fe.auth.signInWithOtp({email:t.identifier,options:{shouldCreateUser:!0}});if(s)throw new Error(s.message||"Failed to resend code")}else{const{toE164PhoneNumber:s}=await Ag(async()=>{const{toE164PhoneNumber:o}=await Promise.resolve().then(()=>HS);return{toE164PhoneNumber:o}},void 0),i=s(t.identifier);if(!i)throw new Error("Invalid phone number format. Please start again.");const{error:a}=await Fe.auth.signInWithOtp({phone:i,options:{shouldCreateUser:!0,channel:"sms"}});if(a)throw new Error(a.message||"Failed to resend code");Ki.updateFlow(e,{identifier:i,expiresAt:n});return}Ki.updateFlow(e,{expiresAt:n})}async function qZ(e){const{data:{user:t},error:n}=await Fe.auth.updateUser({data:{full_name:e.name},phone:e.phone});if(n||!t)throw new Error(n?.message||"Failed to update profile");const s=Hj(t);return Ki.upsertUser(s),await qj(s),s}const Gj="tabsy-user";function GZ(){if(typeof window>"u")return null;try{const e=localStorage.getItem(Gj);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load guest user profile",e),null}}function Kj(e){if(!(typeof window>"u"))try{localStorage.setItem(Gj,JSON.stringify(e))}catch(t){console.error("Failed to persist guest user profile",t)}}function KZ(){if(!(typeof window>"u"))try{localStorage.removeItem(Gj)}catch(e){console.error("Failed to clear guest user profile",e)}}function l5(e,t){const n=e.contact,s=n.name||"Guest",i=n.email||void 0,a=n.phone||void 0,o=e.customerId||void 0;return{id:`guest-${i||a||o||e.id}`,name:s,email:i,phone:a,customerId:o,loyaltyBalance:t?.newBalance??0,createdAt:new Date().toISOString()}}function YZ(e){return{id:e.id,name:e.name,email:e.email,phone:e.phone,customerId:e.customerId,createdAt:e.createdAt}}const c5=x.createContext(void 0);function t2({children:e}){const[t,n]=x.useState(null),[s,i]=x.useState(0),[a,o]=x.useState(!0),c=async()=>{try{const f=await WZ();if(f){n(f.user),i(f.loyaltyBalance),o(!1);return}}catch(f){console.error("Failed to load user:",f)}if(typeof window<"u"){const f=GZ();if(f){let m=f.loyaltyBalance??0;if(f.email||f.phone)try{const g=await Ih({email:f.email,phone:f.phone});g?.profile?.stars!=null&&(m=g.profile.stars)}catch(g){console.warn("Failed to sync guest loyalty profile",g)}m!==f.loyaltyBalance&&Kj({...f,loyaltyBalance:m}),n(YZ(f)),i(m),o(!1);return}}n(null),i(0),o(!1)};x.useEffect(()=>{c()},[]);const d=async()=>{try{await HZ()}catch(f){console.warn("Supabase sign-out failed (continuing)",f)}KZ(),n(null),i(0)},h=async()=>{await c()};return r.jsx(c5.Provider,{value:{user:t,loyaltyBalance:s,loading:a,signOut:d,refreshUser:h},children:e})}function Yr(){const e=x.useContext(c5);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function JZ(e,t){const n=x.createContext(t),s=a=>{const{children:o,...c}=a,d=x.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:d,children:o})};s.displayName=e+"Provider";function i(a){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,i]}function Cn(e,t=[]){let n=[];function s(a,o){const c=x.createContext(o),d=n.length;n=[...n,o];const h=m=>{const{scope:g,children:y,...b}=m,j=g?.[e]?.[d]||c,S=x.useMemo(()=>b,Object.values(b));return r.jsx(j.Provider,{value:S,children:y})};h.displayName=a+"Provider";function f(m,g){const y=g?.[e]?.[d]||c,b=x.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>x.createContext(o));return function(c){const d=c?.[e]||a;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[s,XZ(i,...t)]}function XZ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var kn=globalThis?.document?x.useLayoutEffect:()=>{},QZ=Ej[" useInsertionEffect ".trim().toString()]||kn;function _r({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,a,o]=ZZ({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:i;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const h=x.useCallback(f=>{if(c){const m=eee(f)?f(e):f;m!==e&&o.current?.(m)}else a(f)},[c,e,a,o]);return[d,h]}function ZZ({defaultProp:e,onChange:t}){const[n,s]=x.useState(e),i=x.useRef(n),a=x.useRef(t);return QZ(()=>{a.current=t},[t]),x.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,s,a]}function eee(e){return typeof e=="function"}var Dh=NI();const d5=xg(Dh);function tee(e){const t=nee(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(see);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function nee(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=aee(i),c=iee(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ree=Symbol("radix.slottable");function see(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ree}function iee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function aee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=oee.reduce((e,t)=>{const n=tee(`Primitive.${t}`),s=x.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function u5(e,t){e&&Dh.flushSync(()=>e.dispatchEvent(t))}function n2(e){const t=lee(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(dee);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function lee(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=hee(i),c=uee(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cee=Symbol("radix.slottable");function dee(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cee}function uee(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function hee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $g(e){const t=e+"CollectionProvider",[n,s]=Cn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:S,children:_}=j,N=ce.useRef(null),C=ce.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:C,collectionRef:N,children:_})};o.displayName=t;const c=e+"CollectionSlot",d=n2(c),h=ce.forwardRef((j,S)=>{const{scope:_,children:N}=j,C=a(c,_),T=He(S,C.collectionRef);return r.jsx(d,{ref:T,children:N})});h.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",g=n2(f),y=ce.forwardRef((j,S)=>{const{scope:_,children:N,...C}=j,T=ce.useRef(null),M=He(S,T),P=a(f,_);return ce.useEffect(()=>(P.itemMap.set(T,{ref:T,...C}),()=>void P.itemMap.delete(T))),r.jsx(g,{[m]:"",ref:M,children:N})});y.displayName=f;function b(j){const S=a(e+"CollectionConsumer",j);return ce.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((P,E)=>C.indexOf(P.ref.current)-C.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},b,s]}var fee=x.createContext(void 0);function vl(e){const t=x.useContext(fee);return e||t||"ltr"}function An(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function mee(e,t=globalThis?.document){const n=An(e);x.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var pee="DismissableLayer",$b="dismissableLayer.update",gee="dismissableLayer.pointerDownOutside",xee="dismissableLayer.focusOutside",r2,h5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dd=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=e,h=x.useContext(h5),[f,m]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,y]=x.useState({}),b=He(t,E=>m(E)),j=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=j.indexOf(S),N=f?j.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,T=N>=_,M=bee(E=>{const R=E.target,q=[...h.branches].some(V=>V.contains(R));!T||q||(i?.(E),o?.(E),E.defaultPrevented||c?.())},g),P=wee(E=>{const R=E.target;[...h.branches].some(V=>V.contains(R))||(a?.(E),o?.(E),E.defaultPrevented||c?.())},g);return mee(E=>{N===h.layers.size-1&&(s?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},g),x.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(r2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),s2(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=r2)}},[f,g,n,h]),x.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),s2())},[f,h]),x.useEffect(()=>{const E=()=>y({});return document.addEventListener($b,E),()=>document.removeEventListener($b,E)},[]),r.jsx(ke.div,{...d,ref:b,style:{pointerEvents:C?T?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,M.onPointerDownCapture)})});dd.displayName=pee;var yee="DismissableLayerBranch",vee=x.forwardRef((e,t)=>{const n=x.useContext(h5),s=x.useRef(null),i=He(t,s);return x.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(ke.div,{...e,ref:i})});vee.displayName=yee;function bee(e,t=globalThis?.document){const n=An(e),s=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let d=function(){f5(gee,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function wee(e,t=globalThis?.document){const n=An(e),s=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!s.current&&f5(xee,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function s2(){const e=new CustomEvent($b);document.dispatchEvent(e)}function f5(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?u5(i,a):i.dispatchEvent(a)}var tv=0;function Fg(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i2()),document.body.insertAdjacentElement("beforeend",e[1]??i2()),tv++,()=>{tv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tv--}},[])}function i2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nv="focusScope.autoFocusOnMount",rv="focusScope.autoFocusOnUnmount",a2={bubbles:!1,cancelable:!0},jee="FocusScope",Lh=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[c,d]=x.useState(null),h=An(i),f=An(a),m=x.useRef(null),g=He(t,j=>d(j)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let j=function(C){if(y.paused||!c)return;const T=C.target;c.contains(T)?m.current=T:_a(m.current,{select:!0})},S=function(C){if(y.paused||!c)return;const T=C.relatedTarget;T!==null&&(c.contains(T)||_a(m.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const N=new MutationObserver(_);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),N.disconnect()}}},[s,c,y.paused]),x.useEffect(()=>{if(c){l2.add(y);const j=document.activeElement;if(!c.contains(j)){const _=new CustomEvent(nv,a2);c.addEventListener(nv,h),c.dispatchEvent(_),_.defaultPrevented||(See(Eee(m5(c)),{select:!0}),document.activeElement===j&&_a(c))}return()=>{c.removeEventListener(nv,h),setTimeout(()=>{const _=new CustomEvent(rv,a2);c.addEventListener(rv,f),c.dispatchEvent(_),_.defaultPrevented||_a(j??document.body,{select:!0}),c.removeEventListener(rv,f),l2.remove(y)},0)}}},[c,h,f,y]);const b=x.useCallback(j=>{if(!n&&!s||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,_=document.activeElement;if(S&&_){const N=j.currentTarget,[C,T]=Nee(N);C&&T?!j.shiftKey&&_===T?(j.preventDefault(),n&&_a(C,{select:!0})):j.shiftKey&&_===C&&(j.preventDefault(),n&&_a(T,{select:!0})):_===N&&j.preventDefault()}},[n,s,y.paused]);return r.jsx(ke.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Lh.displayName=jee;function See(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(_a(s,{select:t}),document.activeElement!==n)return}function Nee(e){const t=m5(e),n=o2(t,e),s=o2(t.reverse(),e);return[n,s]}function m5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function o2(e,t){for(const n of e)if(!_ee(n,{upTo:t}))return n}function _ee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kee(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kee(e)&&t&&e.select()}}var l2=Cee();function Cee(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=c2(e,t),e.unshift(t)},remove(t){e=c2(e,t),e[0]?.resume()}}}function c2(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Eee(e){return e.filter(t=>t.tagName!=="A")}var Tee=Ej[" useId ".trim().toString()]||(()=>{}),Pee=0;function hn(e){const[t,n]=x.useState(Tee());return kn(()=>{n(s=>s??String(Pee++))},[e]),t?`radix-${t}`:""}const Ree=["top","right","bottom","left"],Ha=Math.min,$r=Math.max,Jp=Math.round,Om=Math.floor,li=e=>({x:e,y:e}),Aee={left:"right",right:"left",bottom:"top",top:"bottom"},Iee={start:"end",end:"start"};function Fb(e,t,n){return $r(e,Ha(t,n))}function Yi(e,t){return typeof e=="function"?e(t):e}function Ji(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function Yj(e){return e==="x"?"y":"x"}function Jj(e){return e==="y"?"height":"width"}const Oee=new Set(["top","bottom"]);function oi(e){return Oee.has(Ji(e))?"y":"x"}function Xj(e){return Yj(oi(e))}function Mee(e,t,n){n===void 0&&(n=!1);const s=ud(e),i=Xj(e),a=Jj(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Xp(o)),[o,Xp(o)]}function Dee(e){const t=Xp(e);return[Ub(e),t,Ub(t)]}function Ub(e){return e.replace(/start|end/g,t=>Iee[t])}const d2=["left","right"],u2=["right","left"],Lee=["top","bottom"],$ee=["bottom","top"];function Fee(e,t,n){switch(e){case"top":case"bottom":return n?t?u2:d2:t?d2:u2;case"left":case"right":return t?Lee:$ee;default:return[]}}function Uee(e,t,n,s){const i=ud(e);let a=Fee(Ji(e),n==="start",s);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Ub)))),a}function Xp(e){return e.replace(/left|right|bottom|top/g,t=>Aee[t])}function zee(e){return{top:0,right:0,bottom:0,left:0,...e}}function p5(e){return typeof e!="number"?zee(e):{top:e,right:e,bottom:e,left:e}}function Qp(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function h2(e,t,n){let{reference:s,floating:i}=e;const a=oi(t),o=Xj(t),c=Jj(o),d=Ji(t),h=a==="y",f=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,g=s[c]/2-i[c]/2;let y;switch(d){case"top":y={x:f,y:s.y-i.height};break;case"bottom":y={x:f,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:m};break;case"left":y={x:s.x-i.width,y:m};break;default:y={x:s.x,y:s.y}}switch(ud(t)){case"start":y[o]-=g*(n&&h?-1:1);break;case"end":y[o]+=g*(n&&h?-1:1);break}return y}const Bee=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=h2(h,s,d),g=s,y={},b=0;for(let j=0;j<c.length;j++){const{name:S,fn:_}=c[j],{x:N,y:C,data:T,reset:M}=await _({x:f,y:m,initialPlacement:s,placement:g,strategy:i,middlewareData:y,rects:h,platform:o,elements:{reference:e,floating:t}});f=N??f,m=C??m,y={...y,[S]:{...y[S],...T}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(h=M.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:f,y:m}=h2(h,g,d)),j=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:y}};async function eh(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:o,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Yi(t,e),b=p5(y),S=c[g?m==="floating"?"reference":"floating":m],_=Qp(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),N=m==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),T=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},M=Qp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:C,strategy:d}):N);return{top:(_.top-M.top+b.top)/T.y,bottom:(M.bottom-_.bottom+b.bottom)/T.y,left:(_.left-M.left+b.left)/T.x,right:(M.right-_.right+b.right)/T.x}}const Vee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=t,{element:h,padding:f=0}=Yi(e,t)||{};if(h==null)return{};const m=p5(f),g={x:n,y:s},y=Xj(i),b=Jj(y),j=await o.getDimensions(h),S=y==="y",_=S?"top":"left",N=S?"bottom":"right",C=S?"clientHeight":"clientWidth",T=a.reference[b]+a.reference[y]-g[y]-a.floating[b],M=g[y]-a.reference[y],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let E=P?P[C]:0;(!E||!await(o.isElement==null?void 0:o.isElement(P)))&&(E=c.floating[C]||a.floating[b]);const R=T/2-M/2,q=E/2-j[b]/2-1,V=Ha(m[_],q),Q=Ha(m[N],q),G=V,A=E-j[b]-Q,J=E/2-j[b]/2+R,$=Fb(G,J,A),F=!d.arrow&&ud(i)!=null&&J!==$&&a.reference[b]/2-(J<G?V:Q)-j[b]/2<0,B=F?J<G?J-G:J-A:0;return{[y]:g[y]+B,data:{[y]:$,centerOffset:J-$-B,...F&&{alignmentOffset:B}},reset:F}}}),Wee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...S}=Yi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const _=Ji(i),N=oi(c),C=Ji(c)===c,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),M=g||(C||!j?[Xp(c)]:Dee(c)),P=b!=="none";!g&&P&&M.push(...Uee(c,j,b,T));const E=[c,...M],R=await eh(t,S),q=[];let V=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&q.push(R[_]),m){const J=Mee(i,o,T);q.push(R[J[0]],R[J[1]])}if(V=[...V,{placement:i,overflows:q}],!q.every(J=>J<=0)){var Q,G;const J=(((Q=a.flip)==null?void 0:Q.index)||0)+1,$=E[J];if($&&(!(m==="alignment"?N!==oi($):!1)||V.every(O=>oi(O.placement)===N?O.overflows[0]>0:!0)))return{data:{index:J,overflows:V},reset:{placement:$}};let F=(G=V.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:G.placement;if(!F)switch(y){case"bestFit":{var A;const B=(A=V.filter(O=>{if(P){const Z=oi(O.placement);return Z===N||Z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(Z=>Z>0).reduce((Z,H)=>Z+H,0)]).sort((O,Z)=>O[1]-Z[1])[0])==null?void 0:A[0];B&&(F=B);break}case"initialPlacement":F=c;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function f2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function m2(e){return Ree.some(t=>e[t]>=0)}const Hee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Yi(e,t);switch(s){case"referenceHidden":{const a=await eh(t,{...i,elementContext:"reference"}),o=f2(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:m2(o)}}}case"escaped":{const a=await eh(t,{...i,altBoundary:!0}),o=f2(a,n.floating);return{data:{escapedOffsets:o,escaped:m2(o)}}}default:return{}}}}},g5=new Set(["left","top"]);async function qee(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Ji(n),c=ud(n),d=oi(n)==="y",h=g5.has(o)?-1:1,f=a&&d?-1:1,m=Yi(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(y=c==="end"?b*-1:b),d?{x:y*f,y:g*h}:{x:g*h,y:y*f}}const Gee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:o,middlewareData:c}=t,d=await qee(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},Kee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:S=>{let{x:_,y:N}=S;return{x:_,y:N}}},...d}=Yi(e,t),h={x:n,y:s},f=await eh(t,d),m=oi(Ji(i)),g=Yj(m);let y=h[g],b=h[m];if(a){const S=g==="y"?"top":"left",_=g==="y"?"bottom":"right",N=y+f[S],C=y-f[_];y=Fb(N,y,C)}if(o){const S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",N=b+f[S],C=b-f[_];b=Fb(N,b,C)}const j=c.fn({...t,[g]:y,[m]:b});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[g]:a,[m]:o}}}}}},Yee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Yi(e,t),f={x:n,y:s},m=oi(i),g=Yj(m);let y=f[g],b=f[m];const j=Yi(c,t),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(d){const C=g==="y"?"height":"width",T=a.reference[g]-a.floating[C]+S.mainAxis,M=a.reference[g]+a.reference[C]-S.mainAxis;y<T?y=T:y>M&&(y=M)}if(h){var _,N;const C=g==="y"?"width":"height",T=g5.has(Ji(i)),M=a.reference[m]-a.floating[C]+(T&&((_=o.offset)==null?void 0:_[m])||0)+(T?0:S.crossAxis),P=a.reference[m]+a.reference[C]+(T?0:((N=o.offset)==null?void 0:N[m])||0)-(T?S.crossAxis:0);b<M?b=M:b>P&&(b=P)}return{[g]:y,[m]:b}}}},Jee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:o,elements:c}=t,{apply:d=()=>{},...h}=Yi(e,t),f=await eh(t,h),m=Ji(i),g=ud(i),y=oi(i)==="y",{width:b,height:j}=a.floating;let S,_;m==="top"||m==="bottom"?(S=m,_=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=m,S=g==="end"?"top":"bottom");const N=j-f.top-f.bottom,C=b-f.left-f.right,T=Ha(j-f[S],N),M=Ha(b-f[_],C),P=!t.middlewareData.shift;let E=T,R=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=N),P&&!g){const V=$r(f.left,0),Q=$r(f.right,0),G=$r(f.top,0),A=$r(f.bottom,0);y?R=b-2*(V!==0||Q!==0?V+Q:$r(f.left,f.right)):E=j-2*(G!==0||A!==0?G+A:$r(f.top,f.bottom))}await d({...t,availableWidth:R,availableHeight:E});const q=await o.getDimensions(c.floating);return b!==q.width||j!==q.height?{reset:{rects:!0}}:{}}}};function Ug(){return typeof window<"u"}function hd(e){return x5(e)?(e.nodeName||"").toLowerCase():"#document"}function Vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xi(e){var t;return(t=(x5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function x5(e){return Ug()?e instanceof Node||e instanceof Vr(e).Node:!1}function Bs(e){return Ug()?e instanceof Element||e instanceof Vr(e).Element:!1}function pi(e){return Ug()?e instanceof HTMLElement||e instanceof Vr(e).HTMLElement:!1}function p2(e){return!Ug()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vr(e).ShadowRoot}const Xee=new Set(["inline","contents"]);function $h(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Vs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Xee.has(i)}const Qee=new Set(["table","td","th"]);function Zee(e){return Qee.has(hd(e))}const ete=[":popover-open",":modal"];function zg(e){return ete.some(t=>{try{return e.matches(t)}catch{return!1}})}const tte=["transform","translate","scale","rotate","perspective"],nte=["transform","translate","scale","rotate","perspective","filter"],rte=["paint","layout","strict","content"];function Qj(e){const t=Zj(),n=Bs(e)?Vs(e):e;return tte.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||nte.some(s=>(n.willChange||"").includes(s))||rte.some(s=>(n.contain||"").includes(s))}function ste(e){let t=qa(e);for(;pi(t)&&!Bc(t);){if(Qj(t))return t;if(zg(t))return null;t=qa(t)}return null}function Zj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ite=new Set(["html","body","#document"]);function Bc(e){return ite.has(hd(e))}function Vs(e){return Vr(e).getComputedStyle(e)}function Bg(e){return Bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(hd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p2(e)&&e.host||xi(e);return p2(t)?t.host:t}function y5(e){const t=qa(e);return Bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:pi(t)&&$h(t)?t:y5(t)}function th(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=y5(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),o=Vr(i);if(a){const c=zb(o);return t.concat(o,o.visualViewport||[],$h(i)?i:[],c&&n?th(c):[])}return t.concat(i,th(i,[],n))}function zb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v5(e){const t=Vs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=pi(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:s,c=Jp(n)!==a||Jp(s)!==o;return c&&(n=a,s=o),{width:n,height:s,$:c}}function e1(e){return Bs(e)?e:e.contextElement}function _c(e){const t=e1(e);if(!pi(t))return li(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=v5(t);let o=(a?Jp(n.width):n.width)/s,c=(a?Jp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const ate=li(0);function b5(e){const t=Vr(e);return!Zj()||!t.visualViewport?ate:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ote(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vr(e)?!1:t}function sl(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=e1(e);let o=li(1);t&&(s?Bs(s)&&(o=_c(s)):o=_c(e));const c=ote(a,n,s)?b5(a):li(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const g=Vr(a),y=s&&Bs(s)?Vr(s):s;let b=g,j=zb(b);for(;j&&s&&y!==b;){const S=_c(j),_=j.getBoundingClientRect(),N=Vs(j),C=_.left+(j.clientLeft+parseFloat(N.paddingLeft))*S.x,T=_.top+(j.clientTop+parseFloat(N.paddingTop))*S.y;d*=S.x,h*=S.y,f*=S.x,m*=S.y,d+=C,h+=T,b=Vr(j),j=zb(b)}}return Qp({width:f,height:m,x:d,y:h})}function Vg(e,t){const n=Bg(e).scrollLeft;return t?t.left+n:sl(xi(e)).left+n}function w5(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Vg(e,n),i=n.top+t.scrollTop;return{x:s,y:i}}function lte(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",o=xi(s),c=t?zg(t.floating):!1;if(s===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=li(1);const f=li(0),m=pi(s);if((m||!m&&!a)&&((hd(s)!=="body"||$h(o))&&(d=Bg(s)),pi(s))){const y=sl(s);h=_c(s),f.x=y.x+s.clientLeft,f.y=y.y+s.clientTop}const g=o&&!m&&!a?w5(o,d):li(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+f.x+g.x,y:n.y*h.y-d.scrollTop*h.y+f.y+g.y}}function cte(e){return Array.from(e.getClientRects())}function dte(e){const t=xi(e),n=Bg(e),s=e.ownerDocument.body,i=$r(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=$r(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Vg(e);const c=-n.scrollTop;return Vs(s).direction==="rtl"&&(o+=$r(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:c}}const g2=25;function ute(e,t){const n=Vr(e),s=xi(e),i=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const f=Zj();(!f||f&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Vg(s);if(h<=0){const f=s.ownerDocument,m=f.body,g=getComputedStyle(m),y=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(s.clientWidth-m.clientWidth-y);b<=g2&&(a-=b)}else h<=g2&&(a+=h);return{width:a,height:o,x:c,y:d}}const hte=new Set(["absolute","fixed"]);function fte(e,t){const n=sl(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=pi(e)?_c(e):li(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,h=s*a.y;return{width:o,height:c,x:d,y:h}}function x2(e,t,n){let s;if(t==="viewport")s=ute(e,n);else if(t==="document")s=dte(xi(e));else if(Bs(t))s=fte(t,n);else{const i=b5(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qp(s)}function j5(e,t){const n=qa(e);return n===t||!Bs(n)||Bc(n)?!1:Vs(n).position==="fixed"||j5(n,t)}function mte(e,t){const n=t.get(e);if(n)return n;let s=th(e,[],!1).filter(c=>Bs(c)&&hd(c)!=="body"),i=null;const a=Vs(e).position==="fixed";let o=a?qa(e):e;for(;Bs(o)&&!Bc(o);){const c=Vs(o),d=Qj(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&hte.has(i.position)||$h(o)&&!d&&j5(e,o))?s=s.filter(f=>f!==o):i=c,o=qa(o)}return t.set(e,s),s}function pte(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const o=[...n==="clippingAncestors"?zg(t)?[]:mte(t,this._c):[].concat(n),s],c=o[0],d=o.reduce((h,f)=>{const m=x2(t,f,i);return h.top=$r(m.top,h.top),h.right=Ha(m.right,h.right),h.bottom=Ha(m.bottom,h.bottom),h.left=$r(m.left,h.left),h},x2(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function gte(e){const{width:t,height:n}=v5(e);return{width:t,height:n}}function xte(e,t,n){const s=pi(t),i=xi(t),a=n==="fixed",o=sl(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=li(0);function h(){d.x=Vg(i)}if(s||!s&&!a)if((hd(t)!=="body"||$h(i))&&(c=Bg(t)),s){const y=sl(t,!0,a,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else i&&h();a&&!s&&i&&h();const f=i&&!s&&!a?w5(i,c):li(0),m=o.left+c.scrollLeft-d.x-f.x,g=o.top+c.scrollTop-d.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function sv(e){return Vs(e).position==="static"}function y2(e,t){if(!pi(e)||Vs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xi(e)===n&&(n=n.ownerDocument.body),n}function S5(e,t){const n=Vr(e);if(zg(e))return n;if(!pi(e)){let i=qa(e);for(;i&&!Bc(i);){if(Bs(i)&&!sv(i))return i;i=qa(i)}return n}let s=y2(e,t);for(;s&&Zee(s)&&sv(s);)s=y2(s,t);return s&&Bc(s)&&sv(s)&&!Qj(s)?n:s||ste(e)||n}const yte=async function(e){const t=this.getOffsetParent||S5,n=this.getDimensions,s=await n(e.floating);return{reference:xte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function vte(e){return Vs(e).direction==="rtl"}const bte={convertOffsetParentRelativeRectToViewportRelativeRect:lte,getDocumentElement:xi,getClippingRect:pte,getOffsetParent:S5,getElementRects:yte,getClientRects:cte,getDimensions:gte,getScale:_c,isElement:Bs,isRTL:vte};function N5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wte(e,t){let n=null,s;const i=xi(e);function a(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:f,top:m,width:g,height:y}=h;if(c||t(),!g||!y)return;const b=Om(m),j=Om(i.clientWidth-(f+g)),S=Om(i.clientHeight-(m+y)),_=Om(f),C={rootMargin:-b+"px "+-j+"px "+-S+"px "+-_+"px",threshold:$r(0,Ha(1,d))||1};let T=!0;function M(P){const E=P[0].intersectionRatio;if(E!==d){if(!T)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!N5(h,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(M,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,C)}n.observe(e)}return o(!0),a}function jte(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=e1(e),f=i||a?[...h?th(h):[],...th(t)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),a&&_.addEventListener("resize",n)});const m=h&&c?wte(h,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(_=>{let[N]=_;N&&N.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),h&&!d&&y.observe(h),y.observe(t));let b,j=d?sl(e):null;d&&S();function S(){const _=sl(e);j&&!N5(j,_)&&n(),j=_,b=requestAnimationFrame(S)}return n(),()=>{var _;f.forEach(N=>{i&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),m?.(),(_=y)==null||_.disconnect(),y=null,d&&cancelAnimationFrame(b)}}const Ste=Gee,Nte=Kee,_te=Wee,kte=Jee,Cte=Hee,v2=Vee,Ete=Yee,Tte=(e,t,n)=>{const s=new Map,i={platform:bte,...n},a={...i.platform,_c:s};return Bee(e,t,{...i,platform:a})};var Pte=typeof document<"u",Rte=function(){},fp=Pte?x.useLayoutEffect:Rte;function Zp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Zp(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Zp(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function _5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b2(e,t){const n=_5(e);return Math.round(t*n)/n}function iv(e){const t=x.useRef(e);return fp(()=>{t.current=e}),t}function Ate(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[f,m]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=x.useState(s);Zp(g,s)||y(s);const[b,j]=x.useState(null),[S,_]=x.useState(null),N=x.useCallback(O=>{O!==P.current&&(P.current=O,j(O))},[]),C=x.useCallback(O=>{O!==E.current&&(E.current=O,_(O))},[]),T=a||b,M=o||S,P=x.useRef(null),E=x.useRef(null),R=x.useRef(f),q=d!=null,V=iv(d),Q=iv(i),G=iv(h),A=x.useCallback(()=>{if(!P.current||!E.current)return;const O={placement:t,strategy:n,middleware:g};Q.current&&(O.platform=Q.current),Tte(P.current,E.current,O).then(Z=>{const H={...Z,isPositioned:G.current!==!1};J.current&&!Zp(R.current,H)&&(R.current=H,Dh.flushSync(()=>{m(H)}))})},[g,t,n,Q,G]);fp(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[h]);const J=x.useRef(!1);fp(()=>(J.current=!0,()=>{J.current=!1}),[]),fp(()=>{if(T&&(P.current=T),M&&(E.current=M),T&&M){if(V.current)return V.current(T,M,A);A()}},[T,M,A,V,q]);const $=x.useMemo(()=>({reference:P,floating:E,setReference:N,setFloating:C}),[N,C]),F=x.useMemo(()=>({reference:T,floating:M}),[T,M]),B=x.useMemo(()=>{const O={position:n,left:0,top:0};if(!F.floating)return O;const Z=b2(F.floating,f.x),H=b2(F.floating,f.y);return c?{...O,transform:"translate("+Z+"px, "+H+"px)",..._5(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:H}},[n,c,F.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:A,refs:$,elements:F,floatingStyles:B}),[f,A,$,F,B])}const Ite=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?v2({element:s.current,padding:i}).fn(n):{}:s?v2({element:s,padding:i}).fn(n):{}}}},Ote=(e,t)=>({...Ste(e),options:[e,t]}),Mte=(e,t)=>({...Nte(e),options:[e,t]}),Dte=(e,t)=>({...Ete(e),options:[e,t]}),Lte=(e,t)=>({..._te(e),options:[e,t]}),$te=(e,t)=>({...kte(e),options:[e,t]}),Fte=(e,t)=>({...Cte(e),options:[e,t]}),Ute=(e,t)=>({...Ite(e),options:[e,t]});var zte="Arrow",k5=x.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return r.jsx(ke.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});k5.displayName=zte;var Bte=k5;function Wg(e){const[t,n]=x.useState(void 0);return kn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var t1="Popper",[C5,ro]=Cn(t1),[Vte,E5]=C5(t1),T5=e=>{const{__scopePopper:t,children:n}=e,[s,i]=x.useState(null);return r.jsx(Vte,{scope:t,anchor:s,onAnchorChange:i,children:n})};T5.displayName=t1;var P5="PopperAnchor",R5=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=E5(P5,n),o=x.useRef(null),c=He(t,o),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=s?.current||o.current,h!==d.current&&a.onAnchorChange(d.current)}),s?null:r.jsx(ke.div,{...i,ref:c})});R5.displayName=P5;var n1="PopperContent",[Wte,Hte]=C5(n1),A5=x.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...j}=e,S=E5(n1,n),[_,N]=x.useState(null),C=He(t,K=>N(K)),[T,M]=x.useState(null),P=Wg(T),E=P?.width??0,R=P?.height??0,q=s+(a!=="center"?"-"+a:""),V=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(h)?h:[h],G=Q.length>0,A={padding:V,boundary:Q.filter(Gte),altBoundary:G},{refs:J,floatingStyles:$,placement:F,isPositioned:B,middlewareData:O}=Ate({strategy:"fixed",placement:q,whileElementsMounted:(...K)=>jte(...K,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[Ote({mainAxis:i+R,alignmentAxis:o}),d&&Mte({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Dte():void 0,...A}),d&&Lte({...A}),$te({...A,apply:({elements:K,rects:se,availableWidth:ue,availableHeight:de})=>{const{width:le,height:je}=se.reference,qe=K.floating.style;qe.setProperty("--radix-popper-available-width",`${ue}px`),qe.setProperty("--radix-popper-available-height",`${de}px`),qe.setProperty("--radix-popper-anchor-width",`${le}px`),qe.setProperty("--radix-popper-anchor-height",`${je}px`)}}),T&&Ute({element:T,padding:c}),Kte({arrowWidth:E,arrowHeight:R}),g&&Fte({strategy:"referenceHidden",...A})]}),[Z,H]=M5(F),U=An(b);kn(()=>{B&&U?.()},[B,U]);const D=O.arrow?.x,ee=O.arrow?.y,z=O.arrow?.centerOffset!==0,[L,X]=x.useState();return kn(()=>{_&&X(window.getComputedStyle(_).zIndex)},[_]),r.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Wte,{scope:n,placedSide:Z,onArrowChange:M,arrowX:D,arrowY:ee,shouldHideArrow:z,children:r.jsx(ke.div,{"data-side":Z,"data-align":H,...j,ref:C,style:{...j.style,animation:B?void 0:"none"}})})})});A5.displayName=n1;var I5="PopperArrow",qte={top:"bottom",right:"left",bottom:"top",left:"right"},O5=x.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=Hte(I5,s),o=qte[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(Bte,{...i,ref:n,style:{...i.style,display:"block"}})})});O5.displayName=I5;function Gte(e){return e!==null}var Kte=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[h,f]=M5(n),m={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+d/2;let b="",j="";return h==="bottom"?(b=o?m:`${g}px`,j=`${-d}px`):h==="top"?(b=o?m:`${g}px`,j=`${s.floating.height+d}px`):h==="right"?(b=`${-d}px`,j=o?m:`${y}px`):h==="left"&&(b=`${s.floating.width+d}px`,j=o?m:`${y}px`),{data:{x:b,y:j}}}});function M5(e){const[t,n="center"]=e.split("-");return[t,n]}var Hg=T5,Fh=R5,qg=A5,Gg=O5,Yte="Portal",fd=x.forwardRef((e,t)=>{const{container:n,...s}=e,[i,a]=x.useState(!1);kn(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?d5.createPortal(r.jsx(ke.div,{...s,ref:t}),o):null});fd.displayName=Yte;function Jte(e,t){return x.useReducer((n,s)=>t[n][s]??n,e)}var fn=e=>{const{present:t,children:n}=e,s=Xte(t),i=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),a=He(s.ref,Qte(i));return typeof n=="function"||s.isPresent?x.cloneElement(i,{ref:a}):null};fn.displayName="Presence";function Xte(e){const[t,n]=x.useState(),s=x.useRef(null),i=x.useRef(e),a=x.useRef("none"),o=e?"mounted":"unmounted",[c,d]=Jte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=Mm(s.current);a.current=c==="mounted"?h:"none"},[c]),kn(()=>{const h=s.current,f=i.current;if(f!==e){const g=a.current,y=Mm(h);e?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),kn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=y=>{const j=Mm(s.current).includes(CSS.escape(y.animationName));if(y.target===t&&j&&(d("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=y=>{y.target===t&&(a.current=Mm(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Mm(e){return e?.animationName||"none"}function Qte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var av="rovingFocusGroup.onEntryFocus",Zte={bubbles:!1,cancelable:!0},Uh="RovingFocusGroup",[Bb,D5,ene]=$g(Uh),[tne,md]=Cn(Uh,[ene]),[nne,rne]=tne(Uh),L5=x.forwardRef((e,t)=>r.jsx(Bb.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Bb.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(sne,{...e,ref:t})})}));L5.displayName=Uh;var sne=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,g=x.useRef(null),y=He(t,g),b=vl(a),[j,S]=_r({prop:o,defaultProp:c??null,onChange:d,caller:Uh}),[_,N]=x.useState(!1),C=An(h),T=D5(n),M=x.useRef(!1),[P,E]=x.useState(0);return x.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(av,C),()=>R.removeEventListener(av,C)},[C]),r.jsx(nne,{scope:n,orientation:s,dir:b,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(R=>S(R),[S]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:x.useCallback(()=>E(R=>R-1),[]),children:r.jsx(ke.div,{tabIndex:_||P===0?-1:0,"data-orientation":s,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{M.current=!0}),onFocus:ye(e.onFocus,R=>{const q=!M.current;if(R.target===R.currentTarget&&q&&!_){const V=new CustomEvent(av,Zte);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const Q=T().filter(F=>F.focusable),G=Q.find(F=>F.active),A=Q.find(F=>F.id===j),$=[G,A,...Q].filter(Boolean).map(F=>F.ref.current);U5($,f)}}M.current=!1}),onBlur:ye(e.onBlur,()=>N(!1))})})}),$5="RovingFocusGroupItem",F5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...c}=e,d=hn(),h=a||d,f=rne($5,n),m=f.currentTabStopId===h,g=D5(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:j}=f;return x.useEffect(()=>{if(s)return y(),()=>b()},[s,y,b]),r.jsx(Bb.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:r.jsx(ke.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:ye(e.onMouseDown,S=>{s?f.onItemFocus(h):S.preventDefault()}),onFocus:ye(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:ye(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=one(S,f.orientation,f.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=g().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const T=C.indexOf(S.currentTarget);C=f.loop?lne(C,T+1):C.slice(T+1)}setTimeout(()=>U5(C))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:j!=null}):o})})});F5.displayName=$5;var ine={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ane(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function one(e,t,n){const s=ane(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ine[s]}function U5(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function lne(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var r1=L5,s1=F5;function cne(e){const t=dne(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(hne);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function dne(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=mne(i),c=fne(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var une=Symbol("radix.slottable");function hne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===une}function fne(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function mne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zl=new WeakMap,Dm=new WeakMap,Lm={},ov=0,z5=function(e){return e&&(e.host||z5(e.parentNode))},gne=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=z5(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xne=function(e,t,n,s){var i=gne(t,Array.isArray(e)?e:[e]);Lm[n]||(Lm[n]=new WeakMap);var a=Lm[n],o=[],c=new Set,d=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))f(g);else try{var y=g.getAttribute(s),b=y!==null&&y!=="false",j=(Zl.get(g)||0)+1,S=(a.get(g)||0)+1;Zl.set(g,j),a.set(g,S),o.push(g),j===1&&b&&Dm.set(g,!0),S===1&&g.setAttribute(n,"true"),b||g.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return f(t),c.clear(),ov++,function(){o.forEach(function(m){var g=Zl.get(m)-1,y=a.get(m)-1;Zl.set(m,g),a.set(m,y),g||(Dm.has(m)||m.removeAttribute(s),Dm.delete(m)),y||m.removeAttribute(n)}),ov--,ov||(Zl=new WeakMap,Zl=new WeakMap,Dm=new WeakMap,Lm={})}},Kg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=pne(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),xne(s,i,n,"aria-hidden")):function(){return null}},mp="right-scroll-bar-position",pp="width-before-scroll-bar",yne="with-scroll-bars-hidden",vne="--removed-body-scroll-bar-size";function lv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bne(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var wne=typeof window<"u"?x.useLayoutEffect:x.useEffect,w2=new WeakMap;function jne(e,t){var n=bne(null,function(s){return e.forEach(function(i){return lv(i,s)})});return wne(function(){var s=w2.get(n);if(s){var i=new Set(s),a=new Set(e),o=n.current;i.forEach(function(c){a.has(c)||lv(c,null)}),a.forEach(function(c){i.has(c)||lv(c,o)})}w2.set(n,e)},[e]),n}function Sne(e){return e}function Nne(e,t){t===void 0&&(t=Sne);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(a),o=n}var d=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),n}}}};return i}function _ne(e){e===void 0&&(e={});var t=Nne(null);return t.options=os({async:!0,ssr:!1},e),t}var B5=function(e){var t=e.sideCar,n=to(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,os({},n))};B5.isSideCarExport=!0;function kne(e,t){return e.useMedium(t),B5}var V5=_ne(),cv=function(){},Yg=x.forwardRef(function(e,t){var n=x.useRef(null),s=x.useState({onScrollCapture:cv,onWheelCapture:cv,onTouchMoveCapture:cv}),i=s[0],a=s[1],o=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,y=e.noRelative,b=e.noIsolation,j=e.inert,S=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,C=e.gapMode,T=to(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,P=jne([n,t]),E=os(os({},T),i);return x.createElement(x.Fragment,null,f&&x.createElement(M,{sideCar:V5,removeScrollBar:h,shards:m,noRelative:y,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:C}),o?x.cloneElement(x.Children.only(c),os(os({},E),{ref:P})):x.createElement(N,os({},E,{className:d,ref:P}),c))});Yg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yg.classNames={fullWidth:pp,zeroRight:mp};var Cne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ene(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cne();return t&&e.setAttribute("nonce",t),e}function Tne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Pne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Rne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ene())&&(Tne(t,n),Pne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ane=function(){var e=Rne();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},W5=function(){var e=Ane(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},Ine={left:0,top:0,right:0,gap:0},dv=function(e){return parseInt(e||"",10)||0},One=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[dv(n),dv(s),dv(i)]},Mne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ine;var t=One(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Dne=W5(),kc="data-scroll-locked",Lne=function(e,t,n,s){var i=e.left,a=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yne,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(kc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mp,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(pp,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(mp," .").concat(mp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(pp," .").concat(pp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(kc,`] {
    `).concat(vne,": ").concat(c,`px;
  }
`)},j2=function(){var e=parseInt(document.body.getAttribute(kc)||"0",10);return isFinite(e)?e:0},$ne=function(){x.useEffect(function(){return document.body.setAttribute(kc,(j2()+1).toString()),function(){var e=j2()-1;e<=0?document.body.removeAttribute(kc):document.body.setAttribute(kc,e.toString())}},[])},Fne=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;$ne();var a=x.useMemo(function(){return Mne(i)},[i]);return x.createElement(Dne,{styles:Lne(a,!t,i,n?"":"!important")})},Vb=!1;if(typeof window<"u")try{var $m=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{Vb=!1}var ec=Vb?{passive:!1}:!1,Une=function(e){return e.tagName==="TEXTAREA"},H5=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Une(e)&&n[t]==="visible")},zne=function(e){return H5(e,"overflowY")},Bne=function(e){return H5(e,"overflowX")},S2=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=q5(e,s);if(i){var a=G5(e,s),o=a[1],c=a[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Vne=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Wne=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},q5=function(e,t){return e==="v"?zne(t):Bne(t)},G5=function(e,t){return e==="v"?Vne(t):Wne(t)},Hne=function(e,t){return e==="h"&&t==="rtl"?-1:1},qne=function(e,t,n,s,i){var a=Hne(e,window.getComputedStyle(t).direction),o=a*s,c=n.target,d=t.contains(c),h=!1,f=o>0,m=0,g=0;do{if(!c)break;var y=G5(e,c),b=y[0],j=y[1],S=y[2],_=j-S-a*b;(b||_)&&q5(e,c)&&(m+=_,g+=b);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(h=!0),h},Fm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N2=function(e){return[e.deltaX,e.deltaY]},_2=function(e){return e&&"current"in e?e.current:e},Gne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yne=0,tc=[];function Jne(e){var t=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),i=x.useState(Yne++)[0],a=x.useState(W5)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var j=Ij([e.lockRef.current],(e.shards||[]).map(_2),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var _=Fm(j),N=n.current,C="deltaX"in j?j.deltaX:N[0]-_[0],T="deltaY"in j?j.deltaY:N[1]-_[1],M,P=j.target,E=Math.abs(C)>Math.abs(T)?"h":"v";if("touches"in j&&E==="h"&&P.type==="range")return!1;var R=S2(E,P);if(!R)return!0;if(R?M=E:(M=E==="v"?"h":"v",R=S2(E,P)),!R)return!1;if(!s.current&&"changedTouches"in j&&(C||T)&&(s.current=M),!M)return!0;var q=s.current||M;return qne(q,S,j,q==="h"?C:T)},[]),d=x.useCallback(function(j){var S=j;if(!(!tc.length||tc[tc.length-1]!==a)){var _="deltaY"in S?N2(S):Fm(S),N=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&Gne(M.delta,_)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(_2).filter(Boolean).filter(function(M){return M.contains(S.target)}),T=C.length>0?c(S,C[0]):!o.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),h=x.useCallback(function(j,S,_,N){var C={name:j,delta:S,target:_,should:N,shadowParent:Xne(_)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(T){return T!==C})},1)},[]),f=x.useCallback(function(j){n.current=Fm(j),s.current=void 0},[]),m=x.useCallback(function(j){h(j.type,N2(j),j.target,c(j,e.lockRef.current))},[]),g=x.useCallback(function(j){h(j.type,Fm(j),j.target,c(j,e.lockRef.current))},[]);x.useEffect(function(){return tc.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,ec),document.addEventListener("touchmove",d,ec),document.addEventListener("touchstart",f,ec),function(){tc=tc.filter(function(j){return j!==a}),document.removeEventListener("wheel",d,ec),document.removeEventListener("touchmove",d,ec),document.removeEventListener("touchstart",f,ec)}},[]);var y=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(a,{styles:Kne(i)}):null,y?x.createElement(Fne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Xne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Qne=kne(V5,Jne);var zh=x.forwardRef(function(e,t){return x.createElement(Yg,os({},e,{ref:t,sideCar:Qne}))});zh.classNames=Yg.classNames;var Wb=["Enter"," "],Zne=["ArrowDown","PageUp","Home"],K5=["ArrowUp","PageDown","End"],ere=[...Zne,...K5],tre={ltr:[...Wb,"ArrowRight"],rtl:[...Wb,"ArrowLeft"]},nre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bh="Menu",[nh,rre,sre]=$g(Bh),[bl,Y5]=Cn(Bh,[sre,ro,md]),Jg=ro(),J5=md(),[ire,wl]=bl(Bh),[are,Vh]=bl(Bh),X5=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=e,c=Jg(t),[d,h]=x.useState(null),f=x.useRef(!1),m=An(a),g=vl(i);return x.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),r.jsx(Hg,{...c,children:r.jsx(ire,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:h,children:r.jsx(are,{scope:t,onClose:x.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:o,children:s})})})};X5.displayName=Bh;var ore="MenuAnchor",i1=x.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Jg(n);return r.jsx(Fh,{...i,...s,ref:t})});i1.displayName=ore;var a1="MenuPortal",[lre,Q5]=bl(a1,{forceMount:void 0}),Z5=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,a=wl(a1,t);return r.jsx(lre,{scope:t,forceMount:n,children:r.jsx(fn,{present:n||a.open,children:r.jsx(fd,{asChild:!0,container:i,children:s})})})};Z5.displayName=a1;var ds="MenuContent",[cre,o1]=bl(ds),eM=x.forwardRef((e,t)=>{const n=Q5(ds,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=wl(ds,e.__scopeMenu),o=Vh(ds,e.__scopeMenu);return r.jsx(nh.Provider,{scope:e.__scopeMenu,children:r.jsx(fn,{present:s||a.open,children:r.jsx(nh.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(dre,{...i,ref:t}):r.jsx(ure,{...i,ref:t})})})})}),dre=x.forwardRef((e,t)=>{const n=wl(ds,e.__scopeMenu),s=x.useRef(null),i=He(t,s);return x.useEffect(()=>{const a=s.current;if(a)return Kg(a)},[]),r.jsx(l1,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ure=x.forwardRef((e,t)=>{const n=wl(ds,e.__scopeMenu);return r.jsx(l1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),hre=cne("MenuContent.ScrollLock"),l1=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,...j}=e,S=wl(ds,n),_=Vh(ds,n),N=Jg(n),C=J5(n),T=rre(n),[M,P]=x.useState(null),E=x.useRef(null),R=He(t,E,S.onContentChange),q=x.useRef(0),V=x.useRef(""),Q=x.useRef(0),G=x.useRef(null),A=x.useRef("right"),J=x.useRef(0),$=b?zh:x.Fragment,F=b?{as:hre,allowPinchZoom:!0}:void 0,B=Z=>{const H=V.current+Z,U=T().filter(K=>!K.disabled),D=document.activeElement,ee=U.find(K=>K.ref.current===D)?.textValue,z=U.map(K=>K.textValue),L=Nre(z,H,ee),X=U.find(K=>K.textValue===L)?.ref.current;(function K(se){V.current=se,window.clearTimeout(q.current),se!==""&&(q.current=window.setTimeout(()=>K(""),1e3))})(H),X&&setTimeout(()=>X.focus())};x.useEffect(()=>()=>window.clearTimeout(q.current),[]),Fg();const O=x.useCallback(Z=>A.current===G.current?.side&&kre(Z,G.current?.area),[]);return r.jsx(cre,{scope:n,searchRef:V,onItemEnter:x.useCallback(Z=>{O(Z)&&Z.preventDefault()},[O]),onItemLeave:x.useCallback(Z=>{O(Z)||(E.current?.focus(),P(null))},[O]),onTriggerLeave:x.useCallback(Z=>{O(Z)&&Z.preventDefault()},[O]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:x.useCallback(Z=>{G.current=Z},[]),children:r.jsx($,{...F,children:r.jsx(Lh,{asChild:!0,trapped:i,onMountAutoFocus:ye(a,Z=>{Z.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(dd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:r.jsx(r1,{asChild:!0,...C,dir:_.dir,orientation:"vertical",loop:s,currentTabStopId:M,onCurrentTabStopIdChange:P,onEntryFocus:ye(d,Z=>{_.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(qg,{role:"menu","aria-orientation":"vertical","data-state":gM(S.open),"data-radix-menu-content":"",dir:_.dir,...N,...j,ref:R,style:{outline:"none",...j.style},onKeyDown:ye(j.onKeyDown,Z=>{const U=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,D=Z.ctrlKey||Z.altKey||Z.metaKey,ee=Z.key.length===1;U&&(Z.key==="Tab"&&Z.preventDefault(),!D&&ee&&B(Z.key));const z=E.current;if(Z.target!==z||!ere.includes(Z.key))return;Z.preventDefault();const X=T().filter(K=>!K.disabled).map(K=>K.ref.current);K5.includes(Z.key)&&X.reverse(),jre(X)}),onBlur:ye(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(q.current),V.current="")}),onPointerMove:ye(e.onPointerMove,rh(Z=>{const H=Z.target,U=J.current!==Z.clientX;if(Z.currentTarget.contains(H)&&U){const D=Z.clientX>J.current?"right":"left";A.current=D,J.current=Z.clientX}}))})})})})})})});eM.displayName=ds;var fre="MenuGroup",c1=x.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ke.div,{role:"group",...s,ref:t})});c1.displayName=fre;var mre="MenuLabel",tM=x.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ke.div,{...s,ref:t})});tM.displayName=mre;var eg="MenuItem",k2="menu.itemSelect",Xg=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,a=x.useRef(null),o=Vh(eg,e.__scopeMenu),c=o1(eg,e.__scopeMenu),d=He(t,a),h=x.useRef(!1),f=()=>{const m=a.current;if(!n&&m){const g=new CustomEvent(k2,{bubbles:!0,cancelable:!0});m.addEventListener(k2,y=>s?.(y),{once:!0}),u5(m,g),g.defaultPrevented?h.current=!1:o.onClose()}};return r.jsx(nM,{...i,ref:d,disabled:n,onClick:ye(e.onClick,f),onPointerDown:m=>{e.onPointerDown?.(m),h.current=!0},onPointerUp:ye(e.onPointerUp,m=>{h.current||m.currentTarget?.click()}),onKeyDown:ye(e.onKeyDown,m=>{const g=c.searchRef.current!=="";n||g&&m.key===" "||Wb.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Xg.displayName=eg;var nM=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...a}=e,o=o1(eg,n),c=J5(n),d=x.useRef(null),h=He(t,d),[f,m]=x.useState(!1),[g,y]=x.useState("");return x.useEffect(()=>{const b=d.current;b&&y((b.textContent??"").trim())},[a.children]),r.jsx(nh.ItemSlot,{scope:n,disabled:s,textValue:i??g,children:r.jsx(s1,{asChild:!0,...c,focusable:!s,children:r.jsx(ke.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:h,onPointerMove:ye(e.onPointerMove,rh(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,rh(b=>o.onItemLeave(b))),onFocus:ye(e.onFocus,()=>m(!0)),onBlur:ye(e.onBlur,()=>m(!1))})})})}),pre="MenuCheckboxItem",rM=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(lM,{scope:e.__scopeMenu,checked:n,children:r.jsx(Xg,{role:"menuitemcheckbox","aria-checked":tg(n)?"mixed":n,...i,ref:t,"data-state":u1(n),onSelect:ye(i.onSelect,()=>s?.(tg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});rM.displayName=pre;var sM="MenuRadioGroup",[gre,xre]=bl(sM,{value:void 0,onValueChange:()=>{}}),iM=x.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,a=An(s);return r.jsx(gre,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(c1,{...i,ref:t})})});iM.displayName=sM;var aM="MenuRadioItem",oM=x.forwardRef((e,t)=>{const{value:n,...s}=e,i=xre(aM,e.__scopeMenu),a=n===i.value;return r.jsx(lM,{scope:e.__scopeMenu,checked:a,children:r.jsx(Xg,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":u1(a),onSelect:ye(s.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});oM.displayName=aM;var d1="MenuItemIndicator",[lM,yre]=bl(d1,{checked:!1}),cM=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,a=yre(d1,n);return r.jsx(fn,{present:s||tg(a.checked)||a.checked===!0,children:r.jsx(ke.span,{...i,ref:t,"data-state":u1(a.checked)})})});cM.displayName=d1;var vre="MenuSeparator",dM=x.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});dM.displayName=vre;var bre="MenuArrow",uM=x.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Jg(n);return r.jsx(Gg,{...i,...s,ref:t})});uM.displayName=bre;var wre="MenuSub",[Q0e,hM]=bl(wre),gu="MenuSubTrigger",fM=x.forwardRef((e,t)=>{const n=wl(gu,e.__scopeMenu),s=Vh(gu,e.__scopeMenu),i=hM(gu,e.__scopeMenu),a=o1(gu,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),r.jsx(i1,{asChild:!0,...h,children:r.jsx(nM,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":gM(n.open),...e,ref:ar(t,i.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,rh(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ye(e.onPointerLeave,rh(m=>{f();const g=n.content?.getBoundingClientRect();if(g){const y=n.content?.dataset.side,b=y==="right",j=b?-5:5,S=g[b?"left":"right"],_=g[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:S,y:g.top},{x:_,y:g.top},{x:_,y:g.bottom},{x:S,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,m=>{const g=a.searchRef.current!=="";e.disabled||g&&m.key===" "||tre[s.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});fM.displayName=gu;var mM="MenuSubContent",pM=x.forwardRef((e,t)=>{const n=Q5(ds,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,a=wl(ds,e.__scopeMenu),o=Vh(ds,e.__scopeMenu),c=hM(mM,e.__scopeMenu),d=x.useRef(null),h=He(t,d);return r.jsx(nh.Provider,{scope:e.__scopeMenu,children:r.jsx(fn,{present:s||a.open,children:r.jsx(nh.Slot,{scope:e.__scopeMenu,children:r.jsx(l1,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ye(e.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ye(e.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),g=nre[o.dir].includes(f.key);m&&g&&(a.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});pM.displayName=mM;function gM(e){return e?"open":"closed"}function tg(e){return e==="indeterminate"}function u1(e){return tg(e)?"indeterminate":e?"checked":"unchecked"}function jre(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Sre(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function Nre(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Sre(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function _re(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,g=d.y;f>s!=g>s&&n<(m-h)*(s-f)/(g-f)+h&&(i=!i)}return i}function kre(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _re(n,t)}function rh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cre=X5,Ere=i1,Tre=Z5,Pre=eM,Rre=c1,Are=tM,Ire=Xg,Ore=rM,Mre=iM,Dre=oM,Lre=cM,$re=dM,Fre=uM,Ure=fM,zre=pM,Qg="DropdownMenu",[Bre]=Cn(Qg,[Y5]),lr=Y5(),[Vre,xM]=Bre(Qg),yM=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=lr(t),h=x.useRef(null),[f,m]=_r({prop:i,defaultProp:a??!1,onChange:o,caller:Qg});return r.jsx(Vre,{scope:t,triggerId:hn(),triggerRef:h,contentId:hn(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:c,children:r.jsx(Cre,{...d,open:f,onOpenChange:m,dir:s,modal:c,children:n})})};yM.displayName=Qg;var vM="DropdownMenuTrigger",bM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,a=xM(vM,n),o=lr(n);return r.jsx(Ere,{asChild:!0,...o,children:r.jsx(ke.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:ar(t,a.triggerRef),onPointerDown:ye(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:ye(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});bM.displayName=vM;var Wre="DropdownMenuPortal",wM=e=>{const{__scopeDropdownMenu:t,...n}=e,s=lr(t);return r.jsx(Tre,{...s,...n})};wM.displayName=Wre;var jM="DropdownMenuContent",SM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=xM(jM,n),a=lr(n),o=x.useRef(!1);return r.jsx(Pre,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,c=>{o.current||i.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SM.displayName=jM;var Hre="DropdownMenuGroup",qre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Rre,{...i,...s,ref:t})});qre.displayName=Hre;var Gre="DropdownMenuLabel",Kre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Are,{...i,...s,ref:t})});Kre.displayName=Gre;var Yre="DropdownMenuItem",NM=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Ire,{...i,...s,ref:t})});NM.displayName=Yre;var Jre="DropdownMenuCheckboxItem",Xre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Ore,{...i,...s,ref:t})});Xre.displayName=Jre;var Qre="DropdownMenuRadioGroup",Zre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Mre,{...i,...s,ref:t})});Zre.displayName=Qre;var ese="DropdownMenuRadioItem",tse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Dre,{...i,...s,ref:t})});tse.displayName=ese;var nse="DropdownMenuItemIndicator",rse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Lre,{...i,...s,ref:t})});rse.displayName=nse;var sse="DropdownMenuSeparator",_M=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx($re,{...i,...s,ref:t})});_M.displayName=sse;var ise="DropdownMenuArrow",ase=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Fre,{...i,...s,ref:t})});ase.displayName=ise;var ose="DropdownMenuSubTrigger",lse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(Ure,{...i,...s,ref:t})});lse.displayName=ose;var cse="DropdownMenuSubContent",dse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=lr(n);return r.jsx(zre,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dse.displayName=cse;var use=yM,hse=bM,fse=wM,mse=SM,pse=NM,gse=_M;function kM({...e}){return r.jsx(use,{"data-slot":"dropdown-menu",...e})}function CM({...e}){return r.jsx(hse,{"data-slot":"dropdown-menu-trigger",...e})}function EM({className:e,sideOffset:t=4,...n}){return r.jsx(fse,{children:r.jsx(mse,{"data-slot":"dropdown-menu-content",sideOffset:t,className:_e("bg-white text-gray-900 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-gray-200 p-1 shadow-md",e),...n})})}function Do({className:e,inset:t,variant:n="default",...s}){return r.jsx(pse,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:_e("focus:bg-gray-100 focus:text-gray-900 data-[variant=destructive]:text-red-600 data-[variant=destructive]:focus:bg-red-50 data-[variant=destructive]:focus:text-red-600 data-[variant=destructive]:*:[svg]:!text-red-600 [&_svg:not([class*='text-'])]:text-gray-400 relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function C2({className:e,...t}){return r.jsx(gse,{"data-slot":"dropdown-menu-separator",className:_e("bg-gray-200 -mx-1 my-1 h-px",e),...t})}function xse(e){const t=yse(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(bse);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function yse(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=jse(i),c=wse(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vse=Symbol("radix.slottable");function bse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vse}function wse(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function jse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zg="Dialog",[TM,PM]=Cn(Zg),[Sse,Gs]=TM(Zg),RM=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=x.useRef(null),d=x.useRef(null),[h,f]=_r({prop:s,defaultProp:i??!1,onChange:a,caller:Zg});return r.jsx(Sse,{scope:t,triggerRef:c,contentRef:d,contentId:hn(),titleId:hn(),descriptionId:hn(),open:h,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};RM.displayName=Zg;var AM="DialogTrigger",IM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gs(AM,n),a=He(t,i.triggerRef);return r.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":m1(i.open),...s,ref:a,onClick:ye(e.onClick,i.onOpenToggle)})});IM.displayName=AM;var h1="DialogPortal",[Nse,OM]=TM(h1,{forceMount:void 0}),MM=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,a=Gs(h1,t);return r.jsx(Nse,{scope:t,forceMount:n,children:x.Children.map(s,o=>r.jsx(fn,{present:n||a.open,children:r.jsx(fd,{asChild:!0,container:i,children:o})}))})};MM.displayName=h1;var ng="DialogOverlay",DM=x.forwardRef((e,t)=>{const n=OM(ng,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Gs(ng,e.__scopeDialog);return a.modal?r.jsx(fn,{present:s||a.open,children:r.jsx(kse,{...i,ref:t})}):null});DM.displayName=ng;var _se=xse("DialogOverlay.RemoveScroll"),kse=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gs(ng,n);return r.jsx(zh,{as:_se,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(ke.div,{"data-state":m1(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),il="DialogContent",LM=x.forwardRef((e,t)=>{const n=OM(il,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,a=Gs(il,e.__scopeDialog);return r.jsx(fn,{present:s||a.open,children:a.modal?r.jsx(Cse,{...i,ref:t}):r.jsx(Ese,{...i,ref:t})})});LM.displayName=il;var Cse=x.forwardRef((e,t)=>{const n=Gs(il,e.__scopeDialog),s=x.useRef(null),i=He(t,n.contentRef,s);return x.useEffect(()=>{const a=s.current;if(a)return Kg(a)},[]),r.jsx($M,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault())})}),Ese=x.forwardRef((e,t)=>{const n=Gs(il,e.__scopeDialog),s=x.useRef(!1),i=x.useRef(!1);return r.jsx($M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$M=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,c=Gs(il,n),d=x.useRef(null),h=He(t,d);return Fg(),r.jsxs(r.Fragment,{children:[r.jsx(Lh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(dd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":m1(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Pse,{titleId:c.titleId}),r.jsx(Ase,{contentRef:d,descriptionId:c.descriptionId})]})]})}),f1="DialogTitle",FM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gs(f1,n);return r.jsx(ke.h2,{id:i.titleId,...s,ref:t})});FM.displayName=f1;var UM="DialogDescription",zM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gs(UM,n);return r.jsx(ke.p,{id:i.descriptionId,...s,ref:t})});zM.displayName=UM;var BM="DialogClose",VM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gs(BM,n);return r.jsx(ke.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>i.onOpenChange(!1))})});VM.displayName=BM;function m1(e){return e?"open":"closed"}var WM="DialogTitleWarning",[Tse,HM]=JZ(WM,{contentName:il,titleName:f1,docsSlug:"dialog"}),Pse=({titleId:e})=>{const t=HM(WM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Rse="DialogDescriptionWarning",Ase=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HM(Rse).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ex=RM,Ise=IM,tx=MM,Wh=DM,Hh=LM,p1=FM,g1=zM,nx=VM;function Kr({...e}){return r.jsx(ex,{"data-slot":"dialog",...e})}function Ose({...e}){return r.jsx(tx,{"data-slot":"dialog-portal",...e})}const qM=x.forwardRef(({className:e,...t},n)=>r.jsx(Wh,{ref:n,"data-slot":"dialog-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));qM.displayName=Wh.displayName;const kr=x.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Ose,{"data-slot":"dialog-portal",children:[r.jsx(qM,{}),r.jsxs(Hh,{ref:s,"data-slot":"dialog-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r.jsxs(nx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(ir,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kr.displayName=Hh.displayName;function Ws({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:_e("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sh({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-footer",className:_e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ps({className:e,...t}){return r.jsx(p1,{"data-slot":"dialog-title",className:_e("text-lg leading-none font-semibold",e),...t})}function Hs({className:e,...t}){return r.jsx(g1,{"data-slot":"dialog-description",className:_e("text-muted-foreground text-sm",e),...t})}const Me=x.forwardRef(({className:e,type:t,paddingLeft:n,paddingRight:s,style:i,...a},o)=>{const c=n??12,d=s??12;return r.jsx("input",{ref:o,type:t,"data-slot":"input",className:_e("file:text-foreground placeholder:text-gray-400 selection:bg-primary selection:text-primary-foreground flex h-11 min-h-[44px] w-full min-w-0 rounded-md border border-gray-300 py-1 text-base text-gray-900 bg-white transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-brand focus-visible:ring-brand/20 focus-visible:ring-[3px]","aria-invalid:ring-red-500/20 aria-invalid:border-red-500",e),style:{paddingLeft:`${c}px`,paddingRight:`${d}px`,...i},...a})});Me.displayName="Input";const GM="/assets/c48f7b9362f2fad41d0ac7869d6f0f7fead10c9b-pYsOsKJ3.png",Cu=({brandName:e,className:t="",size:n="md"})=>{const s={sm:"h-20",md:"h-24",lg:"h-36"};return r.jsx("img",{src:GM,alt:e,className:`${s[n]} w-auto ${t}`})},Mse=({brandName:e,brandColor:t,phone:n,onNavigate:s,currentPath:i,hasAnnouncementBar:a=!1,topOffset:o})=>{const[c,d]=x.useState(!1),[h,f]=x.useState(!1),[m,g]=x.useState(""),{user:y,loyaltyBalance:b,signOut:j}=Yr(),S=typeof o=="number"?`${o}px`:a?"40px":"0",_=[{label:"Home",path:"/"},{label:"Products",path:"/products"},{label:"Loyalty",path:"/loyalty"},{label:"About",path:"/about"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}],N=P=>{s(P),d(!1)},C=async()=>{await j(),N("/")},T=()=>{m.trim()&&(f(!1),N(`/track/${m.trim()}`),g(""))},M=()=>y?.name?y.name.split(" ").map(P=>P[0]).join("").substring(0,2).toUpperCase():y?.email?y.email[0].toUpperCase():y?.phone?"U":"?";return r.jsxs(r.Fragment,{children:[r.jsxs("nav",{className:"bg-white border-b fixed left-0 right-0 w-full z-50 shadow-sm h-16 sm:h-20 transition-[top] duration-250 ease-in-out",style:{top:S},children:[r.jsx("div",{className:"w-full max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 h-full",children:r.jsxs("div",{className:"flex justify-between items-center h-full",children:[r.jsxs("button",{onClick:()=>N("/"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity min-w-0",children:[r.jsx(Cu,{brandName:e,size:"sm"}),r.jsx("span",{className:"text-base sm:text-lg font-bold truncate max-w-[180px] sm:max-w-none",children:e})]}),r.jsx("div",{className:"hidden md:flex items-center gap-6",children:_.map(P=>r.jsx("button",{onClick:()=>N(P.path),className:`hover:opacity-70 transition-opacity ${i===P.path?"border-b-2":""}`,style:i===P.path?{borderColor:t}:{},children:P.label},P.path))}),r.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[r.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>f(!0),children:[r.jsx(nn,{className:"w-4 h-4 mr-2"}),"Track"]}),r.jsx("a",{href:`tel:${n}`,children:r.jsxs(re,{variant:"outline",size:"sm",children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Call"]})}),y?r.jsxs(kM,{children:[r.jsx(CM,{asChild:!0,children:r.jsx("button",{className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{backgroundColor:t},children:M()})})}),r.jsxs(EM,{align:"end",className:"w-56",children:[r.jsxs("div",{className:"px-2 py-2",children:[r.jsx("p",{className:"text-sm font-medium",children:y.name||y.email||y.phone}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b,"  stars"]})]}),r.jsx(C2,{}),r.jsxs(Do,{onClick:()=>N("/account"),children:[r.jsx(rl,{className:"w-4 h-4 mr-2"}),"Account"]}),r.jsxs(Do,{onClick:()=>N("/account/orders"),children:[r.jsx(nn,{className:"w-4 h-4 mr-2"}),"Orders"]}),r.jsxs(Do,{onClick:()=>N("/account/rewards"),children:[r.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Rewards"]}),r.jsxs(Do,{onClick:()=>N("/account/referrals"),children:[r.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Referrals"]}),r.jsx(C2,{}),r.jsxs(Do,{onClick:C,children:[r.jsx(Gu,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]}):r.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>N("/login"),children:[r.jsx(qu,{className:"w-4 h-4 mr-2"}),"Log in"]}),r.jsx(re,{size:"sm",style:{backgroundColor:t},className:"text-white hover:opacity-90",onClick:()=>N("/products"),children:"Order Now"})]}),r.jsx("button",{onClick:()=>d(!c),className:"md:hidden p-2 hover:bg-gray-100 rounded-xl transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Toggle menu","aria-expanded":c,children:c?r.jsx(ir,{className:"w-6 h-6"}):r.jsx(UI,{className:"w-6 h-6"})})]})}),c&&r.jsx("div",{className:"md:hidden border-t bg-white",children:r.jsxs("div",{className:"px-4 py-4 space-y-3",children:[_.map(P=>r.jsx("button",{onClick:()=>N(P.path),className:`block w-full text-left py-2 px-4 rounded-2xl transition-colors ${i===P.path?"bg-gray-100":"hover:bg-gray-50"}`,children:P.label},P.path)),y&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border-t pt-3",children:[r.jsx("p",{className:"text-sm font-medium px-4 py-2",children:y.name||y.email||y.phone}),r.jsxs("p",{className:"text-xs text-gray-500 px-4",children:[b,"  stars"]})]}),r.jsxs("button",{onClick:()=>N("/account"),className:"block w-full text-left py-2 px-4 rounded-2xl hover:bg-gray-50",children:[r.jsx(rl,{className:"w-4 h-4 mr-2 inline"}),"Account"]}),r.jsxs("button",{onClick:()=>N("/account/orders"),className:"block w-full text-left py-2 px-4 rounded-2xl hover:bg-gray-50",children:[r.jsx(nn,{className:"w-4 h-4 mr-2 inline"}),"Orders"]}),r.jsxs("button",{onClick:()=>N("/account/rewards"),className:"block w-full text-left py-2 px-4 rounded-2xl hover:bg-gray-50",children:[r.jsx(Bt,{className:"w-4 h-4 mr-2 inline"}),"Rewards"]}),r.jsxs("button",{onClick:()=>N("/account/referrals"),className:"block w-full text-left py-2 px-4 rounded-2xl hover:bg-gray-50",children:[r.jsx(Nr,{className:"w-4 h-4 mr-2 inline"}),"Referrals"]})]}),r.jsxs("div",{className:"pt-3 border-t space-y-2",children:[r.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>{d(!1),f(!0)},children:[r.jsx(nn,{className:"w-4 h-4 mr-2"}),"Track Order"]}),r.jsx("a",{href:`tel:${n}`,className:"block",children:r.jsxs(re,{variant:"outline",className:"w-full",children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Call Now"]})}),y?r.jsxs(re,{variant:"outline",className:"w-full",onClick:C,children:[r.jsx(Gu,{className:"w-4 h-4 mr-2"}),"Sign out"]}):r.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>N("/login"),children:[r.jsx(qu,{className:"w-4 h-4 mr-2"}),"Log in"]}),r.jsx(re,{className:"w-full text-white",style:{backgroundColor:t},onClick:()=>N("/products"),children:"Order Now"})]})]})})]}),r.jsx(Kr,{open:h,onOpenChange:f,children:r.jsxs(kr,{children:[r.jsx(Ws,{children:r.jsx(ps,{children:"Track Your Order"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Enter your order number to see real-time status updates"}),r.jsx("div",{children:r.jsx(Me,{placeholder:"Enter order number or last 6 digits",value:m,onChange:P=>g(P.target.value),onKeyDown:P=>{P.key==="Enter"&&T()}})}),r.jsxs(re,{className:"w-full text-white",style:{backgroundColor:t},onClick:T,disabled:!m.trim(),children:[r.jsx(gi,{className:"w-4 h-4 mr-2"}),"Track Order"]})]})]})})]})},x1=x.createContext({});function qh(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const y1=typeof window<"u",v1=y1?x.useLayoutEffect:x.useEffect,rx=x.createContext(null);function b1(e,t){e.indexOf(t)===-1&&e.push(t)}function w1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xi=(e,t,n)=>n>t?t:n<e?e:n;let j1=()=>{};const Qi={},KM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function YM(e){return typeof e=="object"&&e!==null}const JM=e=>/^0[^.\s]+$/u.test(e);function S1(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=e=>e,Dse=(e,t)=>n=>t(e(n)),Gh=(...e)=>e.reduce(Dse),ih=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class N1{constructor(){this.subscriptions=[]}add(t){return b1(this.subscriptions,t),()=>w1(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=e=>e*1e3,ls=e=>e/1e3;function XM(e,t){return t?e*(1e3/t):0}const QM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Lse=1e-7,$se=12;function Fse(e,t,n,s,i){let a,o,c=0;do o=t+(n-t)/2,a=QM(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Lse&&++c<$se);return o}function Kh(e,t,n,s){if(e===t&&n===s)return us;const i=a=>Fse(a,0,1,e,n);return a=>a===0||a===1?a:QM(i(a),t,s)}const ZM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e4=e=>t=>1-e(1-t),t4=Kh(.33,1.53,.69,.99),_1=e4(t4),n4=ZM(_1),r4=e=>(e*=2)<1?.5*_1(e):.5*(2-Math.pow(2,-10*(e-1))),k1=e=>1-Math.sin(Math.acos(e)),s4=e4(k1),i4=ZM(k1),Use=Kh(.42,0,1,1),zse=Kh(0,0,.58,1),a4=Kh(.42,0,.58,1),Bse=e=>Array.isArray(e)&&typeof e[0]!="number",o4=e=>Array.isArray(e)&&typeof e[0]=="number",Vse={linear:us,easeIn:Use,easeInOut:a4,easeOut:zse,circIn:k1,circInOut:i4,circOut:s4,backIn:_1,backInOut:n4,backOut:t4,anticipate:r4},Wse=e=>typeof e=="string",E2=e=>{if(o4(e)){j1(e.length===4);const[t,n,s,i]=e;return Kh(t,n,s,i)}else if(Wse(e))return Vse[e];return e},Um=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Hse(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(f){o.has(f)&&(h.schedule(f),e()),f(c)}const h={schedule:(f,m=!1,g=!1)=>{const b=g&&i?n:s;return m&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(c=f,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(f))}};return h}const qse=40;function l4(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Um.reduce((C,T)=>(C[T]=Hse(a),C),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:y,postRender:b}=o,j=()=>{const C=Qi.useManualTiming?i.timestamp:performance.now();n=!1,Qi.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(C-i.timestamp,qse),1)),i.timestamp=C,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),g.process(i),y.process(i),b.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(j))},S=()=>{n=!0,s=!0,i.isProcessing||e(j)};return{schedule:Um.reduce((C,T)=>{const M=o[T];return C[T]=(P,E=!1,R=!1)=>(n||S(),M.schedule(P,E,R)),C},{}),cancel:C=>{for(let T=0;T<Um.length;T++)o[Um[T]].cancel(C)},state:i,steps:o}}const{schedule:It,cancel:Zi,state:Rn,steps:uv}=l4(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let gp;function Gse(){gp=void 0}const wr={now:()=>(gp===void 0&&wr.set(Rn.isProcessing||Qi.useManualTiming?Rn.timestamp:performance.now()),gp),set:e=>{gp=e,queueMicrotask(Gse)}},c4=e=>t=>typeof t=="string"&&t.startsWith(e),C1=c4("--"),Kse=c4("var(--"),E1=e=>Kse(e)?Yse.test(e.split("/*")[0].trim()):!1,Yse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ah={...pd,transform:e=>Xi(0,1,e)},zm={...pd,default:1},Eu=e=>Math.round(e*1e5)/1e5,T1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jse(e){return e==null}const Xse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P1=(e,t)=>n=>!!(typeof n=="string"&&Xse.test(n)&&n.startsWith(e)||t&&!Jse(n)&&Object.prototype.hasOwnProperty.call(n,t)),d4=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,c]=s.match(T1);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Qse=e=>Xi(0,255,e),hv={...pd,transform:e=>Math.round(Qse(e))},Uo={test:P1("rgb","red"),parse:d4("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+hv.transform(e)+", "+hv.transform(t)+", "+hv.transform(n)+", "+Eu(ah.transform(s))+")"};function Zse(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Hb={test:P1("#"),parse:Zse,transform:Uo.transform},Yh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ka=Yh("deg"),di=Yh("%"),We=Yh("px"),eie=Yh("vh"),tie=Yh("vw"),T2={...di,parse:e=>di.parse(e)/100,transform:e=>di.transform(e*100)},mc={test:P1("hsl","hue"),parse:d4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+di.transform(Eu(t))+", "+di.transform(Eu(n))+", "+Eu(ah.transform(s))+")"},dn={test:e=>Uo.test(e)||Hb.test(e)||mc.test(e),parse:e=>Uo.test(e)?Uo.parse(e):mc.test(e)?mc.parse(e):Hb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Uo.transform(e):mc.transform(e),getAnimatableNone:e=>{const t=dn.parse(e);return t.alpha=0,dn.transform(t)}},nie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rie(e){return isNaN(e)&&typeof e=="string"&&(e.match(T1)?.length||0)+(e.match(nie)?.length||0)>0}const u4="number",h4="color",sie="var",iie="var(",P2="${}",aie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace(aie,d=>(dn.test(d)?(s.color.push(a),i.push(h4),n.push(dn.parse(d))):d.startsWith(iie)?(s.var.push(a),i.push(sie),n.push(d)):(s.number.push(a),i.push(u4),n.push(parseFloat(d))),++a,P2)).split(P2);return{values:n,split:c,indexes:s,types:i}}function f4(e){return oh(e).values}function m4(e){const{split:t,types:n}=oh(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const c=n[o];c===u4?a+=Eu(i[o]):c===h4?a+=dn.transform(i[o]):a+=i[o]}return a}}const oie=e=>typeof e=="number"?0:dn.test(e)?dn.getAnimatableNone(e):e;function lie(e){const t=f4(e);return m4(e)(t.map(oie))}const Ga={test:rie,parse:f4,createTransformer:m4,getAnimatableNone:lie};function fv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cie({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;i=fv(d,c,e+1/3),a=fv(d,c,e),o=fv(d,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function rg(e,t){return n=>n>0?t:e}const Vt=(e,t,n)=>e+(t-e)*n,mv=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},die=[Hb,Uo,mc],uie=e=>die.find(t=>t.test(e));function R2(e){const t=uie(e);if(!t)return!1;let n=t.parse(e);return t===mc&&(n=cie(n)),n}const A2=(e,t)=>{const n=R2(e),s=R2(t);if(!n||!s)return rg(e,t);const i={...n};return a=>(i.red=mv(n.red,s.red,a),i.green=mv(n.green,s.green,a),i.blue=mv(n.blue,s.blue,a),i.alpha=Vt(n.alpha,s.alpha,a),Uo.transform(i))},qb=new Set(["none","hidden"]);function hie(e,t){return qb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fie(e,t){return n=>Vt(e,t,n)}function R1(e){return typeof e=="number"?fie:typeof e=="string"?E1(e)?rg:dn.test(e)?A2:gie:Array.isArray(e)?p4:typeof e=="object"?dn.test(e)?A2:mie:rg}function p4(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>R1(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function mie(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=R1(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function pie(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=e.values[o]??0;n[i]=c,s[a]++}return n}const gie=(e,t)=>{const n=Ga.createTransformer(t),s=oh(e),i=oh(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?qb.has(e)&&!i.values.length||qb.has(t)&&!s.values.length?hie(e,t):Gh(p4(pie(s,i),i.values),n):rg(e,t)};function g4(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Vt(e,t,n):R1(e)(e,t)}const xie=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>It.update(t,n),stop:()=>Zi(t),now:()=>Rn.isProcessing?Rn.timestamp:wr.now()}},x4=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sg=2e4;function A1(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<sg;)t+=n,s=e.next(t);return t>=sg?1/0:t}function yie(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(A1(s),sg);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:ls(i)}}const vie=5;function y4(e,t,n){const s=Math.max(t-vie,0);return XM(n-e(s),t-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pv=.001;function bie({duration:e=Kt.duration,bounce:t=Kt.bounce,velocity:n=Kt.velocity,mass:s=Kt.mass}){let i,a,o=1-t;o=Xi(Kt.minDamping,Kt.maxDamping,o),e=Xi(Kt.minDuration,Kt.maxDuration,ls(e)),o<1?(i=h=>{const f=h*o,m=f*e,g=f-n,y=Gb(h,o),b=Math.exp(-m);return pv-g/y*b},a=h=>{const m=h*o*e,g=m*n+n,y=Math.pow(o,2)*Math.pow(h,2)*e,b=Math.exp(-m),j=Gb(Math.pow(h,2),o);return(-i(h)+pv>0?-1:1)*((g-y)*b)/j}):(i=h=>{const f=Math.exp(-h*e),m=(h-n)*e+1;return-pv+f*m},a=h=>{const f=Math.exp(-h*e),m=(n-h)*(e*e);return f*m});const c=5/e,d=jie(i,a,c);if(e=ci(e),isNaN(d))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:e};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:o*2*Math.sqrt(s*h),duration:e}}}const wie=12;function jie(e,t,n){let s=n;for(let i=1;i<wie;i++)s=s-e(s)/t(s);return s}function Gb(e,t){return e*Math.sqrt(1-t*t)}const Sie=["duration","bounce"],Nie=["stiffness","damping","mass"];function I2(e,t){return t.some(n=>e[n]!==void 0)}function _ie(e){let t={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...e};if(!I2(e,Nie)&&I2(e,Sie))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Kt.mass,stiffness:i,damping:a}}else{const n=bie(e);t={...t,...n,mass:Kt.mass},t.isResolvedFromDuration=!0}return t}function ig(e=Kt.visualDuration,t=Kt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:y}=_ie({...n,velocity:-ls(n.velocity||0)}),b=g||0,j=h/(2*Math.sqrt(d*f)),S=o-a,_=ls(Math.sqrt(d/f)),N=Math.abs(S)<5;s||(s=N?Kt.restSpeed.granular:Kt.restSpeed.default),i||(i=N?Kt.restDelta.granular:Kt.restDelta.default);let C;if(j<1){const M=Gb(_,j);C=P=>{const E=Math.exp(-j*_*P);return o-E*((b+j*_*S)/M*Math.sin(M*P)+S*Math.cos(M*P))}}else if(j===1)C=M=>o-Math.exp(-_*M)*(S+(b+_*S)*M);else{const M=_*Math.sqrt(j*j-1);C=P=>{const E=Math.exp(-j*_*P),R=Math.min(M*P,300);return o-E*((b+j*_*S)*Math.sinh(R)+M*S*Math.cosh(R))/M}}const T={calculatedDuration:y&&m||null,next:M=>{const P=C(M);if(y)c.done=M>=m;else{let E=M===0?b:0;j<1&&(E=M===0?ci(b):y4(C,M,P));const R=Math.abs(E)<=s,q=Math.abs(o-P)<=i;c.done=R&&q}return c.value=c.done?o:P,c},toString:()=>{const M=Math.min(A1(T),sg),P=x4(E=>T.next(M*E).value,M,30);return M+"ms "+P},toTransition:()=>{}};return T}ig.applyToOptions=e=>{const t=yie(e,100,ig);return e.ease=t.ease,e.duration=ci(t.duration),e.type="keyframes",e};function Kb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:f}){const m=e[0],g={done:!1,value:m},y=R=>c!==void 0&&R<c||d!==void 0&&R>d,b=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let j=n*t;const S=m+j,_=o===void 0?S:o(S);_!==S&&(j=_-m);const N=R=>-j*Math.exp(-R/s),C=R=>_+N(R),T=R=>{const q=N(R),V=C(R);g.done=Math.abs(q)<=h,g.value=g.done?_:V};let M,P;const E=R=>{y(g.value)&&(M=R,P=ig({keyframes:[g.value,b(g.value)],velocity:y4(C,R,g.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return E(0),{calculatedDuration:null,next:R=>{let q=!1;return!P&&M===void 0&&(q=!0,T(R),E(R)),M!==void 0&&R>=M?P.next(R-M):(!q&&T(R),g)}}}function kie(e,t,n){const s=[],i=n||Qi.mix||g4,a=e.length-1;for(let o=0;o<a;o++){let c=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||us:t;c=Gh(d,c)}s.push(c)}return s}function v4(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(j1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=kie(t,s,i),d=c.length,h=f=>{if(o&&f<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const g=ih(e[m],e[m+1],f);return c[m](g)};return n?f=>h(Xi(e[0],e[a-1],f)):h}function Cie(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=ih(0,t,s);e.push(Vt(n,1,i))}}function Eie(e){const t=[0];return Cie(t,e.length-1),t}function Tie(e,t){return e.map(n=>n*t)}function Pie(e,t){return e.map(()=>t||a4).splice(0,e.length-1)}function Tu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Bse(s)?s.map(E2):E2(s),a={done:!1,value:t[0]},o=Tie(n&&n.length===t.length?n:Eie(t),e),c=v4(o,t,{ease:Array.isArray(i)?i:Pie(t,i)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const Rie=e=>e!==null;function I1(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(Rie),c=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const Aie={decay:Kb,inertia:Kb,tween:Tu,keyframes:Tu,spring:ig};function b4(e){typeof e.type=="string"&&(e.type=Aie[e.type])}class O1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Iie=e=>e/100;class sx extends O1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wr.now()&&this.tick(wr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b4(t);const{type:n=Tu,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const d=n||Tu;d!==Tu&&typeof c[0]!="number"&&(this.mixKeyframes=Gh(Iie,g4(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=A1(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:y,type:b,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,T=s;if(m){const R=Math.min(this.currentTime,i)/c;let q=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&q--,q=Math.min(q,m+1),!!(q%2)&&(g==="reverse"?(V=1-V,y&&(V-=y/c)):g==="mirror"&&(T=o)),C=Xi(0,1,V)*c}const M=N?{done:!1,value:f[0]}:T.next(C);a&&(M.value=a(M.value));let{done:P}=M;!N&&d!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return E&&b!==Kb&&(M.value=I1(f,this.options,S,this.speed)),j&&j(M.value),E&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ls(t)}get time(){return ls(this.currentTime)}set time(t){t=ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=xie,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Oie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zo=e=>e*180/Math.PI,Yb=e=>{const t=zo(Math.atan2(e[1],e[0]));return Jb(t)},Mie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yb,rotateZ:Yb,skewX:e=>zo(Math.atan(e[1])),skewY:e=>zo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jb=e=>(e=e%360,e<0&&(e+=360),e),O2=Yb,M2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),D2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Die={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M2,scaleY:D2,scale:e=>(M2(e)+D2(e))/2,rotateX:e=>Jb(zo(Math.atan2(e[6],e[5]))),rotateY:e=>Jb(zo(Math.atan2(-e[2],e[0]))),rotateZ:O2,rotate:O2,skewX:e=>zo(Math.atan(e[4])),skewY:e=>zo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xb(e){return e.includes("scale")?1:0}function Qb(e,t){if(!e||e==="none")return Xb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Die,i=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Mie,i=c}if(!i)return Xb(t);const a=s[t],o=i[1].split(",").map($ie);return typeof a=="function"?a(o):o[a]}const Lie=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Qb(n,t)};function $ie(e){return parseFloat(e.trim())}const gd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xd=new Set(gd),L2=e=>e===pd||e===We,Fie=new Set(["x","y","z"]),Uie=gd.filter(e=>!Fie.has(e));function zie(e){const t=[];return Uie.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Go={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qb(t,"x"),y:(e,{transform:t})=>Qb(t,"y")};Go.translateX=Go.x;Go.translateY=Go.y;const Ko=new Set;let Zb=!1,ew=!1,tw=!1;function w4(){if(ew){const e=Array.from(Ko).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=zie(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{s.getValue(a)?.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ew=!1,Zb=!1,Ko.forEach(e=>e.complete(tw)),Ko.clear()}function j4(){Ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ew=!0)})}function Bie(){tw=!0,j4(),w4(),tw=!1}class M1{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),Zb||(Zb=!0,It.read(j4),It.resolveKeyframes(w4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const c=s.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Oie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vie=e=>e.startsWith("--");function Wie(e,t,n){Vie(t)?e.style.setProperty(t,n):e.style[t]=n}const Hie=S1(()=>window.ScrollTimeline!==void 0),qie={};function Gie(e,t){const n=S1(e);return()=>qie[t]??n()}const S4=Gie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,$2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xu([0,.65,.55,1]),circOut:xu([.55,0,1,.45]),backIn:xu([.31,.01,.66,-.59]),backOut:xu([.33,1.53,.69,.99])};function N4(e,t){if(e)return typeof e=="function"?S4()?x4(e,t):"ease-out":o4(e)?xu(e):Array.isArray(e)?e.map(n=>N4(n,t)||$2.easeOut):$2[e]}function Kie(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const f={[t]:n};d&&(f.offset=d);const m=N4(c,i);Array.isArray(m)&&(f.easing=m);const g={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),e.animate(f,g)}function _4(e){return typeof e=="function"&&"applyToOptions"in e}function Yie({type:e,...t}){return _4(e)&&S4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Jie extends O1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,j1(typeof t.type!="string");const h=Yie(t);this.animation=Kie(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=I1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):Wie(n,s,f),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ls(t)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Hie()?(this.animation.timeline=t,us):n(this)}}const k4={anticipate:r4,backInOut:n4,circInOut:i4};function Xie(e){return e in k4}function Qie(e){typeof e.ease=="string"&&Xie(e.ease)&&(e.ease=k4[e.ease])}const F2=10;class Zie extends Jie{constructor(t){Qie(t),b4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new sx({...o,autoplay:!1}),d=ci(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-F2).value,c.sample(d).value,F2),c.stop()}}const U2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ga.test(e)||e==="0")&&!e.startsWith("url("));function eae(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function tae(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=U2(i,t),c=U2(a,t);return!o||!c?!1:eae(e)||(n==="spring"||_4(n))&&s}function nw(e){e.duration=0,e.type="keyframes"}const nae=new Set(["opacity","clipPath","filter","transform"]),rae=S1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sae(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return rae()&&n&&nae.has(n)&&(n!=="transform"||!h)&&!d&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const iae=40;class aae extends O1{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wr.now();const g={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:f,...m},y=f?.KeyframeResolver||M1;this.keyframeResolver=new y(c,(b,j,S)=>this.onKeyframesResolved(b,j,g,!S),d,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:f}=s;this.resolvedAt=wr.now(),tae(t,a,o,c)||((Qi.instantAnimations||!d)&&f?.(I1(t,s,n)),t[0]=t[t.length-1],nw(s),s.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>iae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},y=!h&&sae(g)?new Zie({...g,element:g.motionValue.owner.current}):new sx(g);y.finished.then(()=>this.notifyFinished()).catch(us),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Bie()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const oae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lae(e){const t=oae.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function C4(e,t,n=1){const[s,i]=lae(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return KM(o)?parseFloat(o):o}return E1(i)?C4(i,t,n+1):i}function D1(e,t){return e?.[t]??e?.default??e}const E4=new Set(["width","height","top","left","right","bottom",...gd]),cae={test:e=>e==="auto",parse:e=>e},T4=e=>t=>t.test(e),P4=[pd,We,di,ka,tie,eie,cae],z2=e=>P4.find(T4(e));function dae(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JM(e):!0}const uae=new Set(["brightness","contrast","saturate","opacity"]);function hae(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(T1)||[];if(!s)return e;const i=n.replace(s,"");let a=uae.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const fae=/\b([a-z-]*)\(.*?\)/gu,rw={...Ga,getAnimatableNone:e=>{const t=e.match(fae);return t?t.map(hae).join(" "):e}},B2={...pd,transform:Math.round},mae={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:zm,scaleX:zm,scaleY:zm,scaleZ:zm,skew:ka,skewX:ka,skewY:ka,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:ah,originX:T2,originY:T2,originZ:We},L1={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...mae,zIndex:B2,fillOpacity:ah,strokeOpacity:ah,numOctaves:B2},pae={...L1,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:rw,WebkitFilter:rw},R4=e=>pae[e];function A4(e,t){let n=R4(e);return n!==rw&&(n=Ga),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gae=new Set(["auto","none","0"]);function xae(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!gae.has(a)&&oh(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=A4(n,i)}class yae extends M1{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),E1(h))){const f=C4(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!E4.has(s)||t.length!==2)return;const[i,a]=t,o=z2(i),c=z2(a);if(o!==c)if(L2(o)&&L2(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Go[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||dae(t[i]))&&s.push(i);s.length&&xae(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Go[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function vae(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=n?.[e]??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const I4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function O4(e){return YM(e)&&"offsetHeight"in e}const V2=30,bae=e=>!isNaN(parseFloat(e)),Pu={current:void 0};class wae{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=wr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new N1);const s=this.events[t].add(n);return t==="change"?()=>{s(),It.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Pu.current&&Pu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>V2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V2);return XM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(e,t){return new wae(e,t)}const{schedule:$1}=l4(queueMicrotask,!1),Ps={x:!1,y:!1};function M4(){return Ps.x||Ps.y}function jae(e){return e==="x"||e==="y"?Ps[e]?null:(Ps[e]=!0,()=>{Ps[e]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function D4(e,t){const n=vae(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function W2(e){return!(e.pointerType==="touch"||M4())}function Sae(e,t,n={}){const[s,i,a]=D4(e,n),o=c=>{if(!W2(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const f=m=>{W2(m)&&(h(m),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,i)};return s.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const L4=(e,t)=>t?e===t?!0:L4(e,t.parentElement):!1,F1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Nae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _ae(e){return Nae.has(e.tagName)||e.tabIndex!==-1}const xp=new WeakSet;function H2(e){return t=>{t.key==="Enter"&&e(t)}}function gv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kae=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=H2(()=>{if(xp.has(n))return;gv(n,"down");const i=H2(()=>{gv(n,"up")}),a=()=>gv(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function q2(e){return F1(e)&&!M4()}function Cae(e,t,n={}){const[s,i,a]=D4(e,n),o=c=>{const d=c.currentTarget;if(!q2(c))return;xp.add(d);const h=t(d,c),f=(y,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),xp.has(d)&&xp.delete(d),q2(y)&&typeof h=="function"&&h(y,{success:b})},m=y=>{f(y,d===window||d===document||n.useGlobalTarget||L4(d,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),O4(c)&&(c.addEventListener("focus",h=>kae(h,i)),!_ae(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function $4(e){return YM(e)&&"ownerSVGElement"in e}function Eae(e){return $4(e)&&e.tagName==="svg"}function Tae(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],i=e[1+n],a=e[2+n],o=e[3+n],c=v4(i,a,o);return t?c(s):c}const Nn=e=>!!(e&&e.getVelocity);function Pae(e,t,n){const s=e.get();let i=null,a=s,o;const c=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},h=()=>{d(),i=new sx({keyframes:[K2(e.get()),K2(a)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o})};if(e.attach((f,m)=>{a=f,o=g=>m(G2(g,c)),It.postRender(h)},d),Nn(t)){const f=t.on("change",g=>e.set(G2(g,c))),m=e.on("destroy",f);return()=>{f(),m()}}return d}function G2(e,t){return t?e+t:e}function K2(e){return typeof e=="number"?e:parseFloat(e)}const Rae=[...P4,dn,Ga],Aae=e=>Rae.find(T4(e)),Jh=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Y2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Iae(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Y2(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Y2(e[i],null)}}}}function Oae(...e){return x.useCallback(Iae(...e),e)}class Mae extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=O4(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Dae({children:e,isPresent:t,anchorX:n,root:s}){const i=x.useId(),a=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=x.useContext(Jh),d=Oae(a,e?.ref);return x.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:g,right:y}=o.current;if(t||!a.current||!h||!f)return;const b=n==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=i;const j=document.createElement("style");c&&(j.nonce=c);const S=s??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),r.jsx(Mae,{isPresent:t,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:d})})}const Lae=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=qh($ae),f=x.useId();let m=!0,g=x.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:n,custom:i,onExitComplete:y=>{h.set(y,!0);for(const b of h.values())if(!b)return;s&&s()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,s]);return a&&m&&(g={...g}),x.useMemo(()=>{h.forEach((y,b)=>h.set(b,!1))},[n]),x.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(Dae,{isPresent:n,anchorX:c,root:d,children:e})),r.jsx(rx.Provider,{value:g,children:e})};function $ae(){return new Map}function F4(e=!0){const t=x.useContext(rx);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=x.useId();x.useEffect(()=>{if(e)return i(a)},[e]);const o=x.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Bm=e=>e.key||"";function J2(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const st=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,f]=F4(o),m=x.useMemo(()=>J2(e),[e]),g=o&&!h?[]:m.map(Bm),y=x.useRef(!0),b=x.useRef(m),j=qh(()=>new Map),[S,_]=x.useState(m),[N,C]=x.useState(m);v1(()=>{y.current=!1,b.current=m;for(let P=0;P<N.length;P++){const E=Bm(N[P]);g.includes(E)?j.delete(E):j.get(E)!==!0&&j.set(E,!1)}},[N,g.length,g.join("-")]);const T=[];if(m!==S){let P=[...m];for(let E=0;E<N.length;E++){const R=N[E],q=Bm(R);g.includes(q)||(P.splice(E,0,R),T.push(R))}return a==="wait"&&T.length&&(P=T),C(J2(P)),_(m),null}const{forceRender:M}=x.useContext(x1);return r.jsx(r.Fragment,{children:N.map(P=>{const E=Bm(P),R=o&&!h?!1:m===N||g.includes(E),q=()=>{if(j.has(E))j.set(E,!0);else return;let V=!0;j.forEach(Q=>{Q||(V=!1)}),V&&(M?.(),C(b.current),o&&f?.(),s&&s())};return r.jsx(Lae,{isPresent:R,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:R?void 0:q,anchorX:c,children:P},E)})})},U4=x.createContext({strict:!1}),X2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const e in X2)Vc[e]={isEnabled:t=>X2[e].some(n=>!!t[n])};function Fae(e){for(const t in e)Vc[t]={...Vc[t],...e[t]}}const Uae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ag(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Uae.has(e)}let z4=e=>!ag(e);function zae(e){typeof e=="function"&&(z4=t=>t.startsWith("on")?!ag(t):e(t))}try{zae(require("@emotion/is-prop-valid").default)}catch{}function Bae(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(z4(i)||n===!0&&ag(i)||!t&&!ag(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const ix=x.createContext({});function ax(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function lh(e){return typeof e=="string"||Array.isArray(e)}const U1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z1=["initial",...U1];function ox(e){return ax(e.animate)||z1.some(t=>lh(e[t]))}function B4(e){return!!(ox(e)||e.variants)}function Vae(e,t){if(ox(e)){const{initial:n,animate:s}=e;return{initial:n===!1||lh(n)?n:void 0,animate:lh(s)?s:void 0}}return e.inherit!==!1?t:{}}function Wae(e){const{initial:t,animate:n}=Vae(e,x.useContext(ix));return x.useMemo(()=>({initial:t,animate:n}),[Q2(t),Q2(n)])}function Q2(e){return Array.isArray(e)?e.join(" "):e}const ch={};function Hae(e){for(const t in e)ch[t]=e[t],C1(t)&&(ch[t].isCSSVariable=!0)}function V4(e,{layout:t,layoutId:n}){return xd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ch[e]||e==="opacity")}const qae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gae=gd.length;function Kae(e,t,n){let s="",i=!0;for(let a=0;a<Gae;a++){const o=gd[a],c=e[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=I4(c,L1[o]);if(!d){i=!1;const f=qae[o]||o;s+=`${f}(${h}) `}n&&(t[o]=h)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function B1(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,c=!1;for(const d in t){const h=t[d];if(xd.has(d)){o=!0;continue}else if(C1(d)){i[d]=h;continue}else{const f=I4(h,L1[d]);d.startsWith("origin")?(c=!0,a[d]=f):s[d]=f}}if(t.transform||(o||n?s.transform=Kae(t,e.transform,n):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${h} ${f}`}}const V1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W4(e,t,n){for(const s in t)!Nn(t[s])&&!V4(s,n)&&(e[s]=t[s])}function Yae({transformTemplate:e},t){return x.useMemo(()=>{const n=V1();return B1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Jae(e,t){const n=e.style||{},s={};return W4(s,n,e),Object.assign(s,Yae(e,t)),s}function Xae(e,t){const n={},s=Jae(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Qae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zae={offset:"strokeDashoffset",array:"strokeDasharray"};function eoe(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?Qae:Zae;e[a.offset]=We.transform(-s);const o=We.transform(t),c=We.transform(n);e[a.array]=`${o} ${c}`}function H4(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,f){if(B1(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&eoe(m,i,a,o,!1)}const q4=()=>({...V1(),attrs:{}}),G4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function toe(e,t,n,s){const i=x.useMemo(()=>{const a=q4();return H4(a,t,G4(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};W4(a,e.style,e),i.style={...a,...i.style}}return i}const noe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function W1(e){return typeof e!="string"||e.includes("-")?!1:!!(noe.indexOf(e)>-1||/[A-Z]/u.test(e))}function roe(e,t,n,{latestValues:s},i,a=!1){const c=(W1(e)?toe:Xae)(t,s,i,e),d=Bae(t,typeof e=="string",a),h=e!==x.Fragment?{...d,...c,ref:n}:{},{children:f}=t,m=x.useMemo(()=>Nn(f)?f.get():f,[f]);return x.createElement(e,{...h,children:m})}function Z2(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function H1(e,t,n,s){if(typeof t=="function"){const[i,a]=Z2(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Z2(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function yp(e){return Nn(e)?e.get():e}function soe({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:ioe(n,s,i,e),renderState:t()}}function ioe(e,t,n,s){const i={},a=s(e,{});for(const g in a)i[g]=yp(a[g]);let{initial:o,animate:c}=e;const d=ox(e),h=B4(e);t&&h&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!ax(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const b=H1(e,g[y]);if(b){const{transitionEnd:j,transition:S,..._}=b;for(const N in _){let C=_[N];if(Array.isArray(C)){const T=f?C.length-1:0;C=C[T]}C!==null&&(i[N]=C)}for(const N in j)i[N]=j[N]}}}return i}const K4=e=>(t,n)=>{const s=x.useContext(ix),i=x.useContext(rx),a=()=>soe(e,t,s,i);return n?a():qh(a)};function q1(e,t,n){const{style:s}=e,i={};for(const a in s)(Nn(s[a])||t.style&&Nn(t.style[a])||V4(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const aoe=K4({scrapeMotionValuesFromProps:q1,createRenderState:V1});function Y4(e,t,n){const s=q1(e,t,n);for(const i in e)if(Nn(e[i])||Nn(t[i])){const a=gd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const ooe=K4({scrapeMotionValuesFromProps:Y4,createRenderState:q4}),loe=Symbol.for("motionComponentSymbol");function pc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function coe(e,t,n){return x.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):pc(n)&&(n.current=s))},[t])}const G1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),doe="framerAppearId",J4="data-"+G1(doe),X4=x.createContext({});function uoe(e,t,n,s,i){const{visualElement:a}=x.useContext(ix),o=x.useContext(U4),c=x.useContext(rx),d=x.useContext(Jh).reducedMotion,h=x.useRef(null);s=s||o.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=x.useContext(X4);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&hoe(h.current,n,i,m);const g=x.useRef(!1);x.useInsertionEffect(()=>{f&&g.current&&f.update(n,c)});const y=n[J4],b=x.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return v1(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),f.enteringChildren=void 0)}),f}function hoe(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Q4(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&pc(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:d,layoutRoot:h})}function Q4(e){if(e)return e.options.allowProjection!==!1?e.projection:Q4(e.parent)}function xv(e,{forwardMotionProps:t=!1}={},n,s){n&&Fae(n);const i=W1(e)?ooe:aoe;function a(c,d){let h;const f={...x.useContext(Jh),...c,layoutId:foe(c)},{isStatic:m}=f,g=Wae(c),y=i(c,m);if(!m&&y1){moe();const b=poe(f);h=b.MeasureLayout,g.visualElement=uoe(e,y,f,s,b.ProjectionNode)}return r.jsxs(ix.Provider,{value:g,children:[h&&g.visualElement?r.jsx(h,{visualElement:g.visualElement,...f}):null,roe(e,c,coe(y,g.visualElement,d),y,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(a);return o[loe]=e,o}function foe({layoutId:e}){const t=x.useContext(x1).id;return t&&e!==void 0?t+"-"+e:e}function moe(e,t){x.useContext(U4).strict}function poe(e){const{drag:t,layout:n}=Vc;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function goe(e,t){if(typeof Proxy>"u")return xv;const n=new Map,s=(a,o)=>xv(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,xv(o,void 0,e,t)),n.get(o))})}function Z4({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function xoe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yoe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yv(e){return e===void 0||e===1}function sw({scale:e,scaleX:t,scaleY:n}){return!yv(e)||!yv(t)||!yv(n)}function Ao(e){return sw(e)||eD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eD(e){return eT(e.x)||eT(e.y)}function eT(e){return e&&e!=="0%"}function og(e,t,n){const s=e-n,i=t*s;return n+i}function tT(e,t,n,s,i){return i!==void 0&&(e=og(e,i,s)),og(e,n,s)+t}function iw(e,t=0,n=1,s,i){e.min=tT(e.min,t,n,s,i),e.max=tT(e.max,t,n,s,i)}function tD(e,{x:t,y:n}){iw(e.x,t.translate,t.scale,t.originPoint),iw(e.y,n.translate,n.scale,n.originPoint)}const nT=.999999999999,rT=1.0000000000001;function voe(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tD(e,o)),s&&Ao(a.latestValues)&&xc(e,a.latestValues))}t.x<rT&&t.x>nT&&(t.x=1),t.y<rT&&t.y>nT&&(t.y=1)}function gc(e,t){e.min=e.min+t,e.max=e.max+t}function sT(e,t,n,s,i=.5){const a=Vt(e.min,e.max,i);iw(e,t,n,a,s)}function xc(e,t){sT(e.x,t.x,t.scaleX,t.scale,t.originX),sT(e.y,t.y,t.scaleY,t.scale,t.originY)}function nD(e,t){return Z4(yoe(e.getBoundingClientRect(),t))}function boe(e,t,n){const s=nD(e,n),{scroll:i}=t;return i&&(gc(s.x,i.offset.x),gc(s.y,i.offset.y)),s}const iT=()=>({translate:0,scale:1,origin:0,originPoint:0}),yc=()=>({x:iT(),y:iT()}),aT=()=>({min:0,max:0}),tn=()=>({x:aT(),y:aT()}),aw={current:null},rD={current:!1};function woe(){if(rD.current=!0,!!y1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>aw.current=e.matches;e.addEventListener("change",t),t()}else aw.current=!1}const joe=new WeakMap;function Soe(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Nn(i))e.addValue(s,i);else if(Nn(a))e.addValue(s,al(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,al(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const oT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Noe{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=wr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,It.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=ox(n),this.isVariantNode=B4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const y=m[g];d[g]!==void 0&&Nn(y)&&y.set(d[g])}}mount(t){this.current=t,joe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),rD.current||woe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=xd.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&It.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vc){const n=Vc[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<oT.length;s++){const i=oT[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Soe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=al(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(KM(s)||JM(s))?s=parseFloat(s):!Aae(s)&&Ga.test(n)&&(s=A4(t,n)),this.setBaseTarget(t,Nn(s)?s.get():s)),Nn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=H1(this.props,n,this.presenceContext?.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Nn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new N1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){$1.render(this.render)}}class sD extends Noe{constructor(){super(...arguments),this.KeyframeResolver=yae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iD(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function _oe(e){return window.getComputedStyle(e)}class koe extends sD{constructor(){super(...arguments),this.type="html",this.renderInstance=iD}readValueFromInstance(t,n){if(xd.has(n))return this.projection?.isProjecting?Xb(n):Lie(t,n);{const s=_oe(t),i=(C1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nD(t,n)}build(t,n,s){B1(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return q1(t,n,s)}}const aD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Coe(e,t,n,s){iD(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(aD.has(i)?i:G1(i),t.attrs[i])}class Eoe extends sD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xd.has(n)){const s=R4(n);return s&&s.default||0}return n=aD.has(n)?n:G1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Y4(t,n,s)}build(t,n,s){H4(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){Coe(t,n,s,i)}mount(t){this.isSVGTag=G4(t.tagName),super.mount(t)}}const Toe=(e,t)=>W1(e)?new Eoe(t):new koe(t,{allowProjection:e!==x.Fragment});function Cc(e,t,n){const s=e.getProps();return H1(s,t,n!==void 0?n:s.custom,e)}const ow=e=>Array.isArray(e);function Poe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,al(n))}function Roe(e){return ow(e)?e[e.length-1]||0:e}function Aoe(e,t){const n=Cc(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const c=Roe(a[o]);Poe(e,o,c)}}function Ioe(e){return!!(Nn(e)&&e.add)}function lw(e,t){const n=e.getValue("willChange");if(Ioe(n))return n.add(t);if(!n&&Qi.WillChange){const s=new Qi.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function oD(e){return e.props[J4]}const Ooe=e=>e!==null;function Moe(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(Ooe),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const Doe={type:"spring",stiffness:500,damping:25,restSpeed:10},Loe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$oe={type:"keyframes",duration:.8},Foe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uoe=(e,{keyframes:t})=>t.length>2?$oe:xd.has(e)?e.startsWith("scale")?Loe(t[1]):Doe:Foe;function zoe({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const K1=(e,t,n,s={},i,a)=>o=>{const c=D1(s,e)||{},d=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-ci(d);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};zoe(c)||Object.assign(f,Uoe(e,f)),f.duration&&(f.duration=ci(f.duration)),f.repeatDelay&&(f.repeatDelay=ci(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(nw(f),f.delay===0&&(m=!0)),(Qi.instantAnimations||Qi.skipAnimations)&&(m=!0,nw(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const g=Moe(f.keyframes,c);if(g!==void 0){It.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new sx(f):new aae(f)};function Boe({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function lD(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;s&&(a=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,e.latestValues[f]??null),g=c[f];if(g===void 0||h&&Boe(h,f))continue;const y={delay:n,...D1(a||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===b&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const _=oD(e);if(_){const N=window.MotionHandoffAnimation(_,f,It);N!==null&&(y.startTime=N,j=!0)}}lw(e,f),m.start(K1(f,m,g,e.shouldReduceMotion&&E4.has(f)?{type:!1}:y,e,j));const S=m.animation;S&&d.push(S)}return o&&Promise.all(d).then(()=>{It.update(()=>{o&&Aoe(e,o)})}),d}function cD(e,t,n,s=0,i=1){const a=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:c-a*s}function cw(e,t,n={}){const s=Cc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(lD(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=i;return Voe(e,t,d,h,f,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,h]=c==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function Voe(e,t,n=0,s=0,i=0,a=1,o){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(cw(d,t,{...o,delay:n+(typeof s=="function"?0:s)+cD(e.variantChildren,d,s,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Woe(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>cw(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=cw(e,t,n);else{const i=typeof t=="function"?Cc(e,t,n.custom):t;s=Promise.all(lD(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function dD(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Hoe=z1.length;function uD(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?uD(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Hoe;n++){const s=z1[n],i=e.props[s];(lh(i)||i===!1)&&(t[s]=i)}return t}const qoe=[...U1].reverse(),Goe=U1.length;function Koe(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Woe(e,n,s)))}function Yoe(e){let t=Koe(e),n=lT(),s=!0;const i=d=>(h,f)=>{const m=Cc(e,f,d==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:y,...b}=m;h={...h,...b,...y}}return h};function a(d){t=d(e)}function o(d){const{props:h}=e,f=uD(e.parent)||{},m=[],g=new Set;let y={},b=1/0;for(let S=0;S<Goe;S++){const _=qoe[S],N=n[_],C=h[_]!==void 0?h[_]:f[_],T=lh(C),M=_===d?N.isActive:null;M===!1&&(b=S);let P=C===f[_]&&C!==h[_]&&T;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...y},!N.isActive&&M===null||!C&&!N.prevProp||ax(C)||typeof C=="boolean")continue;const E=Joe(N.prevProp,C);let R=E||_===d&&N.isActive&&!P&&T||S>b&&T,q=!1;const V=Array.isArray(C)?C:[C];let Q=V.reduce(i(_),{});M===!1&&(Q={});const{prevResolvedValues:G={}}=N,A={...G,...Q},J=B=>{R=!0,g.has(B)&&(q=!0,g.delete(B)),N.needsAnimating[B]=!0;const O=e.getValue(B);O&&(O.liveStyle=!1)};for(const B in A){const O=Q[B],Z=G[B];if(y.hasOwnProperty(B))continue;let H=!1;ow(O)&&ow(Z)?H=!dD(O,Z):H=O!==Z,H?O!=null?J(B):g.add(B):O!==void 0&&g.has(B)?J(B):N.protectedKeys[B]=!0}N.prevProp=C,N.prevResolvedValues=Q,N.isActive&&(y={...y,...Q}),s&&e.blockInitialAnimation&&(R=!1);const $=P&&E;R&&(!$||q)&&m.push(...V.map(B=>{const O={type:_};if(typeof B=="string"&&s&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,H=Cc(Z,B);if(Z.enteringChildren&&H){const{delayChildren:U}=H.transition||{};O.delay=cD(Z.enteringChildren,e,U)}}return{animation:B,options:O}}))}if(g.size){const S={};if(typeof h.initial!="boolean"){const _=Cc(e,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const N=e.getBaseTarget(_),C=e.getValue(_);C&&(C.liveStyle=!0),S[_]=N??null}),m.push({animation:S})}let j=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(j=!1),s=!1,j?t(m):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(d,h)),n[d].isActive=h;const f=o(d);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=lT()}}}function Joe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dD(t,e):!1}function To(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lT(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class so{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xoe extends so{constructor(t){super(t),t.animationState||(t.animationState=Yoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ax(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Qoe=0;class Zoe extends so{constructor(){super(...arguments),this.id=Qoe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ele={animation:{Feature:Xoe},exit:{Feature:Zoe}};function dh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Xh(e){return{point:{x:e.pageX,y:e.pageY}}}const tle=e=>t=>F1(t)&&e(t,Xh(t));function Ru(e,t,n,s){return dh(e,t,tle(n),s)}const hD=1e-4,nle=1-hD,rle=1+hD,fD=.01,sle=0-fD,ile=0+fD;function rr(e){return e.max-e.min}function ale(e,t,n){return Math.abs(e-t)<=n}function cT(e,t,n,s=.5){e.origin=s,e.originPoint=Vt(t.min,t.max,e.origin),e.scale=rr(n)/rr(t),e.translate=Vt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nle&&e.scale<=rle||isNaN(e.scale))&&(e.scale=1),(e.translate>=sle&&e.translate<=ile||isNaN(e.translate))&&(e.translate=0)}function Au(e,t,n,s){cT(e.x,t.x,n.x,s?s.originX:void 0),cT(e.y,t.y,n.y,s?s.originY:void 0)}function dT(e,t,n){e.min=n.min+t.min,e.max=e.min+rr(t)}function ole(e,t,n){dT(e.x,t.x,n.x),dT(e.y,t.y,n.y)}function uT(e,t,n){e.min=t.min-n.min,e.max=e.min+rr(t)}function Iu(e,t,n){uT(e.x,t.x,n.x),uT(e.y,t.y,n.y)}function as(e){return[e("x"),e("y")]}const mD=({current:e})=>e?e.ownerDocument.defaultView:null,hT=(e,t)=>Math.abs(e-t);function lle(e,t){const n=hT(e.x,t.x),s=hT(e.y,t.y);return Math.sqrt(n**2+s**2)}class pD{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=lle(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:j}=g,{timestamp:S}=Rn;this.history.push({...j,timestamp:S});const{onStart:_,onMove:N}=this.handlers;y||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vv(y,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bv(g.type==="pointercancel"?this.lastMoveEventInfo:vv(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,_),j&&j(g,_)},!F1(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=Xh(t),d=vv(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=Rn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,bv(d,this.history)),this.removeListeners=Gh(Ru(this.contextWindow,"pointermove",this.handlePointerMove),Ru(this.contextWindow,"pointerup",this.handlePointerUp),Ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function vv(e,t){return t?{point:t(e.point)}:e}function fT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bv({point:e},t){return{point:e,delta:fT(e,gD(t)),offset:fT(e,cle(t)),velocity:dle(t,.1)}}function cle(e){return e[0]}function gD(e){return e[e.length-1]}function dle(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=gD(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>ci(t)));)n--;if(!s)return{x:0,y:0};const a=ls(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ule(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Vt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Vt(n,e,s.max):Math.min(e,n)),e}function mT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hle(e,{top:t,left:n,bottom:s,right:i}){return{x:mT(e.x,n,i),y:mT(e.y,t,s)}}function pT(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function fle(e,t){return{x:pT(e.x,t.x),y:pT(e.y,t.y)}}function mle(e,t){let n=.5;const s=rr(e),i=rr(t);return i>s?n=ih(t.min,t.max-s,e.min):s>i&&(n=ih(e.min,e.max-i,t.min)),Xi(0,1,n)}function ple(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dw=.35;function gle(e=dw){return e===!1?e=0:e===!0&&(e=dw),{x:gT(e,"left","right"),y:gT(e,"top","bottom")}}function gT(e,t,n){return{min:xT(e,t),max:xT(e,n)}}function xT(e,t){return typeof e=="number"?e:e[t]||0}const xle=new WeakMap;class yle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xh(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:b,onDragStart:j}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jae(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(_=>{let N=this.getAxisMotionValue(_).get()||0;if(di.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const T=C.layout.layoutBox[_];T&&(N=rr(T)*(parseFloat(N)/100))}}this.originPoint[_]=N}),j&&It.postRender(()=>j(m,g)),lw(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:j,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=g;if(b&&this.currentDirection===null){this.currentDirection=vle(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),S&&S(m,g)},d=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>as(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new pD(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:mD(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&It.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Vm(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=ule(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&pc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=hle(s.layoutBox,t):this.constraints=!1,this.elastic=gle(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&as(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=ple(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pc(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=boe(s,i.root,this.visualElement.getTransformPagePoint());let o=fle(i.layout.layoutBox,a);if(n){const c=n(xoe(o));this.hasMutatedConstraints=!!c,c&&(o=Z4(c))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=as(f=>{if(!Vm(f,n,this.currentDirection))return;let m=d&&d[f]||{};o&&(m={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:s?t[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return lw(this.visualElement,t),s.start(K1(t,s,0,n,this.visualElement,!1))}stopAnimation(){as(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){as(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){as(n=>{const{drag:s}=this.getProps();if(!Vm(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(t[n]-Vt(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pc(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};as(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=mle({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),as(o=>{if(!Vm(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(Vt(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;xle.set(this.visualElement,this);const t=this.visualElement.current,n=Ru(t,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();pc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),It.read(s);const o=dh(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(as(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=d[f].translate,m.set(m.get()+d[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=dw,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Vm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vle(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ble extends so{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new yle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const yT=e=>(t,n)=>{e&&It.postRender(()=>e(t,n))};class wle extends so{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new pD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:yT(t),onStart:yT(n),onMove:s,onEnd:(a,o)=>{delete this.session,i&&It.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ru(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(We.test(e))e=parseFloat(e);else return e;const n=vT(e,t.target.x),s=vT(e,t.target.y);return`${n}% ${s}%`}},jle={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ga.parse(e);if(i.length>5)return s;const a=Ga.createTransformer(e),o=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;i[0+o]/=c,i[1+o]/=d;const h=Vt(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let wv=!1;class Sle extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;Hae(Nle),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),wv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,wv=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||It.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;wv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xD(e){const[t,n]=F4(),s=x.useContext(x1);return r.jsx(Sle,{...e,layoutGroup:s,switchLayoutGroup:x.useContext(X4),isPresent:t,safeToRemove:n})}const Nle={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:jle};function _le(e,t,n){const s=Nn(e)?e:al(e);return s.start(K1("",s,t,n)),s.animation}const kle=(e,t)=>e.depth-t.depth;class Cle{constructor(){this.children=[],this.isDirty=!1}add(t){b1(this.children,t),this.isDirty=!0}remove(t){w1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kle),this.isDirty=!1,this.children.forEach(t)}}function Ele(e,t){const n=wr.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Zi(s),e(a-t))};return It.setup(s,!0),()=>Zi(s)}const yD=["TopLeft","TopRight","BottomLeft","BottomRight"],Tle=yD.length,bT=e=>typeof e=="string"?parseFloat(e):e,wT=e=>typeof e=="number"||We.test(e);function Ple(e,t,n,s,i,a){i?(e.opacity=Vt(0,n.opacity??1,Rle(s)),e.opacityExit=Vt(t.opacity??1,0,Ale(s))):a&&(e.opacity=Vt(t.opacity??1,n.opacity??1,s));for(let o=0;o<Tle;o++){const c=`border${yD[o]}Radius`;let d=jT(t,c),h=jT(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||wT(d)===wT(h)?(e[c]=Math.max(Vt(bT(d),bT(h),s),0),(di.test(h)||di.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=Vt(t.rotate||0,n.rotate||0,s))}function jT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Rle=vD(0,.5,s4),Ale=vD(.5,.95,us);function vD(e,t,n){return s=>s<e?0:s>t?1:n(ih(e,t,s))}function ST(e,t){e.min=t.min,e.max=t.max}function is(e,t){ST(e.x,t.x),ST(e.y,t.y)}function NT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _T(e,t,n,s,i){return e-=t,e=og(e,1/n,s),i!==void 0&&(e=og(e,1/i,s)),e}function Ile(e,t=0,n=1,s=.5,i,a=e,o=e){if(di.test(t)&&(t=parseFloat(t),t=Vt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Vt(a.min,a.max,s);e===a&&(c-=t),e.min=_T(e.min,t,n,c,i),e.max=_T(e.max,t,n,c,i)}function kT(e,t,[n,s,i],a,o){Ile(e,t[n],t[s],t[i],t.scale,a,o)}const Ole=["x","scaleX","originX"],Mle=["y","scaleY","originY"];function CT(e,t,n,s){kT(e.x,t,Ole,n?n.x:void 0,s?s.x:void 0),kT(e.y,t,Mle,n?n.y:void 0,s?s.y:void 0)}function ET(e){return e.translate===0&&e.scale===1}function bD(e){return ET(e.x)&&ET(e.y)}function TT(e,t){return e.min===t.min&&e.max===t.max}function Dle(e,t){return TT(e.x,t.x)&&TT(e.y,t.y)}function PT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wD(e,t){return PT(e.x,t.x)&&PT(e.y,t.y)}function RT(e){return rr(e.x)/rr(e.y)}function AT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Lle{constructor(){this.members=[]}add(t){b1(this.members,t),t.scheduleRender()}remove(t){if(w1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $le(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:y,skewY:b}=n;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),g&&(s+=`rotateY(${g}deg) `),y&&(s+=`skewX(${y}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const jv=["","X","Y","Z"],Fle=1e3;let Ule=0;function Sv(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function jD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oD(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&jD(s)}function SD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},c=t?.()){this.id=Ule++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vle),this.nodes.forEach(Gle),this.nodes.forEach(Kle),this.nodes.forEach(Wle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cle)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N1),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=$4(o)&&!Eae(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;It.read(()=>{m=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=Ele(g,250),vp.hasAnimatedSinceResize&&(vp.hasAnimatedSinceResize=!1,this.nodes.forEach(MT)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||Zle,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=h.getProps(),_=!this.targetLayout||!wD(this.targetLayout,y),N=!m&&g;if(this.options.layoutRoot||this.resumeFrom||N||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...D1(b,"layout"),onPlay:j,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,N)}else m||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yle),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qle),this.nodes.forEach(zle),this.nodes.forEach(Ble)):this.nodes.forEach(OT),this.clearAllSnapshots();const c=wr.now();Rn.delta=Xi(0,1e3/60,c-Rn.timestamp),Rn.timestamp=c,Rn.isProcessing=!0,uv.update.process(Rn),uv.preRender.process(Rn),uv.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hle),this.sharedNodes.forEach(Jle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rr(this.snapshot.measuredBox.x)&&!rr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!bD(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||Ao(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),ece(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tn();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tce))){const{scroll:h}=this.root;h&&(gc(c.x,h.offset.x),gc(c.y,h.offset.y))}return c}removeElementScroll(o){const c=tn();if(is(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&is(c,o),gc(c.x,f.offset.x),gc(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=tn();is(d,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&xc(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ao(f.latestValues)&&xc(d,f.latestValues)}return Ao(this.latestValues)&&xc(d,this.latestValues),d}removeTransform(o){const c=tn();is(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Ao(h.latestValues))continue;sw(h.latestValues)&&h.updateSnapshot();const f=tn(),m=h.measurePageBox();is(f,m),CT(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Ao(this.latestValues)&&CT(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ole(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),tD(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Iu(this.relativeTargetOrigin,this.target,g.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sw(this.parent.latestValues)||eD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;is(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;voe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NT(this.prevProjectionDelta.x,this.projectionDelta.x),NT(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!AT(this.projectionDelta.x,this.prevProjectionDelta.x)||!AT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yc(),this.projectionDelta=yc(),this.projectionDeltaWithTransform=yc()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},m=yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=tn(),y=d?d.source:void 0,b=this.layout?this.layout.source:void 0,j=y!==b,S=this.getStack(),_=!S||S.members.length<=1,N=!!(j&&!_&&this.options.crossfade===!0&&!this.path.some(Qle));this.animationProgress=0;let C;this.mixTargetDelta=T=>{const M=T/1e3;DT(m.x,o.x,M),DT(m.y,o.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xle(this.relativeTarget,this.relativeTargetOrigin,g,M),C&&Dle(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=tn()),is(C,this.relativeTarget)),j&&(this.animationValues=f,Ple(f,h,this.latestValues,M,N,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{vp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=_le(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fle),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&ND(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||tn();const m=rr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const g=rr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}is(c,d),xc(c,f),Au(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Lle),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Sv("z",o,h,this.animationValues);for(let f=0;f<jv.length;f++)Sv(`rotate${jv[f]}`,o,h,this.animationValues),Sv(`skew${jv[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=yp(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=yp(c?.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=$le(this.projectionDeltaWithTransform,this.treeScale,f);d&&(m=d(f,m)),o.transform=m;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in ch){if(f[b]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:_}=ch[b],N=m==="none"?f[b]:j(f[b],h);if(S){const C=S.length;for(let T=0;T<C;T++)o[S[T]]=N}else _?this.options.visualElement.renderState.vars[b]=N:o[b]=N}this.options.layoutId&&(o.pointerEvents=h===this?yp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(IT),this.root.sharedNodes.clear()}}}function zle(e){e.updateLayout()}function Ble(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?as(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],g=rr(m);m.min=n[f].min,m.max=m.min+g}):ND(i,t.layoutBox,n)&&as(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],g=rr(n[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const o=yc();Au(o,n,t.layoutBox);const c=yc();a?Au(c,e.applyTransform(s,!0),t.measuredBox):Au(c,n,t.layoutBox);const d=!bD(o);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const y=tn();Iu(y,t.layoutBox,m.layoutBox);const b=tn();Iu(b,n,g.layoutBox),wD(y,b)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Vle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hle(e){e.clearSnapshot()}function IT(e){e.clearMeasurements()}function OT(e){e.isLayoutDirty=!1}function qle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gle(e){e.resolveTargetDelta()}function Kle(e){e.calcProjection()}function Yle(e){e.resetSkewAndRotation()}function Jle(e){e.removeLeadSnapshot()}function DT(e,t,n){e.translate=Vt(t.translate,0,n),e.scale=Vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function LT(e,t,n,s){e.min=Vt(t.min,n.min,s),e.max=Vt(t.max,n.max,s)}function Xle(e,t,n,s){LT(e.x,t.x,n.x,s),LT(e.y,t.y,n.y,s)}function Qle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zle={duration:.45,ease:[.4,0,.1,1]},$T=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),FT=$T("applewebkit/")&&!$T("chrome/")?Math.round:us;function UT(e){e.min=FT(e.min),e.max=FT(e.max)}function ece(e){UT(e.x),UT(e.y)}function ND(e,t,n){return e==="position"||e==="preserve-aspect"&&!ale(RT(t),RT(n),.2)}function tce(e){return e!==e.root&&e.scroll?.wasRoot}const nce=SD({attachResizeListener:(e,t)=>dh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nv={current:void 0},_D=SD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Nv.current){const e=new nce({});e.mount(window),e.setOptions({layoutScroll:!0}),Nv.current=e}return Nv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rce={pan:{Feature:wle},drag:{Feature:ble,ProjectionNode:_D,MeasureLayout:xD}};function zT(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&It.postRender(()=>a(t,Xh(t)))}class sce extends so{mount(){const{current:t}=this.node;t&&(this.unmount=Sae(t,(n,s)=>(zT(this.node,s,"Start"),i=>zT(this.node,i,"End"))))}unmount(){}}class ice extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gh(dh(this.node.current,"focus",()=>this.onFocus()),dh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BT(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&It.postRender(()=>a(t,Xh(t)))}class ace extends so{mount(){const{current:t}=this.node;t&&(this.unmount=Cae(t,(n,s)=>(BT(this.node,s,"Start"),(i,{success:a})=>BT(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uw=new WeakMap,_v=new WeakMap,oce=e=>{const t=uw.get(e.target);t&&t(e)},lce=e=>{e.forEach(oce)};function cce({root:e,...t}){const n=e||document;_v.has(n)||_v.set(n,{});const s=_v.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(lce,{root:e,...t})),s[i]}function dce(e,t,n){const s=cce(t);return uw.set(e,n),s.observe(e),()=>{uw.delete(e),s.unobserve(e)}}const uce={some:0,all:1};class hce extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:uce[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(d)};return dce(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fce(t,n))&&this.startObserver()}unmount(){}}function fce({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mce={inView:{Feature:hce},tap:{Feature:ace},focus:{Feature:ice},hover:{Feature:sce}},pce={layout:{ProjectionNode:_D,MeasureLayout:xD}},gce={...ele,...mce,...rce,...pce},W=goe(gce,Toe);function kD(e){const t=qh(()=>al(e)),{isStatic:n}=x.useContext(Jh);if(n){const[,s]=x.useState(e);x.useEffect(()=>t.on("change",s),[])}return t}function CD(e,t){const n=kD(t()),s=()=>n.set(t());return s(),v1(()=>{const i=()=>It.preRender(s,!1,!0),a=e.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Zi(s)}}),n}function xce(e){Pu.current=[],e();const t=CD(Pu.current,e);return Pu.current=void 0,t}function yce(e,t,n,s){if(typeof e=="function")return xce(e);const i=Tae(t,n,s);return Array.isArray(e)?VT(e,i):VT([e],([a])=>i(a))}function VT(e,t){const n=qh(()=>[]);return CD(e,()=>{n.length=0;const s=e.length;for(let i=0;i<s;i++)n[i]=e[i].get();return t(n)})}function vce(e,t={}){const{isStatic:n}=x.useContext(Jh),s=()=>Nn(e)?e.get():e;if(n)return yce(s);const i=kD(s());return x.useInsertionEffect(()=>Pae(i,e,t),[i,JSON.stringify(t)]),i}const bce=({message:e,brandColor:t,topOffset:n=0,onClose:s})=>{const[i,a]=x.useState(!0),o=()=>{a(!1),setTimeout(()=>{s?.()},250)};return r.jsx(st,{mode:"wait",children:i&&r.jsx(W.div,{initial:{height:40,opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"fixed top-0 left-0 right-0 z-50 w-full overflow-hidden",style:{backgroundColor:t,top:`${n}px`},children:r.jsxs("div",{className:"h-10 flex items-center justify-center px-4 text-white text-center relative",children:[r.jsx("p",{className:"text-sm",children:e}),r.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 hover:opacity-75 transition-opacity","aria-label":"Close announcement",children:r.jsx(ir,{className:"w-4 h-4"})})]})})})},wce=({brandColor:e,phone:t,address:n,onNavigate:s})=>null,jce="807a5c76-c690-4f78-b721-0cf9ba763f5d",Sce=({brandColor:e="#6B0F1A"})=>{const[t,n]=x.useState(""),[s,i]=x.useState(!1),[a,o]=x.useState(!1),[c,d]=x.useState(null),h=async f=>{if(f.preventDefault(),d(null),!t.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){d("Please enter a valid email address");return}o(!0);try{const{error:m}=await Fe.from("newsletter_subscribers").upsert({tenant_id:jce,email:t.toLowerCase().trim()},{onConflict:"tenant_id,email"});if(m){console.error("Newsletter signup error:",m),d("Something went wrong. Please try again.");return}i(!0),n(""),setTimeout(()=>{i(!1)},5e3)}catch(m){console.error("Newsletter signup error:",m),d("Something went wrong. Please try again.")}finally{o(!1)}};return r.jsx("div",{className:"w-full",children:r.jsx(st,{mode:"wait",children:s?r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},className:"flex items-center gap-2 p-3 rounded-lg bg-green-50 border border-green-200",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-500 flex-shrink-0",children:r.jsx(In,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Thanks! You're now subscribed."}),r.jsx("p",{className:"text-xs text-green-700",children:"We'll keep you updated on offers and events."})]})]},"success"):r.jsxs(W.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsxs("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{type:"email",placeholder:"Enter your email",value:t,onChange:f=>n(f.target.value),paddingLeft:40,className:"h-10 rounded-lg border-gray-300 focus-visible:ring-2 focus-visible:ring-offset-0",style:{"--tw-ring-color":e},required:!0})]}),r.jsx(re,{type:"submit",disabled:a,className:"h-10 px-6 rounded-lg text-white font-medium shadow-sm hover:opacity-90 transition-opacity whitespace-nowrap disabled:opacity-50",style:{backgroundColor:e},children:a?r.jsx(et,{className:"w-4 h-4 animate-spin"}):"Subscribe"})]}),c&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:c})]},"form")})})},Nce=({config:e,onNavigate:t})=>{const n=new Date().getFullYear(),[s,i]=x.useState(null);return x.useEffect(()=>{fetch("/version.json?"+Date.now()).then(a=>a.json()).then(a=>{a.version&&i(a.version)}).catch(()=>{})},[]),r.jsx("footer",{className:"bg-gray-50 border-t mt-12 sm:mt-16 pb-20 md:pb-8 safe-bottom",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.newsletter&&r.jsx("div",{className:"mb-8 sm:mb-12 pb-8 sm:pb-12 border-b",children:r.jsxs("div",{className:"max-w-2xl",children:[r.jsx("h3",{className:"mb-2 text-base sm:text-lg",children:"Stay in the loop "}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Join our mailing list for updates, offers, and events."}),r.jsx(Sce,{brandColor:e.theme.brand})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx(Cu,{brandName:e.name,size:"md",className:"mb-4"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.tagline}),r.jsx("div",{className:"flex gap-3",children:e.social.instagram&&r.jsx("a",{href:"https://www.instagram.com/shahirizadafreshmarket/",target:"_blank",rel:"noopener noreferrer",className:"w-11 h-11 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors","aria-label":"Instagram",children:r.jsx(nY,{className:"w-5 h-5"})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Quick Links"}),r.jsx("ul",{className:"space-y-2",children:[{label:"Products",path:"/products"},{label:"Order Online",path:"/order"},{label:"About Us",path:"/about"},{label:"Support",path:"/support"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}].map(a=>r.jsx("li",{children:r.jsx("button",{onClick:()=>t(a.path),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:a.label})},a.path))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Contact"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx(bn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:[e.address.line1,r.jsx("br",{}),e.address.city,", ",e.address.state," ",e.address.zip]})]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(sr,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("a",{href:`tel:${e.contact.phone}`,className:"text-gray-600 hover:text-gray-900",children:e.contact.phone})]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Mn,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("a",{href:`mailto:${e.contact.email}`,className:"text-gray-600 hover:text-gray-900",children:e.contact.email})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"More"}),r.jsxs("ul",{className:"space-y-2",children:[e.features.catering&&r.jsx("li",{children:r.jsx("button",{onClick:()=>t("/contact"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Catering"})}),e.features.giftCards&&r.jsx("li",{children:r.jsx("button",{onClick:()=>t("/gift-cards"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Gift Cards"})}),e.features.careers&&r.jsx("li",{children:r.jsx("button",{onClick:()=>t("/careers"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Careers"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>t("/privacy-policy"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Privacy Policy"})})]})]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t text-center text-sm text-gray-500",children:[r.jsxs("p",{children:[" ",n," ",e.name,". All rights reserved. Powered by"," ",r.jsx("a",{href:"https://tabsy.us/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-gray-900 underline transition-colors",children:"Tabsy"}),"."]}),s&&r.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["V",s]})]})]})})},_ce="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Kn(e){const[t,n]=x.useState(!1),[s,i]=x.useState(!0),a=()=>{n(!0),i(!1)},o=()=>{i(!1)},{src:c,alt:d,style:h,className:f,...m}=e;return t?r.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${f??""}`,style:h,children:r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx("img",{src:_ce,alt:"Error loading image",...m,"data-original-url":c})})}):r.jsxs("div",{className:"relative w-full h-full",children:[s&&r.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse ${f??""}`,style:h}),r.jsx("img",{src:c,alt:d,className:`${f??""} ${s?"opacity-0":"opacity-100"} transition-opacity duration-300`,style:h,...m,onError:a,onLoad:o})]})}const kce=({brandName:e,tagline:t,brandColor:n,heroImage:s,onOrderClick:i,onReserveClick:a})=>r.jsxs("div",{className:"relative h-[60vh] sm:h-[70vh] min-h-[400px] sm:min-h-[500px] max-h-[700px] overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx(Kn,{src:s,alt:`${e} hero`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60"})]}),r.jsx("div",{className:"relative h-full flex items-center justify-center",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-white mb-3 sm:mb-4",style:{fontSize:"clamp(1.75rem, 5vw, 3.5rem)",lineHeight:"1.15"},children:e}),r.jsx("p",{className:"text-white/90 mb-6 sm:mb-8 max-w-2xl mx-auto px-2",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",lineHeight:"1.5"},children:t}),r.jsx("div",{className:"flex justify-center items-center px-4",children:r.jsx(re,{size:"lg",className:"text-white hover:opacity-90 w-full sm:w-auto min-w-[160px] h-11 sm:h-12",style:{backgroundColor:n},onClick:i,children:"Order Now"})})]})})}),r.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 hidden md:block opacity-0 animate-fade-in",children:r.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex items-start justify-center p-2",children:r.jsx("div",{className:"w-1.5 h-1.5 bg-white/75 rounded-full animate-bounce-slow"})})})]}),Cce=Pj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,asChild:n=!1,...s}){const i=n?YI:"span";return r.jsx(i,{"data-slot":"badge",className:_e(Cce({variant:t}),e),...s})}const Ece=e=>{if(!e)return!1;const t=new Date,n=t.toLocaleString("en-US",{weekday:"long"}).toLowerCase(),s=t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),i=e.schedule[n];return!i||i.closed?!1:s>=i.open&&s<=i.close},Tce=e=>{if(!e)return"Hours not available";const n=new Date().toLocaleString("en-US",{weekday:"long"}).toLowerCase(),s=e.schedule[n];if(!s||s.closed)return"Closed Today";const i=a=>{const[o,c]=a.split(":"),d=parseInt(o),h=d>=12?"PM":"AM";return`${d>12?d-12:d===0?12:d}:${c} ${h}`};return`${i(s.open)} - ${i(s.close)}`},Pce=e=>e.replace(/(\+1\s?)?(\d{3})(\d{3})(\d{4})/,"($2) $3-$4"),ED=({hours:e,variant:t="inline",brandColor:n})=>{const s=Ece(e),i=Tce(e);return t==="card"?r.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Jt,{className:"w-5 h-5"}),r.jsx("span",{children:"Hours Today"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_t,{variant:s?"default":"secondary",style:s&&n?{backgroundColor:n}:{},className:s?"text-white":"",children:s?"Open Now":"Closed"}),r.jsx("span",{className:"text-sm text-gray-600",children:i})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_t,{variant:s?"default":"secondary",style:s&&n?{backgroundColor:n}:{},className:s?"text-white":"",children:s?"Open Now":"Closed"}),r.jsx("span",{className:"text-sm",children:i})]})},Rce=({brandColor:e})=>{const[t,n]=x.useState(0),s=[{id:1,name:"Sarah M.",rating:5,text:"Absolutely incredible food and service! The atmosphere is perfect for a date night or casual dinner. The seasonal menu always has something new to try.",date:"2 weeks ago"},{id:2,name:"Michael T.",rating:5,text:"Best brunch in Naperville! The avocado toast is a must-try. Staff is friendly and attentive. Will definitely be coming back.",date:"1 month ago"},{id:3,name:"Emily R.",rating:5,text:"This place never disappoints. Fresh ingredients, creative dishes, and the coffee is outstanding. Great spot for remote work too!",date:"3 weeks ago"}],i=()=>{n(o=>(o+1)%s.length)},a=()=>{n(o=>(o-1+s.length)%s.length)};return r.jsxs("div",{className:"relative bg-gray-50 rounded-2xl p-8 md:p-12",children:[r.jsx(DY,{className:"absolute top-6 left-6 w-12 h-12 opacity-10",style:{color:e}}),r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"mb-2",children:"What Our Customers Say"}),r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[[...Array(5)].map((o,c)=>r.jsx(Bt,{className:"w-5 h-5 fill-current",style:{color:e}},c)),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"(4.9 out of 5)"})]})]}),r.jsx("div",{className:"relative min-h-[200px] flex items-center",children:r.jsx(st,{mode:"wait",children:r.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"text-center",children:[r.jsxs("p",{className:"text-lg mb-4 italic text-gray-700",children:['"',s[t].text,'"']}),r.jsxs("div",{children:[r.jsx("p",{children:s[t].name}),r.jsx("p",{className:"text-sm text-gray-500",children:s[t].date})]})]},t)})}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[r.jsx(re,{variant:"outline",size:"icon",onClick:a,className:"rounded-full","aria-label":"Previous review",children:r.jsx(_K,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex gap-2",children:s.map((o,c)=>r.jsx("button",{onClick:()=>n(c),className:"w-2 h-2 rounded-full transition-all",style:{backgroundColor:c===t?e:"#d1d5db",width:c===t?"24px":"8px"},"aria-label":`Go to review ${c+1}`},c))}),r.jsx(re,{variant:"outline",size:"icon",onClick:i,className:"rounded-full","aria-label":"Next review",children:r.jsx(Ma,{className:"w-5 h-5"})})]})]})]})},TD=({address:e,brandColor:t})=>{const n=()=>{const i=`${e.line1}, ${e.city}, ${e.state} ${e.zip}`;return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(i)}`},s=()=>{const i=`${e.line1}, ${e.city}, ${e.state} ${e.zip}`;return`https://maps.google.com/maps?q=${encodeURIComponent(i)}&t=&z=15&ie=UTF8&iwloc=&output=embed`};return r.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border",children:[r.jsx("div",{className:"aspect-[16/9] bg-gray-100 relative",children:r.jsx("iframe",{src:s(),width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Shahirzada Fresh Market Location"})}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bn,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-600"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm",children:[e.line1,r.jsx("br",{}),e.city,", ",e.state," ",e.zip]})})]}),r.jsx("a",{href:n(),target:"_blank",rel:"noopener noreferrer",children:r.jsxs(re,{size:"sm",className:"text-white hover:opacity-90 flex-shrink-0",style:{backgroundColor:t},children:[r.jsx(Ku,{className:"w-4 h-4 mr-2"}),"Directions"]})})]})})]})},PD=({post:e,index:t=0,onClick:n,brandColor:s="#6B0F1A"})=>{const i=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),a=o=>({Recipe:"",Event:"",News:"",Guide:"","Behind the Scenes":""})[o]||"";return r.jsxs(W.article,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1,duration:.5},onClick:n,className:"group cursor-pointer bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300",children:[r.jsxs("div",{className:"aspect-[16/10] overflow-hidden bg-gray-100 relative",children:[r.jsx(Kn,{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),r.jsx("div",{className:"absolute top-3 sm:top-4 left-3 sm:left-4",children:r.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs text-white backdrop-blur-sm",style:{backgroundColor:`${s}E6`},children:[a(e.category)," ",e.category]})})]}),r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-2 sm:mb-3",children:[r.jsx(tl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),r.jsx("time",{dateTime:e.date,children:i(e.date)}),r.jsx("span",{children:""}),r.jsx("span",{className:"truncate",children:e.author})]}),r.jsx("h3",{className:"text-base sm:text-xl mb-2 line-clamp-2 group-hover:text-[var(--brand-color)] transition-colors",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.subtitle}),r.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:e.excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-sm group/link",children:[r.jsx("span",{className:"relative group-hover/link:underline",style:{color:s},children:"Read More"}),r.jsx(fs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",style:{color:s}})]})]})]})},Ace=({posts:e,brandColor:t="#6B0F1A",brandName:n,onNavigate:s,onPostClick:i})=>{const a=Array.isArray(e)?e:[],o=a.find(d=>d.featured),c=o?a.filter(d=>!d.featured).slice(0,6):a.slice(0,6);return r.jsxs("section",{className:"py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",style:{background:`linear-gradient(135deg, ${t} 0%, #ffffff 100%)`}}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("h2",{className:"mb-4 text-3xl md:text-4xl",children:"Recipes & Stories from Our Halal Market "}),r.jsxs("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:["Authentic recipes, expert guides, and tips using premium halal meats from ",n]})]}),o&&r.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-12",children:r.jsx("div",{className:"bg-white rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>i(o.slug),children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[r.jsxs("div",{className:"aspect-[4/3] md:aspect-auto bg-gray-100 relative overflow-hidden group",children:[r.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx("span",{className:"px-4 py-2 rounded-full text-sm text-white backdrop-blur-sm",style:{backgroundColor:`${t}E6`},children:" Featured"})})]}),r.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:new Date(o.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),r.jsx("h3",{className:"text-3xl mb-4",children:o.title}),r.jsx("p",{className:"text-gray-600 mb-6",children:o.excerpt}),r.jsx("span",{className:"text-sm font-medium inline-flex items-center gap-2 hover:underline",style:{color:t},children:"Read Full Story "})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:c.map((d,h)=>r.jsx(PD,{post:d,index:h,onClick:()=>i(d.slug),brandColor:t},d.id))}),a.length>6&&r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.5},className:"text-center",children:r.jsxs(re,{onClick:()=>s("/blog"),size:"lg",className:"group text-white hover:shadow-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:t},children:["View All Posts",r.jsx(fs,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})};function we({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:_e("bg-white text-gray-900 flex flex-col gap-6 rounded-xl border border-gray-200 shadow-sm",e),...t})}function La({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:_e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function $a({className:e,...t}){return r.jsx("h4",{"data-slot":"card-title",className:_e("leading-none",e),...t})}function Yo({className:e,...t}){return r.jsx("p",{"data-slot":"card-description",className:_e("text-gray-500",e),...t})}function pt({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:_e("px-6 [&:last-child]:pb-6",e),...t})}const Ice=({items:e,brandColor:t="#6B0F1A",brandName:n,onNavigate:s,onAddToCart:i,maxItems:a=6})=>{const o=Array.isArray(e)?e:[],c=o.slice(0,a),d=h=>h.includes("halal")?"":h.includes("vegan")?"":h.includes("vegetarian")?"":"";return r.jsxs("section",{className:"py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",style:{background:`linear-gradient(135deg, ${t} 0%, #ffffff 100%)`}}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("h2",{className:"mb-4 text-3xl md:text-4xl",children:"Premium Halal Products "}),r.jsxs("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:["Fresh, hand-cut halal meats and specialty items from ",n]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:c.map((h,f)=>r.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1,duration:.5},children:r.jsxs(we,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group cursor-pointer h-full flex flex-col",children:[r.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 relative",children:[r.jsx(Kn,{src:h.imageUrl||`https://source.unsplash.com/800x600/?${encodeURIComponent(h.image)}`,alt:h.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),h.popular&&r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-xs text-white backdrop-blur-sm",style:{backgroundColor:`${t}E6`},children:" Popular"})}),h.dietary&&h.dietary.length>0&&r.jsx("div",{className:"absolute top-4 right-4 flex gap-1",children:h.dietary.slice(0,2).map(m=>r.jsxs(_t,{variant:"secondary",className:"text-xs backdrop-blur-sm bg-white/90",children:[d([m])," ",m]},m))})]}),r.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"text-xl flex-1",children:h.name}),r.jsxs("span",{className:"ml-3 flex-shrink-0 text-xl",style:{color:t},children:["$",h.price.toFixed(2)]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 flex-1",children:h.description}),i&&r.jsxs(re,{onClick:m=>{m.stopPropagation(),i(h)},size:"sm",className:"w-full text-white hover:shadow-lg transition-all duration-300",style:{backgroundColor:t},children:[r.jsx(nl,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})]})},h.id))}),o.length>a&&r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3,duration:.5},className:"text-center",children:r.jsxs(re,{onClick:()=>s("/products"),size:"lg",className:"group text-white hover:shadow-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:t},children:["View Full Menu",r.jsx(fs,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})},Oce="/assets/91561fba6dae7cf749889433be54ebac61d2363d-fcT01K_1.png",Mce=({brandColor:e="#6B0F1A",onViewStars:t,onInviteFriend:n})=>r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 p-6 md:p-8 shadow-sm",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-md",style:{backgroundColor:e},children:r.jsx(Bt,{className:"w-6 h-6 fill-current"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Earn Stars on every order"}),r.jsxs("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:["$1 = ",ai,"   Rewards you'll actually love"]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-3 bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e}15`},children:r.jsx(Va,{className:"w-5 h-5",style:{color:e}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Every purchase counts"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Earn ",ai,"  for every $1 you spend. Redeem for exclusive rewards."]})]})]}),r.jsxs("div",{className:"flex items-start gap-3 bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e}15`},children:r.jsx(Nr,{className:"w-5 h-5",style:{color:e}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Share the love"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Invite a friend: You get +",mi," , they get +",Gr,"  on their first order."]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(re,{onClick:t,className:"flex-1 sm:flex-none text-white font-medium shadow-md hover:opacity-90 transition-opacity",style:{backgroundColor:e},children:[r.jsx(Bt,{className:"w-4 h-4 mr-2 fill-current"}),"View My Stars"]}),r.jsxs(re,{onClick:n,variant:"outline",className:"flex-1 sm:flex-none font-medium border-2 hover:bg-gray-50",style:{borderColor:e,color:e},children:[r.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Invite a Friend"]})]})]})});var Dce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lce=Dce.reduce((e,t)=>{const n=Mg(`Primitive.${t}`),s=x.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),$ce="Label",RD=x.forwardRef((e,t)=>r.jsx(Lce.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RD.displayName=$ce;var Fce=RD;function Le({className:e,...t}){return r.jsx(Fce,{"data-slot":"label",className:_e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var Uce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zce=Uce.reduce((e,t)=>{const n=Mg(`Primitive.${t}`),s=x.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Bce="Separator",WT="horizontal",Vce=["horizontal","vertical"],AD=x.forwardRef((e,t)=>{const{decorative:n,orientation:s=WT,...i}=e,a=Wce(s)?s:WT,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(zce.div,{"data-orientation":a,...c,...i,ref:t})});AD.displayName=Bce;function Wce(e){return Vce.includes(e)}var Hce=AD;function vr({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return r.jsx(Hce,{"data-slot":"separator-root",decorative:n,orientation:t,className:_e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}var lx="Collapsible",[qce,ID]=Cn(lx),[Gce,Y1]=qce(lx),OD=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:i,disabled:a,onOpenChange:o,...c}=e,[d,h]=_r({prop:s,defaultProp:i??!1,onChange:o,caller:lx});return r.jsx(Gce,{scope:n,disabled:a,contentId:hn(),open:d,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),children:r.jsx(ke.div,{"data-state":Z1(d),"data-disabled":a?"":void 0,...c,ref:t})})});OD.displayName=lx;var MD="CollapsibleTrigger",J1=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,i=Y1(MD,n);return r.jsx(ke.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Z1(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:t,onClick:ye(e.onClick,i.onOpenToggle)})});J1.displayName=MD;var X1="CollapsibleContent",Q1=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Y1(X1,e.__scopeCollapsible);return r.jsx(fn,{present:n||i.open,children:({present:a})=>r.jsx(Kce,{...s,ref:t,present:a})})});Q1.displayName=X1;var Kce=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:i,...a}=e,o=Y1(X1,n),[c,d]=x.useState(s),h=x.useRef(null),f=He(t,h),m=x.useRef(0),g=m.current,y=x.useRef(0),b=y.current,j=o.open||c,S=x.useRef(j),_=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(N)},[]),kn(()=>{const N=h.current;if(N){_.current=_.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();m.current=C.height,y.current=C.width,S.current||(N.style.transitionDuration=_.current.transitionDuration,N.style.animationName=_.current.animationName),d(s)}},[o.open,s]),r.jsx(ke.div,{"data-state":Z1(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!j,...a,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:j&&i})});function Z1(e){return e?"open":"closed"}var DD=OD,Yce=J1,Jce=Q1,Ks="Accordion",Xce=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[eS,Qce,Zce]=$g(Ks),[cx]=Cn(Ks,[Zce,ID]),tS=ID(),LD=ce.forwardRef((e,t)=>{const{type:n,...s}=e,i=s,a=s;return r.jsx(eS.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?r.jsx(rde,{...a,ref:t}):r.jsx(nde,{...i,ref:t})})});LD.displayName=Ks;var[$D,ede]=cx(Ks),[FD,tde]=cx(Ks,{collapsible:!1}),nde=ce.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},collapsible:a=!1,...o}=e,[c,d]=_r({prop:n,defaultProp:s??"",onChange:i,caller:Ks});return r.jsx($D,{scope:e.__scopeAccordion,value:ce.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:ce.useCallback(()=>a&&d(""),[a,d]),children:r.jsx(FD,{scope:e.__scopeAccordion,collapsible:a,children:r.jsx(UD,{...o,ref:t})})})}),rde=ce.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},...a}=e,[o,c]=_r({prop:n,defaultProp:s??[],onChange:i,caller:Ks}),d=ce.useCallback(f=>c((m=[])=>[...m,f]),[c]),h=ce.useCallback(f=>c((m=[])=>m.filter(g=>g!==f)),[c]);return r.jsx($D,{scope:e.__scopeAccordion,value:o,onItemOpen:d,onItemClose:h,children:r.jsx(FD,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(UD,{...a,ref:t})})})}),[sde,dx]=cx(Ks),UD=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:i,orientation:a="vertical",...o}=e,c=ce.useRef(null),d=He(c,t),h=Qce(n),m=vl(i)==="ltr",g=ye(e.onKeyDown,y=>{if(!Xce.includes(y.key))return;const b=y.target,j=h().filter(R=>!R.ref.current?.disabled),S=j.findIndex(R=>R.ref.current===b),_=j.length;if(S===-1)return;y.preventDefault();let N=S;const C=0,T=_-1,M=()=>{N=S+1,N>T&&(N=C)},P=()=>{N=S-1,N<C&&(N=T)};switch(y.key){case"Home":N=C;break;case"End":N=T;break;case"ArrowRight":a==="horizontal"&&(m?M():P());break;case"ArrowDown":a==="vertical"&&M();break;case"ArrowLeft":a==="horizontal"&&(m?P():M());break;case"ArrowUp":a==="vertical"&&P();break}const E=N%_;j[E].ref.current?.focus()});return r.jsx(sde,{scope:n,disabled:s,direction:i,orientation:a,children:r.jsx(eS.Slot,{scope:n,children:r.jsx(ke.div,{...o,"data-orientation":a,ref:d,onKeyDown:s?void 0:g})})})}),lg="AccordionItem",[ide,nS]=cx(lg),zD=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...i}=e,a=dx(lg,n),o=ede(lg,n),c=tS(n),d=hn(),h=s&&o.value.includes(s)||!1,f=a.disabled||e.disabled;return r.jsx(ide,{scope:n,open:h,disabled:f,triggerId:d,children:r.jsx(DD,{"data-orientation":a.orientation,"data-state":GD(h),...c,...i,ref:t,disabled:f,open:h,onOpenChange:m=>{m?o.onItemOpen(s):o.onItemClose(s)}})})});zD.displayName=lg;var BD="AccordionHeader",VD=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=dx(Ks,n),a=nS(BD,n);return r.jsx(ke.h3,{"data-orientation":i.orientation,"data-state":GD(a.open),"data-disabled":a.disabled?"":void 0,...s,ref:t})});VD.displayName=BD;var hw="AccordionTrigger",WD=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=dx(Ks,n),a=nS(hw,n),o=tde(hw,n),c=tS(n);return r.jsx(eS.ItemSlot,{scope:n,children:r.jsx(Yce,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...c,...s,ref:t})})});WD.displayName=hw;var HD="AccordionContent",qD=ce.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=dx(Ks,n),a=nS(HD,n),o=tS(n);return r.jsx(Jce,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});qD.displayName=HD;function GD(e){return e?"open":"closed"}var ade=LD,ode=zD,lde=VD,cde=WD,dde=qD;function rS({...e}){return r.jsx(ade,{"data-slot":"accordion",...e})}function Di({className:e,...t}){return r.jsx(ode,{"data-slot":"accordion-item",className:_e("border-b last:border-b-0",e),...t})}function Li({className:e,children:t,...n}){return r.jsx(lde,{className:"flex",children:r.jsxs(cde,{"data-slot":"accordion-trigger",className:_e("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,r.jsx(Mi,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function $i({className:e,children:t,...n}){return r.jsx(dde,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:r.jsx("div",{className:_e("pt-0 pb-4",e),children:t})})}const ude=({brandColor:e="#6B0F1A",initialEmail:t,initialPhone:n,onClose:s})=>{const[i,a]=x.useState(t||""),[o,c]=x.useState(n||""),[d,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,j]=x.useState(!t&&!n);x.useEffect(()=>{(t||n)&&S(t,n)},[t,n]);const S=async(C,T)=>{y(!0);try{await new Promise(E=>setTimeout(E,500));const M=Mh(C,T);h(M);const P=Wa.getEventsByProfile(M.id);m(P),j(!1)}catch(M){console.error("Error loading profile:",M)}finally{y(!1)}},_=C=>{if(C.preventDefault(),!i&&!o){alert("Please enter your email or phone number");return}S(i||void 0,o||void 0)},N=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r.jsx(st,{children:r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:s,children:r.jsxs(W.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:25},onClick:C=>C.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"p-6 text-white relative",style:{backgroundColor:e},children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/20 transition-colors","aria-label":"Close",children:r.jsx(ir,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Bt,{className:"w-8 h-8 fill-current"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Your Stars"})]}),d&&r.jsxs(W.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mt-4",children:[r.jsx("div",{className:"text-5xl font-bold mb-1",children:d.stars.toLocaleString()}),r.jsx("p",{className:"text-white/90 text-sm",children:"stars available"})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:b?r.jsxs(we,{className:"p-6",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Enter your email or phone to view your stars balance"}),r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:C=>a(C.target.value),className:"pl-10"})]})]}),r.jsx("div",{className:"text-center text-sm text-gray-500",children:"or"}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"phone",children:"Phone"}),r.jsxs("div",{className:"relative",children:[r.jsx(sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{id:"phone",type:"tel",placeholder:"+1 (555) 000-0000",value:o,onChange:C=>c(C.target.value),className:"pl-10"})]})]}),r.jsx(re,{type:"submit",className:"w-full text-white",style:{backgroundColor:e},disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):"View My Stars"})]})]}):d?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Og,{className:"w-4 h-4",style:{color:e}}),"Recent Activity"]}),f.length===0?r.jsxs(we,{className:"p-6 text-center text-gray-500",children:[r.jsx(Bt,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No stars yet. Place your first order to start earning!"}),d.referredBy&&r.jsxs("p",{className:"text-xs mt-2 text-gray-400",children:["You'll earn +",Gr,"  bonus on your first order!"]})]}):r.jsx("div",{className:"space-y-2",children:f.slice(0,5).map(C=>r.jsx(we,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:C.description}),r.jsx("p",{className:"text-xs text-gray-500",children:N(C.createdAt)})]}),r.jsxs("div",{className:"flex items-center gap-1 font-semibold",style:{color:e},children:[r.jsxs("span",{children:["+",C.stars]}),r.jsx(Bt,{className:"w-4 h-4 fill-current"})]})]})},C.id))})]}),r.jsx(vr,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"How It Works"}),r.jsxs(rS,{type:"single",collapsible:!0,className:"w-full",children:[r.jsxs(Di,{value:"earn",children:[r.jsx(Li,{className:"text-sm",children:"How do I earn stars?"}),r.jsxs($i,{className:"text-sm text-gray-600",children:["Earn ",ai,"  for every $1 you spend on orders. Stars are automatically added to your account after each purchase."]})]}),r.jsxs(Di,{value:"referral",children:[r.jsx(Li,{className:"text-sm",children:"What about referral bonuses?"}),r.jsxs($i,{className:"text-sm text-gray-600",children:["Invite friends to earn bonus stars! When someone uses your referral link and completes their first order (minimum $10), you'll receive +",mi,"  and they'll get +",Gr," ."]})]}),r.jsxs(Di,{value:"redeem",children:[r.jsx(Li,{className:"text-sm",children:"How do I redeem stars?"}),r.jsx($i,{className:"text-sm text-gray-600",children:"Check the rewards catalog to see available rewards. You can redeem stars for free items, discounts, and exclusive offers at checkout."})]})]})]})]}):null})]})})})},hde=({brandColor:e="#6B0F1A",brandName:t,email:n,phone:s,onClose:i})=>{const[a,o]=x.useState(""),[c,d]=x.useState(""),[h,f]=x.useState(!1),[m,g]=x.useState(!1);x.useEffect(()=>{if(n||s){const _=Bj(n,s);o(_),d(Oh(_))}},[n,s]);const y=async()=>{try{await navigator.clipboard.writeText(c),f(!0),setTimeout(()=>f(!1),2e3)}catch(_){console.error("Failed to copy:",_)}},b=()=>{window.location.href=Vj(a,t)},j=()=>{window.open(Wj(a,t),"_blank")},S=_=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(_)}`;return!n&&!s?r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:i,children:r.jsxs(we,{className:"p-6 max-w-md w-full",onClick:_=>_.stopPropagation(),children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Please view your stars wallet first to create a referral link."}),r.jsx(re,{onClick:i,className:"w-full",children:"Close"})]})}):r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:i,children:r.jsxs(W.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:25},onClick:_=>_.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[r.jsxs("div",{className:"p-6 text-white relative",style:{backgroundColor:e},children:[r.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/20 transition-colors","aria-label":"Close",children:r.jsx(ir,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(HI,{className:"w-8 h-8"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Invite Friends"}),r.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Share the joy, earn rewards together"})]})]})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-4 border border-amber-200",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",style:{color:e},children:["+",Gr," "]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Your friend gets"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold",style:{color:e},children:["+",mi," "]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You get"})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your referral link"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Me,{value:c,readOnly:!0,className:"flex-1 font-mono text-sm"}),r.jsx(re,{onClick:y,className:"text-white",style:{backgroundColor:e},children:h?r.jsxs(r.Fragment,{children:[r.jsx(In,{className:"w-4 h-4 mr-2"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(LI,{className:"w-4 h-4 mr-2"}),"Copy"]})})]})]}),r.jsxs("div",{children:[r.jsxs(re,{variant:"outline",onClick:()=>g(!m),className:"w-full",children:[r.jsx(BI,{className:"w-4 h-4 mr-2"}),m?"Hide QR Code":"Show QR Code"]}),m&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 flex justify-center",children:r.jsx("img",{src:S(c),alt:"Referral QR Code",className:"rounded-lg border-2 border-gray-200"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Share via"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(re,{variant:"outline",onClick:b,className:"w-full",children:[r.jsx(Uc,{className:"w-4 h-4 mr-2"}),"SMS"]}),r.jsxs(re,{variant:"outline",onClick:j,className:"w-full",style:{color:"#25D366"},children:[r.jsx(Uc,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]}),r.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 rounded-lg p-3",children:r.jsxs("p",{children:[r.jsx("strong",{children:"How it works:"})," You'll receive +",mi,"  when your friend completes their first order (minimum $10). They'll get +",Gr,"  on that order."]})})]})]})})},uh={},fde=Symbol((uh?"production":void 0)!=="production"?"RESET":""),KD=e=>typeof e?.then=="function";function mde(e=()=>{try{return window.localStorage}catch(n){(uh?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let s,i;const a={getItem:(d,h)=>{var f,m;const g=b=>{if(b=b||"",s!==b){try{i=JSON.parse(b,t?.reviver)}catch{return h}s=b}return i},y=(m=(f=e())==null?void 0:f.getItem(d))!=null?m:null;return KD(y)?y.then(g):g(y)},setItem:(d,h)=>{var f;return(f=e())==null?void 0:f.setItem(d,JSON.stringify(h,void 0))},removeItem:d=>{var h;return(h=e())==null?void 0:h.removeItem(d)}},o=d=>(h,f,m)=>d(h,g=>{let y;try{y=JSON.parse(g||"")}catch{y=m}f(y)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(d,h)=>{if(!(e()instanceof window.Storage))return()=>{};const f=m=>{m.storageArea===e()&&m.key===d&&h(m.newValue)};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}}),c&&(a.subscribe=o(c)),a}const pde=mde();function Er(e,t,n=pde,s){const i=be(t);return(uh?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=o=>{o(n.getItem(e,t));let c;return n.subscribe&&(c=n.subscribe(e,o,t)),c},be(o=>o(i),(o,c,d)=>{const h=typeof d=="function"?d(o(i)):d;return h===fde?(c(i,t),n.removeItem(e)):KD(h)?h.then(f=>(c(i,f),n.setItem(e,f))):(c(i,h),n.setItem(e,h))})}const kv=new WeakMap,gde=(e,t)=>(kv.has(t)?kv:kv.set(t,e())).get(t),xde=e=>typeof e?.then=="function",HT={state:"loading"};function yde(e){return gde(()=>{const t=new WeakMap,n=be(0);(uh?"production":void 0)!=="production"&&(n.debugPrivate=!0);const s=be((i,{setSelf:a})=>{i(n);let o;try{o=i(e)}catch(f){return{state:"hasError",error:f}}if(!xde(o))return{state:"hasData",data:o};const c=o,d=t.get(c);if(d)return d;c.then(f=>{t.set(c,{state:"hasData",data:f}),a()},f=>{t.set(c,{state:"hasError",error:f}),a()});const h=t.get(c);return h||(t.set(c,HT),HT)},(i,a)=>{a(n,o=>o+1)});return(uh?"production":void 0)!=="production"&&(s.debugPrivate=!0),be(i=>i(s))},e)}const cg=.01,vde=.029,bde=30,Ls=2e3;function yd(e){return!Number.isFinite(e)||e<=0?0:Math.max(Math.round(e*vde+bde),0)}function wde(e,t=cg){if(!Number.isFinite(e)||e<=0)return 0;const n=t>0?t:cg;return Math.max(Math.round(e*n),0)}const Ka=be(null),qT=be(!1),GT=be(null),ux=be(e=>e(Ka)?.pricing||null),sS=be(e=>e(ux)?.tax_rate??.0875),jde=be(e=>e(ux)?.service_fee_rate??0);be(e=>e(ux)?.currency??"USD");const Sde=be(e=>e(Ka)?.stripe||null),Nde=be(e=>e(Sde)?.publishableKey??null),_de=be(e=>e(Ka)?.integrations?.googleMaps?.apiKey||void 0);be(e=>{const t=e(ux);return n=>{if(!t)return 0;const{delivery_fees:s}=t;return n<=s.zone_1_miles?s.zone_1_fee:n<=s.zone_2_miles?s.zone_2_fee:n<=s.zone_3_miles?s.zone_3_fee:0}});be(null,async(e,t)=>{t(qT,!0),t(GT,null);try{const n=await fetch("/data/sample/config.json");if(!n.ok)throw new Error(`Failed to load config: ${n.statusText}`);const s=await n.json();if(!s.name||!s.pricing)throw new Error("Invalid config: missing required fields");try{const i=await fetch(DZ("/config"),{headers:{apikey:Nt}});if(i.ok){const a=await i.json();a.stripe?.publishableKey&&(s.stripe={publishableKey:a.stripe.publishableKey,connectAccountId:a.stripe.connectAccountId||s.stripe?.connectAccountId,applicationFeePercent:s.stripe?.applicationFeePercent||1})}}catch(i){console.warn("Failed to load Edge Function config, using local config:",i)}t(Ka,s)}catch(n){const s=n instanceof Error?n.message:"Unknown error loading config";t(GT,s),console.error("Failed to load config:",n)}finally{t(qT,!1)}});be(null,(e,t,n)=>{const s=e(Ka);if(!s)throw new Error("Config not loaded");t(Ka,{...s,pricing:{...s.pricing,...n}})});be(null,(e,t,n)=>{const s=e(Ka);if(!s)throw new Error("Config not loaded");t(Ka,{...s,stripe:{...s.stripe||{publishableKey:"",connectAccountId:"",applicationFeePercent:1},...n}})});const fw="each",Wm={lb:"lb",lbs:"lb",pound:"lb",pounds:"lb",oz:"oz",ounce:"oz",ounces:"oz",floz:"oz","fl oz":"oz",fluidounce:"oz",each:"each",pack:"pack",dozen:"dozen",kg:"kg",g:"g",l:"l",liter:"l",litres:"l",litre:"l",liters:"l",ltr:"l",ml:"ml",milliliter:"ml",milliliters:"ml",millilitre:"ml",millilitres:"ml"},mw={lb:{unit:"lb",isWeight:!0,decimals:2,step:.25,min:.25,priceSuffix:"/lb",ariaSuffix:"per pound",quantityLabel:"Weight (lb)",quantitySuffix:"lb"},oz:{unit:"oz",isWeight:!0,decimals:2,step:4,min:4,priceSuffix:"/oz",ariaSuffix:"per ounce",quantityLabel:"Weight (oz)",quantitySuffix:"oz"},kg:{unit:"kg",isWeight:!0,decimals:2,step:.5,min:1,priceSuffix:"/kg",ariaSuffix:"per kilogram",quantityLabel:"Weight (kg)",quantitySuffix:"kg"},g:{unit:"g",isWeight:!0,decimals:0,step:50,min:50,priceSuffix:"/g",ariaSuffix:"per gram",quantityLabel:"Weight (g)",quantitySuffix:"g"},each:{unit:"each",isWeight:!1,decimals:0,step:1,min:1,priceSuffix:"each",ariaSuffix:"each",quantityLabel:"Quantity",quantitySuffix:""},pack:{unit:"pack",isWeight:!1,decimals:0,step:1,min:1,priceSuffix:"per pack",ariaSuffix:"per pack",quantityLabel:"Packs",quantitySuffix:"pack"},dozen:{unit:"dozen",isWeight:!1,decimals:0,step:1,min:1,priceSuffix:"per dozen",ariaSuffix:"per dozen",quantityLabel:"Dozens",quantitySuffix:"dozen"},l:{unit:"l",isWeight:!0,decimals:2,step:.5,min:1,priceSuffix:"/L",ariaSuffix:"per liter",quantityLabel:"Volume (L)",quantitySuffix:"L"},ml:{unit:"ml",isWeight:!0,decimals:0,step:50,min:50,priceSuffix:"/mL",ariaSuffix:"per milliliter",quantityLabel:"Volume (mL)",quantitySuffix:"mL"}},KT=e=>e.includes(".")?e.replace(/\.0+$/,"").replace(/(\.[0-9]*?)0+$/,"$1").replace(/\.$/,""):e;function yi(e){if(!e)return fw;const t=e.trim().toLowerCase().replace(/\./g,""),n=t.replace(/\s+/g,"");return Wm[t]?Wm[t]:Wm[n]?Wm[n]:t in mw?t:fw}const vi=e=>{const t=yi(e);return mw[t]??mw[fw]};function hx(e){return vi(e).isWeight}function iS(e){return vi(e).step}function fx(e){return vi(e).min}function mx(e,t){const n=vi(e);if(t&&t.trim()){const s=t.trim();return s.toLowerCase()===n.unit.toLowerCase()?n.priceSuffix:s}return n.priceSuffix}function kde(e,t){const n=vi(e);if(t&&t.trim()){const s=t.trim();return s.toLowerCase()===n.unit.toLowerCase()?n.ariaSuffix:s}return n.ariaSuffix}function Aa(e,t){const n=vi(t);return n.isWeight?KT(e.toFixed(n.decimals)):Number.isInteger(e)?e.toString():KT(e.toFixed(2))}function Ya(e,t){const n=vi(t),s=Aa(e,t);return n.isWeight?`${s} ${n.quantitySuffix}`.trim():n.quantitySuffix?`${s} ${n.quantitySuffix}`.trim():s}function px(e){return vi(e).decimals}function aS(e){return vi(e).quantitySuffix}function YD(e,t){const n=yi(t),s=vi(n),i=Ya(e,n);return s.isWeight?{quantity:1,rawQuantity:Number(e.toFixed(s.decimals)),descriptionSuffix:`(${i})`,unit:n,quantityDisplay:i,isWeightBased:!0}:{quantity:Math.max(1,Math.ceil(e)),rawQuantity:Math.max(1,Math.ceil(e)),descriptionSuffix:void 0,unit:n,quantityDisplay:i,isWeightBased:!1}}const Cde="tabsy-promo-code",Ede="tabsy-promo-info",Tde="tabsy-promo-discount",JD=Er(Cde,""),ui=Er(Ede,null),hs=Er(Tde,0),hh=be(!1),Pa=be(null);be(e=>({isValidating:e(hh),error:e(Pa),validatedPromo:e(ui),discountCents:e(hs)}));const Pde=be(null,async(e,t,n)=>{const{code:s,subtotalCents:i,customerEmail:a,customerPhone:o}=n;if(!s||s.trim().length===0)return t(Pa,"Please enter a promo code"),{valid:!1,error:"Please enter a promo code"};t(hh,!0),t(Pa,null);try{const h=await(await fetch("/functions/v1/market-server/promos/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s.trim().toUpperCase(),subtotalCents:i,customerEmail:a,customerPhone:o})})).json();return h.valid&&h.promo?(t(JD,h.promo.code),t(ui,h.promo),t(hs,h.discountCents||0),t(Pa,null),{valid:!0,promo:h.promo,discountCents:h.discountCents}):(t(Pa,h.error||"Invalid promo code"),t(ui,null),t(hs,0),{valid:!1,error:h.error||"Invalid promo code"})}catch(c){const d=c instanceof Error?c.message:"Failed to validate promo code";return t(Pa,d),t(ui,null),t(hs,0),{valid:!1,error:d}}finally{t(hh,!1)}}),XD=be(null,(e,t)=>{t(JD,""),t(ui,null),t(hs,0),t(Pa,null),t(hh,!1)}),Rde=be(null,(e,t,n)=>{const s=e(ui);if(!s){t(hs,0);return}let i;s.discountType==="percentage"?i=Math.round(n*(s.discountValue/100)):i=s.discountValue,s.maxDiscountCents!==null&&i>s.maxDiscountCents&&(i=s.maxDiscountCents),i>n&&(i=n),t(hs,i)}),Ade="tabsy-cart",Ide="tabsy-cart-drawer",Ode="tabsy-fulfillment-type",Mde="tabsy-delivery-address",Dde=e=>{const t=[...e.mods||[]].map(n=>({id:n.id,name:n.name,price:n.price||0})).sort((n,s)=>n.id.localeCompare(s.id));return JSON.stringify({sku:e.sku,mods:t,note:(e.note||"").trim()})},Lde=(e,t,n,s,i,a,o="pickup",c=0)=>{const d=e.reduce((T,M)=>{const P=M.mods?.reduce((R,q)=>R+(q.price||0),0)||0,E=Math.round((M.price+P)*M.qty);return T+E},0),h=Math.min(s,d),f=Math.max(0,d-h),m=Math.round(f*i),g=n>0?n:Math.round(f*(t/100)),y=a&&a>0?a:cg,b=wde(f,y),j=b,S=f+m+g+j+(c||0),_=yd(S),N=o==="delivery"?g:0,C=Math.max(S-_-j-(c||0)-N,0);return{subtotal:f,tax:m,fees:j,tips:g,grand_total:S,serviceFee:j,platformFee:b,deliveryFee:c||void 0,discount:h,stripeFeeEstimate:_,fulfillmentType:o,courier:o==="delivery"?"uber_direct":null,breakdown:{subtotal:f,deliveryFee:c||0,tabsyFee:b,stripeProcessingFee:_,tax:m,tip:g,discount:h,total:S,netPayoutEstimate:C}}},Ln=Er(Ade,[]),gx=Er(Ide,!1),vd=be(!1),Qh=Er("tabsy-cart-coupon",""),bd=Er("tabsy-cart-tip-percentage",0),wd=Er("tabsy-cart-tip-custom",0),oS=Er("tabsy-guest-email",""),QD=Er("tabsy-guest-name",""),lS=Er("tabsy-guest-phone",""),ZD={line1:"",line2:"",city:"",state:"IL",zip:"",instructions:"",country:"US"},cS=Er(Ode,null),dS=Er(Mde,ZD),e3=be(null,(e,t)=>{t(dS,{...ZD})}),t3=Er("tabsy-sms-consent",!1),xx=be(e=>{const t=e(sS),n=e(jde),s="pickup",i=0,a=e(hs);return Lde(e(Ln),e(bd),e(wd),a,t,n,s,i)}),n3=be(e=>e(Ln).reduce((n,s)=>{const i=s.mods?.reduce((o,c)=>o+(c.price||0),0)||0,a=Math.round((s.price+i)*s.qty);return n+a},0));be(e=>e(ui));be(e=>e(Ln).reduce((t,n)=>t+n.qty,0));const $de=be(null,(e,t,n)=>{const s=yi(n.priceUnit),i={...n,priceUnit:s},a=Dde(i),o=e(Ln),c=o.findIndex(d=>d._key===a);if(c>=0){const d=[...o];d[c]={...d[c],qty:d[c].qty+(i.qty||1)},t(Ln,d)}else{const d=`line-${Date.now()}-${Math.random().toString(36).slice(2,9)}`;t(Ln,[...o,{...i,id:d,_key:a}])}t(gx,!0),t(vd,!1)}),Fde=be(null,(e,t,n)=>{const s=e(Ln).filter(i=>i.id!==n);t(Ln,s),s.length===0&&t(vd,!1)}),Ude=be(null,(e,t,{id:n,qty:s})=>{const i=e(Ln),a=i.find(f=>f.id===n);if(!a)return;const o=fx(a.priceUnit),c=px(a.priceUnit);if(Number.isNaN(s)||s<=0||s<o){const f=i.filter(m=>m.id!==n);t(Ln,f),f.length===0&&t(vd,!1);return}const h=c>0?Number(s.toFixed(c)):Math.round(s);t(Ln,i.map(f=>f.id===n?{...f,qty:h}:f))}),zde=be(null,(e,t,{id:n,note:s})=>{t(Ln,e(Ln).map(i=>i.id===n?{...i,note:s}:i))}),uS=be(null,(e,t)=>{t(Ln,[]),t(Qh,""),t(bd,0),t(wd,0),t(cS,null),t(e3,null),t(vd,!1),t(XD)});be(null,(e,t)=>{t(oS,""),t(QD,""),t(lS,"")});const Bde=be(null,(e,t)=>t(gx,!0)),Vde=be(null,(e,t)=>t(gx,!1)),Wde=be(null,(e,t,n)=>t(Qh,n.trim().toUpperCase())),Hde=be(null,(e,t)=>t(Qh,"")),qde=be(null,(e,t,n)=>t(bd,Math.max(0,n))),Gde=be(null,(e,t,n)=>t(wd,Math.max(0,n)));function jl(){const e=Je(Ln),t=Je(xx),n=Je(gx),s=Je(Qh),i=Je(bd),a=Je(wd),o=Je(sS),c=wt($de),d=wt(Fde),h=wt(Ude),f=wt(zde),m=wt(uS),g=wt(Bde),y=wt(Vde),b=wt(Wde),j=wt(Hde),S=wt(qde),_=wt(Gde),N=(C,T)=>h({id:C,qty:T});return{items:e,totals:t,isOpen:n,addItem:c,removeItem:d,updateItemQty:N,updateItemNote:f,setQty:N,clear:m,clearCart:m,openDrawer:g,closeDrawer:y,couponCode:s,applyCoupon:b,removeCoupon:j,tipPercentage:i,setTipPercentage:S,customTip:a,setCustomTip:_,taxRate:o}}function Fr(e){return`$${(e/100).toFixed(2)}`}function Kde(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Yde=e=>{switch(e){case"success":return Qde;case"info":return eue;case"warning":return Zde;case"error":return tue;default:return null}},Jde=Array(12).fill(0),Xde=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},Jde.map((n,s)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Qde=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zde=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eue=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tue=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nue=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rue=()=>{const[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let pw=1;class sue{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...i}=t,a=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:pw++,o=this.toasts.find(d=>d.id===a),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:s}),{...d,...t,id:a,dismissible:c,title:s}):d):this.addToast({title:s,...i,dismissible:c,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=s!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],ce.isValidElement(h))a=!1,this.create({id:s,type:"default",message:h});else if(aue(h)&&!h.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,b=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(h instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,b=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,b=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:g,...b})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(h):n.error,m=typeof n.description=="function"?await n.description(h):n.description,y=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...y})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((h,f)=>c.then(()=>o[0]==="reject"?f(o[1]):h(o[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(t,n)=>{const s=n?.id||pw++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yr=new sue,iue=(e,t)=>{const n=t?.id||pw++;return yr.addToast({title:e,...t,id:n}),n},aue=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",oue=iue,lue=()=>yr.toasts,cue=()=>yr.getActiveToasts(),Ne=Object.assign(oue,{success:yr.success,info:yr.info,warning:yr.warning,error:yr.error,custom:yr.custom,message:yr.message,promise:yr.promise,dismiss:yr.dismiss,loading:yr.loading},{getHistory:lue,getToasts:cue});Kde("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Hm(e){return e.label!==void 0}const due=3,uue="24px",hue="16px",YT=4e3,fue=356,mue=14,pue=45,gue=200;function ni(...e){return e.filter(Boolean).join(" ")}function xue(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const yue=e=>{var t,n,s,i,a,o,c,d,h;const{invert:f,toast:m,unstyled:g,interacting:y,setHeights:b,visibleToasts:j,heights:S,index:_,toasts:N,expanded:C,removeToast:T,defaultRichColors:M,closeButton:P,style:E,cancelButtonStyle:R,actionButtonStyle:q,className:V="",descriptionClassName:Q="",duration:G,position:A,gap:J,expandByDefault:$,classNames:F,icons:B,closeButtonAriaLabel:O="Close toast"}=e,[Z,H]=ce.useState(null),[U,D]=ce.useState(null),[ee,z]=ce.useState(!1),[L,X]=ce.useState(!1),[K,se]=ce.useState(!1),[ue,de]=ce.useState(!1),[le,je]=ce.useState(!1),[qe,ot]=ce.useState(0),[kt,rn]=ce.useState(0),sn=ce.useRef(m.duration||G||YT),Rr=ce.useRef(null),an=ce.useRef(null),Ze=_===0,Lt=_+1<=j,$e=m.type,yt=m.dismissible!==!1,tt=m.className||"",cr=m.descriptionClassName||"",wi=ce.useMemo(()=>S.findIndex(Be=>Be.toastId===m.id)||0,[S,m.id]),ta=ce.useMemo(()=>{var Be;return(Be=m.closeButton)!=null?Be:P},[m.closeButton,P]),Ys=ce.useMemo(()=>m.duration||G||YT,[m.duration,G]),ji=ce.useRef(0),Yn=ce.useRef(0),xs=ce.useRef(0),ys=ce.useRef(null),[uo,xe]=A.split("-"),ft=ce.useMemo(()=>S.reduce((Be,St,Ct)=>Ct>=wi?Be:Be+St.height,0),[S,wi]),it=rue(),Jn=m.invert||f,Xt=$e==="loading";Yn.current=ce.useMemo(()=>wi*J+ft,[wi,ft]),ce.useEffect(()=>{sn.current=Ys},[Ys]),ce.useEffect(()=>{z(!0)},[]),ce.useEffect(()=>{const Be=an.current;if(Be){const St=Be.getBoundingClientRect().height;return rn(St),b(Ct=>[{toastId:m.id,height:St,position:m.position},...Ct]),()=>b(Ct=>Ct.filter($t=>$t.toastId!==m.id))}},[b,m.id]),ce.useLayoutEffect(()=>{if(!ee)return;const Be=an.current,St=Be.style.height;Be.style.height="auto";const Ct=Be.getBoundingClientRect().height;Be.style.height=St,rn(Ct),b($t=>$t.find(Wt=>Wt.toastId===m.id)?$t.map(Wt=>Wt.toastId===m.id?{...Wt,height:Ct}:Wt):[{toastId:m.id,height:Ct,position:m.position},...$t])},[ee,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const jt=ce.useCallback(()=>{X(!0),ot(Yn.current),b(Be=>Be.filter(St=>St.toastId!==m.id)),setTimeout(()=>{T(m)},gue)},[m,T,b,Yn]);ce.useEffect(()=>{if(m.promise&&$e==="loading"||m.duration===1/0||m.type==="loading")return;let Be;return C||y||it?(()=>{if(xs.current<ji.current){const $t=new Date().getTime()-ji.current;sn.current=sn.current-$t}xs.current=new Date().getTime()})():(()=>{sn.current!==1/0&&(ji.current=new Date().getTime(),Be=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),jt()},sn.current))})(),()=>clearTimeout(Be)},[C,y,m,$e,it,jt]),ce.useEffect(()=>{m.delete&&(jt(),m.onDismiss==null||m.onDismiss.call(m,m))},[jt,m.delete]);function Xn(){var Be;if(B?.loading){var St;return ce.createElement("div",{className:ni(F?.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":$e==="loading"},B.loading)}return ce.createElement(Xde,{className:ni(F?.loader,m==null||(Be=m.classNames)==null?void 0:Be.loader),visible:$e==="loading"})}const Qt=m.icon||B?.[$e]||Yde($e);var dr,Jr;return ce.createElement("li",{tabIndex:0,ref:an,className:ni(V,tt,F?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,F?.default,F?.[$e],m==null||(n=m.classNames)==null?void 0:n[$e]),"data-sonner-toast":"","data-rich-colors":(dr=m.richColors)!=null?dr:M,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ee,"data-promise":!!m.promise,"data-swiped":le,"data-removed":L,"data-visible":Lt,"data-y-position":uo,"data-x-position":xe,"data-index":_,"data-front":Ze,"data-swiping":K,"data-dismissible":yt,"data-type":$e,"data-invert":Jn,"data-swipe-out":ue,"data-swipe-direction":U,"data-expanded":!!(C||$&&ee),"data-testid":m.testId,style:{"--index":_,"--toasts-before":_,"--z-index":N.length-_,"--offset":`${L?qe:Yn.current}px`,"--initial-height":$?"auto":`${kt}px`,...E,...m.style},onDragEnd:()=>{se(!1),H(null),ys.current=null},onPointerDown:Be=>{Be.button!==2&&(Xt||!yt||(Rr.current=new Date,ot(Yn.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(se(!0),ys.current={x:Be.clientX,y:Be.clientY})))},onPointerUp:()=>{var Be,St,Ct;if(ue||!yt)return;ys.current=null;const $t=Number(((Be=an.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Js=Number(((St=an.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((Ct=Rr.current)==null?void 0:Ct.getTime()),on=Z==="x"?$t:Js,vs=Math.abs(on)/Wt;if(Math.abs(on)>=pue||vs>.11){ot(Yn.current),m.onDismiss==null||m.onDismiss.call(m,m),D(Z==="x"?$t>0?"right":"left":Js>0?"down":"up"),jt(),de(!0);return}else{var En,Ar;(En=an.current)==null||En.style.setProperty("--swipe-amount-x","0px"),(Ar=an.current)==null||Ar.style.setProperty("--swipe-amount-y","0px")}je(!1),se(!1),H(null)},onPointerMove:Be=>{var St,Ct,$t;if(!ys.current||!yt||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Wt=Be.clientY-ys.current.y,on=Be.clientX-ys.current.x;var vs;const En=(vs=e.swipeDirections)!=null?vs:xue(A);!Z&&(Math.abs(on)>1||Math.abs(Wt)>1)&&H(Math.abs(on)>Math.abs(Wt)?"x":"y");let Ar={x:0,y:0};const na=Xr=>1/(1.5+Math.abs(Xr)/20);if(Z==="y"){if(En.includes("top")||En.includes("bottom"))if(En.includes("top")&&Wt<0||En.includes("bottom")&&Wt>0)Ar.y=Wt;else{const Xr=Wt*na(Wt);Ar.y=Math.abs(Xr)<Math.abs(Wt)?Xr:Wt}}else if(Z==="x"&&(En.includes("left")||En.includes("right")))if(En.includes("left")&&on<0||En.includes("right")&&on>0)Ar.x=on;else{const Xr=on*na(on);Ar.x=Math.abs(Xr)<Math.abs(on)?Xr:on}(Math.abs(Ar.x)>0||Math.abs(Ar.y)>0)&&je(!0),(Ct=an.current)==null||Ct.style.setProperty("--swipe-amount-x",`${Ar.x}px`),($t=an.current)==null||$t.style.setProperty("--swipe-amount-y",`${Ar.y}px`)}},ta&&!m.jsx&&$e!=="loading"?ce.createElement("button",{"aria-label":O,"data-disabled":Xt,"data-close-button":!0,onClick:Xt||!yt?()=>{}:()=>{jt(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ni(F?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(Jr=B?.close)!=null?Jr:nue):null,($e||m.icon||m.promise)&&m.icon!==null&&(B?.[$e]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:ni(F?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Xn():null,m.type!=="loading"?Qt:null):null,ce.createElement("div",{"data-content":"",className:ni(F?.content,m==null||(a=m.classNames)==null?void 0:a.content)},ce.createElement("div",{"data-title":"",className:ni(F?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:ni(Q,cr,F?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&Hm(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:Be=>{Hm(m.cancel)&&yt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Be),jt())},className:ni(F?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&Hm(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:Be=>{Hm(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Be),!Be.defaultPrevented&&jt())},className:ni(F?.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function JT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function vue(e,t){const n={};return[e,t].forEach((s,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",c=a?hue:uue;function d(h){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=c:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(c)}),n}const bue=ce.forwardRef(function(t,n){const{id:s,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:f,mobileOffset:m,theme:g="light",richColors:y,duration:b,style:j,visibleToasts:S=due,toastOptions:_,dir:N=JT(),gap:C=mue,icons:T,containerAriaLabel:M="Notifications"}=t,[P,E]=ce.useState([]),R=ce.useMemo(()=>s?P.filter(ee=>ee.toasterId===s):P.filter(ee=>!ee.toasterId),[P,s]),q=ce.useMemo(()=>Array.from(new Set([a].concat(R.filter(ee=>ee.position).map(ee=>ee.position)))),[R,a]),[V,Q]=ce.useState([]),[G,A]=ce.useState(!1),[J,$]=ce.useState(!1),[F,B]=ce.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=ce.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=ce.useRef(null),U=ce.useRef(!1),D=ce.useCallback(ee=>{E(z=>{var L;return(L=z.find(X=>X.id===ee.id))!=null&&L.delete||yr.dismiss(ee.id),z.filter(({id:X})=>X!==ee.id)})},[]);return ce.useEffect(()=>yr.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{E(z=>z.map(L=>L.id===ee.id?{...L,delete:!0}:L))});return}setTimeout(()=>{d5.flushSync(()=>{E(z=>{const L=z.findIndex(X=>X.id===ee.id);return L!==-1?[...z.slice(0,L),{...z[L],...ee},...z.slice(L+1)]:[ee,...z]})})})}),[P]),ce.useEffect(()=>{if(g!=="system"){B(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:z})=>{B(z?"dark":"light")})}catch{ee.addListener(({matches:L})=>{try{B(L?"dark":"light")}catch(X){console.error(X)}})}},[g]),ce.useEffect(()=>{P.length<=1&&A(!1)},[P]),ce.useEffect(()=>{const ee=z=>{var L;if(o.every(se=>z[se]||z.code===se)){var K;A(!0),(K=O.current)==null||K.focus()}z.code==="Escape"&&(document.activeElement===O.current||(L=O.current)!=null&&L.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[o]),ce.useEffect(()=>{if(O.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,U.current=!1)}},[O.current]),ce.createElement("section",{ref:n,"aria-label":`${M} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((ee,z)=>{var L;const[X,K]=ee.split("-");return R.length?ce.createElement("ol",{key:ee,dir:N==="auto"?JT():N,tabIndex:-1,ref:O,className:h,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":X,"data-x-position":K,style:{"--front-toast-height":`${((L=V[0])==null?void 0:L.height)||0}px`,"--width":`${fue}px`,"--gap":`${C}px`,...j,...vue(f,m)},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,H.current=se.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{J||A(!1)},onDragEnd:()=>A(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},R.filter(se=>!se.position&&z===0||se.position===ee).map((se,ue)=>{var de,le;return ce.createElement(yue,{key:se.id,icons:T,index:ue,toast:se,defaultRichColors:y,duration:(de=_?.duration)!=null?de:b,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(le=_?.closeButton)!=null?le:d,interacting:J,position:ee,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:D,toasts:R.filter(je=>je.position==se.position),heights:V.filter(je=>je.position==se.position),setHeights:Q,expandByDefault:c,gap:C,expanded:G,swipeDirections:t.swipeDirections})})):null}))}),XT=({config:e,hours:t,menu:n,blog:s,onNavigate:i,onOrderNow:a})=>{const[o,c]=x.useState(!1),[d,h]=x.useState(!1),{addItem:f}=jl(),m=n.categories.flatMap(b=>b.items).filter(b=>b.popular),g=b=>{i(`/blog/${b}`)},y=b=>{f({sku:b.id,name:b.name,price:Math.round(b.price*100),priceUnit:yi(b.unit||"each"),unitLabel:b.unitLabel,qty:1,image:b.imageUrl||`https://source.unsplash.com/400x300/?${encodeURIComponent(b.image)}`}),Ne.success(`Added ${b.name} to cart`,{duration:2e3})};return r.jsxs("div",{className:"space-y-10 sm:space-y-12 md:space-y-16",children:[r.jsx(kce,{brandName:e.name,tagline:e.tagline,brandColor:e.theme.brand,heroImage:Oce,onOrderClick:a||(()=>i("/products")),onReserveClick:()=>e.integrations.reservations?.url?window.open(e.integrations.reservations.url,"_blank"):a?a():i("/products")}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(Mce,{brandColor:e.theme.brand,onViewStars:()=>c(!0),onInviteFriend:()=>h(!0)})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(ED,{hours:t,variant:"card",brandColor:e.theme.brand})}),m.length>0&&r.jsx(Ice,{items:m,brandColor:e.theme.brand,brandName:e.name,onNavigate:i,onAddToCart:y,maxItems:6}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(Rce,{brandColor:e.theme.brand})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("h2",{className:"mb-6",children:"Visit Us"}),r.jsx(TD,{address:e.address,brandColor:e.theme.brand})]}),s&&s.posts&&Array.isArray(s.posts)&&s.posts.length>0&&r.jsx(Ace,{posts:s.posts,brandColor:e.theme.brand,brandName:e.name,onNavigate:i,onPostClick:g}),o&&r.jsx(ude,{brandColor:e.theme.brand,onClose:()=>c(!1)}),d&&r.jsx(hde,{brandColor:e.theme.brand,brandName:e.name,onClose:()=>h(!1)})]})};var yx="Tabs",[wue]=Cn(yx,[md]),r3=md(),[jue,hS]=wue(yx),s3=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=vl(c),[m,g]=_r({prop:s,onChange:i,defaultProp:a??"",caller:yx});return r.jsx(jue,{scope:n,baseId:hn(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:d,children:r.jsx(ke.div,{dir:f,"data-orientation":o,...h,ref:t})})});s3.displayName=yx;var i3="TabsList",a3=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,a=hS(i3,n),o=r3(n);return r.jsx(r1,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(ke.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});a3.displayName=i3;var o3="TabsTrigger",l3=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=e,o=hS(o3,n),c=r3(n),d=u3(o.baseId,s),h=h3(o.baseId,s),f=s===o.value;return r.jsx(s1,{asChild:!0,...c,focusable:!i,active:f,children:r.jsx(ke.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:ye(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:ye(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:ye(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(s)})})})});l3.displayName=o3;var c3="TabsContent",d3=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...o}=e,c=hS(c3,n),d=u3(c.baseId,s),h=h3(c.baseId,s),f=s===c.value,m=x.useRef(f);return x.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),r.jsx(fn,{present:i||f,children:({present:g})=>r.jsx(ke.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});d3.displayName=c3;function u3(e,t){return`${e}-trigger-${t}`}function h3(e,t){return`${e}-content-${t}`}var Sue=s3,f3=a3,m3=l3,Nue=d3;function p3({className:e,...t}){return r.jsx(Sue,{"data-slot":"tabs",className:_e("flex flex-col gap-2",e),...t})}const fS=x.forwardRef(({className:e,...t},n)=>r.jsx(f3,{ref:n,"data-slot":"tabs-list",className:_e("bg-muted text-muted-foreground inline-flex h-auto min-h-[44px] w-fit items-center justify-start rounded-xl p-[3px]",e),...t}));fS.displayName=f3.displayName;const dg=x.forwardRef(({className:e,...t},n)=>r.jsx(m3,{ref:n,"data-slot":"tabs-trigger",className:_e("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t}));dg.displayName=m3.displayName;function gw({className:e,...t}){return r.jsx(Nue,{"data-slot":"tabs-content",className:_e("flex-1 outline-none",e),...t})}const _ue=({price:e,originalPrice:t,discountedPrice:n,unit:s="lb",unitLabel:i,className:a="",showDiscount:o=!0})=>{const c=o&&t!==void 0&&n!==void 0&&n<t,d=c?n:e,h=typeof d=="string"?parseFloat(d):d,f=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(M),m=f(h),g=t?f(t):"",y=mx(s,i),b=kde(s,i),j=y.startsWith("/")?"ml-0":"ml-1",S=M=>r.jsx("span",{className:`whitespace-nowrap ${j}`.trim(),children:M}),_=Math.floor(h),N=Math.round((h-_)*100),C=b||"each",T=c?`Sale price ${_} dollars${N>0?` ${N} cents`:""} ${C}, was ${f(t)}`:`Price ${_} dollars${N>0?` ${N} cents`:""} ${C}`;return c?r.jsxs("span",{className:`${a} flex flex-col items-end gap-0.5`,"aria-label":T,children:[r.jsxs("span",{className:"text-xs sm:text-sm text-gray-400 line-through leading-none",children:[g,y&&S(y)]}),r.jsxs("span",{className:"leading-none",children:[m,y&&S(y)]})]}):r.jsxs("span",{className:a,"aria-label":T,children:[m,y&&S(y)]})},mS=({value:e,unit:t,min:n,max:s,decimals:i,onCommit:a})=>{const[o,c]=x.useState(()=>Aa(e,t)),[d,h]=x.useState(!1),f=aS(t);x.useEffect(()=>{d||c(Aa(e,t))},[e,t,d]);const m=y=>{let b=y;return Number.isFinite(s)&&(b=Math.min(b,s)),b=Math.max(b,n),Number(b.toFixed(i))},g=()=>{const y=parseFloat(o);if(Number.isNaN(y)){c(Aa(e,t));return}const b=m(y);c(Aa(b,t)),a(b)};return r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",inputMode:"decimal",className:"w-16 h-8 border-0 text-center text-sm font-medium focus:outline-none focus:ring-0",value:o,onFocus:()=>h(!0),onBlur:()=>{h(!1),g()},onChange:y=>{const b=y.target.value;(b===""||b==="."||/^\d*(?:\.\d*)?$/.test(b))&&c(b)},onKeyDown:y=>{y.key==="Enter"&&y.currentTarget.blur()},"aria-label":"Enter weight"}),f&&r.jsx("span",{className:"absolute inset-y-0 right-1 flex items-center text-[11px] text-gray-500 pointer-events-none",children:f})]})},kue=({item:e,brandColor:t,onAdd:n})=>{const s=yi(e.unit),i=hx(s),a=iS(s),o=fx(s),c=px(s),[d,h]=x.useState(1),f=y=>{if(y.stopPropagation(),i){const b=Math.max(o,d-a);h(Number(b.toFixed(c)))}else d>1&&h(d-1)},m=y=>{if(y.stopPropagation(),i){const b=d+a;h(Number(b.toFixed(c)))}else d<99&&h(d+1)},g=y=>{y.stopPropagation(),n(e,d)};return e.discountedPrice&&e.originalPrice&&e.discountedPrice<e.originalPrice?e.discountedPrice:e.price,mx(s,e.unitLabel),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4},transition:{duration:.2},className:"w-full rounded-lg sm:rounded-xl md:rounded-2xl shadow-sm hover:shadow-md transition-all p-2.5 sm:p-3 md:p-4 bg-white",children:[r.jsxs("div",{className:"aspect-[4/3] rounded-md sm:rounded-lg md:rounded-xl bg-gray-100 overflow-hidden relative group mb-2.5 sm:mb-3",children:[r.jsx(Kn,{src:e.imageUrl||`https://source.unsplash.com/800x600/?${encodeURIComponent(e.image||e.name)}`,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),r.jsx("div",{className:"absolute top-1.5 sm:top-2 left-1.5 sm:left-2 flex gap-1.5 sm:gap-2",children:e.popular&&r.jsxs(_t,{className:"text-white shadow-lg text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5",style:{backgroundColor:t},children:[r.jsx(Bt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-0.5 sm:mr-1 fill-current"}),"Popular"]})})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-start gap-1.5 sm:gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm sm:text-[15px] md:text-base leading-tight line-clamp-2 pr-1",children:e.name}),e.dietary.length>0&&r.jsxs("div",{className:"flex gap-0.5 sm:gap-1 flex-shrink-0",children:[e.dietary.includes("vegetarian")&&r.jsx("span",{className:"text-xs sm:text-sm",title:"Vegetarian",children:""}),e.dietary.includes("vegan")&&r.jsx("span",{className:"text-xs sm:text-sm",title:"Vegan",children:""}),e.dietary.includes("gf")&&r.jsx("span",{className:"text-xs sm:text-sm",title:"Gluten-Free",children:""})]})]}),r.jsx("span",{style:{color:t},children:r.jsx(_ue,{price:e.price,originalPrice:e.originalPrice,discountedPrice:e.discountedPrice,unit:s,unitLabel:e.unitLabel,className:"text-sm sm:text-[15px] md:text-base font-semibold flex-shrink-0"})})]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2 leading-relaxed",children:e.description}),r.jsxs("div",{className:"flex items-stretch gap-2 sm:gap-2.5 pt-1.5 sm:pt-2",children:[r.jsxs("div",{className:"flex-1 flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50/80 overflow-hidden",children:[r.jsx("button",{onClick:f,disabled:i?d<=o:d<=1,className:"p-2 sm:p-2.5 hover:bg-gray-100 active:bg-gray-200 transition-colors disabled:opacity-30 disabled:cursor-not-allowed min-w-[40px] sm:min-w-[44px] h-full flex items-center justify-center touch-manipulation","aria-label":i?"Decrease weight":"Decrease quantity",children:r.jsx(Ph,{className:"w-4 h-4"})}),i?r.jsx("div",{className:"flex-1 flex justify-center",children:r.jsx(mS,{value:d,unit:s,min:o,decimals:c,onCommit:y=>h(y)})}):r.jsx("span",{className:"flex-1 text-sm sm:text-base font-semibold text-center tabular-nums",children:d}),r.jsx("button",{onClick:m,disabled:!i&&d>=99,className:"p-2 sm:p-2.5 hover:bg-gray-100 active:bg-gray-200 transition-colors disabled:opacity-30 disabled:cursor-not-allowed min-w-[40px] sm:min-w-[44px] h-full flex items-center justify-center touch-manipulation","aria-label":i?"Increase weight":"Increase quantity",children:r.jsx(Us,{className:"w-4 h-4"})})]}),r.jsx(re,{onClick:g,className:"flex-1 text-white h-11 sm:h-12 text-sm sm:text-base font-semibold rounded-lg touch-manipulation active:scale-[0.98] transition-transform shadow-sm hover:shadow-md",style:{backgroundColor:t},"aria-label":`Add to cart: ${e.name}`,children:"Add"})]})]})]})},Cue=(e=[])=>e.map(t=>({...t,items:(t.items||[]).map(n=>({...n,unit:yi(n.unit)}))})),pS=be([]),Eue=be(null,(e,t,n=[])=>{t(pS,Cue(n))}),vx=be("");be(null,(e,t,n)=>t(vx,n));const fh=be([]),Tue=be(null,(e,t,n)=>{const s=e(fh),i=s.includes(n)?s.filter(a=>a!==n):[...s,n];t(fh,i)});be(null,(e,t)=>{t(vx,""),t(fh,[])});const Pue=be(e=>{const t=e(pS),n=e(vx).trim().toLowerCase(),s=e(fh);return t.reduce((i,a)=>{const o=(a.items||[]).filter(c=>{const d=c.name?.toLowerCase()||"",h=c.description?.toLowerCase()||"",f=!n||d.includes(n)||h.includes(n),m=s.length===0||s.every(g=>(c.dietary||[]).includes(g));return f&&m});return i[a.id]=o,i},{})}),Rue=({categories:e=[],dietaryFilters:t=[],brandColor:n})=>{const[s,i]=Hn(vx),a=Je(fh),o=wt(Tue),c=wt(Eue),d=Je(pS),h=Je(Pue),{addItem:f}=jl(),[m,g]=x.useState({left:0,width:0}),[y,b]=x.useState(null),j=x.useRef(null),S=x.useRef(new Map);x.useEffect(()=>{c(e||[])},[e,c]);const _=d.length?d:e;x.useEffect(()=>{_.length>0&&y===null&&b(_[0].id)},[_,y]);const N=T=>{b(T)};x.useEffect(()=>{const T=y||_[0]?.id;if(!T)return;const M=()=>{const R=S.current.get(T),q=j.current;if(R&&q){const V=q.getBoundingClientRect(),Q=R.getBoundingClientRect();g({left:Q.left-V.left+q.scrollLeft,width:Q.width})}},P=setTimeout(M,50),E=j.current;return window.addEventListener("resize",M),E?.addEventListener("scroll",M),()=>{clearTimeout(P),window.removeEventListener("resize",M),E?.removeEventListener("scroll",M)}},[y,_]);const C=(T,M)=>{f({sku:T.id,name:T.name,price:Math.round(T.price*100),priceUnit:yi(T.unit||"each"),unitLabel:T.unitLabel,qty:M,image:T.imageUrl||`https://source.unsplash.com/400x300/?${encodeURIComponent(T.image||T.name)}`}),Ne.success(`Added ${M}x ${T.name} to cart`,{duration:2e3})};return!_||_.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{children:"No products available at this time."})}):r.jsxs("div",{className:"w-full space-y-3 sm:space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"w-full space-y-2.5 sm:space-y-3 md:space-y-4",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx(gi,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 pointer-events-none"}),r.jsx(Me,{type:"text",placeholder:"Search products...",value:s,onChange:T=>i(T.target.value),paddingLeft:36,className:"w-full pr-3 h-11 sm:h-12 rounded-lg sm:rounded-xl md:rounded-2xl text-sm sm:text-base"})]}),t&&t.length>0&&r.jsx("div",{className:"w-full flex flex-wrap gap-1.5 sm:gap-2",children:t.map(T=>r.jsxs(_t,{variant:a.includes(T.id)?"default":"outline",className:"cursor-pointer hover:opacity-80 transition-opacity text-xs sm:text-sm min-h-[36px] sm:min-h-[40px] px-2.5 sm:px-3 rounded-lg",style:a.includes(T.id)?{backgroundColor:n}:{},onClick:()=>o(T.id),children:[r.jsx("span",{className:"mr-1",children:T.icon}),T.label]},T.id))})]}),r.jsxs(p3,{defaultValue:_[0]?.id,onValueChange:N,className:"w-full",children:[r.jsxs("div",{className:"relative -mx-3 sm:mx-0 mb-4 sm:mb-6 w-full",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-gray-50 to-transparent pointer-events-none md:hidden z-20"}),r.jsxs(fS,{ref:j,className:"relative w-full inline-flex h-auto min-h-[44px] items-center justify-start overflow-x-auto overflow-y-hidden flex-nowrap rounded-none sm:rounded-xl md:rounded-2xl bg-white border-y sm:border px-3 sm:px-0 scrollbar-hide",children:[r.jsx(W.div,{className:"absolute bottom-0 h-[3px] rounded-full z-10",style:{backgroundColor:n,boxShadow:`0 0 12px ${n}40, 0 0 4px ${n}60`},initial:!1,animate:{left:m.left,width:m.width},transition:{type:"spring",stiffness:380,damping:30}}),_.map(T=>r.jsxs(dg,{value:T.id,ref:M=>{M&&S.current.set(T.id,M)},className:"whitespace-nowrap rounded-lg sm:rounded-xl md:rounded-2xl text-sm sm:text-base min-h-[44px] px-3 sm:px-4 flex-shrink-0 inline-flex items-center justify-center gap-1.5 font-medium transition-all duration-200 data-[state=active]:text-[var(--brand-color)] text-gray-600 hover:text-gray-900 relative bg-transparent data-[state=active]:bg-transparent",style:{"--brand-color":n},children:[r.jsx("span",{className:"mr-1.5 sm:mr-2 text-base sm:text-lg transition-transform duration-200 data-[state=active]:scale-110",children:T.icon}),T.name]},T.id))]})]}),_.map(T=>{const M=h[T.id]??(T.items||[]);return r.jsxs(gw,{value:T.id,className:"w-full mt-4 sm:mt-5 md:mt-6",children:[r.jsx("div",{className:"w-full mb-3 sm:mb-4",children:r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:T.description})}),M.length===0?r.jsx("div",{className:"w-full text-center py-8 sm:py-10 md:py-12 text-gray-500 text-sm sm:text-base",children:"No items found matching your search or filters."}):r.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:M.map(P=>r.jsx(kue,{item:P,brandColor:n,onAdd:C},P.id))})]},T.id)})]})]})},Aue=({config:e,menu:t,onNavigate:n,showAnnouncementBar:s=!1})=>{const{items:i}=jl(),a=Je(vd),c=i.length>0&&!a;return r.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[r.jsx("div",{className:"py-6 sm:py-8 md:py-12 lg:py-16 text-white text-center w-full",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"w-full px-3 sm:px-4 md:px-6 lg:px-8 max-w-7xl mx-auto",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-white mb-2 sm:mb-3 md:mb-4",style:{fontSize:"clamp(1.5rem, 6vw, 2.5rem)",lineHeight:"1.2"},children:"Our Products"}),r.jsx("p",{className:"text-white/90 max-w-2xl mx-auto px-1",style:{fontSize:"clamp(0.813rem, 3vw, 1.125rem)",lineHeight:"1.6"},children:"Explore our selection of premium halal products, fresh meats, and specialty items"})]})})}),r.jsx("div",{className:`w-full px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12 pb-28 md:pb-32 lg:pb-12 transition-all duration-300 ${c?"lg:pr-[440px]":""}`,children:r.jsx("div",{className:"w-full max-w-7xl mx-auto",children:r.jsx(Rue,{categories:t.categories,dietaryFilters:t.dietaryFilters,brandColor:e.theme.brand})})})]})},Iue={created:["accepted","rejected","canceled"],accepted:["in_kitchen","canceled"],in_kitchen:["ready","canceled"],ready:["courier_requested","picked_up","delivered","canceled"],courier_requested:["driver_en_route","canceled","failed"],driver_en_route:["picked_up","canceled","failed"],picked_up:["delivered","failed"],delivered:[],rejected:[],canceled:[],failed:[]},Oue={confirmed:"accepted",preparing:"in_kitchen",out_for_delivery:"picked_up"};function ol(e){const t=e?Oue[e]??e:"created";return Object.prototype.hasOwnProperty.call(Iue,t)?t:"created"}const Mue={pickup:[{key:"created",label:"Order Placed",icon:In},{key:"accepted",label:"Confirmed",icon:In},{key:"in_kitchen",label:"Preparing",icon:et},{key:"ready",label:"Ready for Pickup",icon:Ra},{key:"delivered",label:"Picked Up",icon:Ra}],delivery:[{key:"created",label:"Order Placed",icon:In},{key:"accepted",label:"Confirmed",icon:In},{key:"in_kitchen",label:"Preparing",icon:et},{key:"ready",label:"Ready for Courier",icon:Ra},{key:"courier_requested",label:"Courier Requested",icon:et},{key:"driver_en_route",label:"Driver En Route",icon:zs},{key:"picked_up",label:"Out for Delivery",icon:zs},{key:"delivered",label:"Delivered",icon:Ra}]},gS=({status:e,fulfillment:t,placedAt:n,eta:s,timeline:i={},brandColor:a="#6B0F1A"})=>{const o=ol(e),c=Mue[t],d=c.findIndex(m=>m.key===o),h=["rejected","canceled","failed"].includes(o),f=x.useMemo(()=>Object.entries(i||{}).reduce((m,[g,y])=>{const b=ol(g);return m[b]||(m[b]=y),m},{}),[i]);return h?r.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-2xl",children:r.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[r.jsx(ms,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg",children:["Order ",o.charAt(0).toUpperCase()+o.slice(1)]}),r.jsxs("p",{className:"text-sm",children:[o==="rejected"&&"Your order could not be confirmed. Please contact us.",o==="canceled"&&"This order has been canceled.",o==="failed"&&"There was an error processing your order."]})]})]})}):r.jsx("div",{className:"space-y-4",children:c.map((m,g)=>{const y=g<d,b=g===d,j=f[m.key],S=m.icon;return r.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"relative flex items-start gap-4",children:[g<c.length-1&&r.jsx("div",{className:`absolute left-4 top-8 bottom-0 w-0.5 ${y?"bg-green-500":"bg-gray-200"}`}),r.jsx("div",{className:`relative z-10 w-8 h-8 rounded-full flex items-center justify-center ${y?"bg-green-500 text-white":b?"bg-blue-500 text-white":"bg-gray-200 text-gray-400"}`,children:b&&m.icon===et?r.jsx(et,{className:"w-4 h-4 animate-spin"}):r.jsx(S,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 pb-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:`${y||b?"":"text-gray-400"}`,children:m.label}),j&&r.jsx("span",{className:"text-sm text-gray-500",children:new Date(j).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),b&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m.key==="accepted"&&"Restaurant confirmed your order",m.key==="in_kitchen"&&"Your order is being prepared",m.key==="ready"&&(t==="pickup"?"Ready for pickup!":"Prepping for courier handoff"),m.key==="courier_requested"&&"Looking for an available courier",m.key==="driver_en_route"&&"Driver is on the way to the store",m.key==="picked_up"&&"Your order is en route"]})]})]},m.key)})})},Due=({driverLocation:e,deliveryLocation:t,eta:n,trackingUrl:s})=>{const[i,a]=x.useState(e);return x.useEffect(()=>{if(!e)return;const o=setInterval(()=>{a(c=>{if(!c)return e;const d=(t.lat-c.lat)*.1,h=(t.lng-c.lng)*.1;return{lat:c.lat+d,lng:c.lng+h}})},3e3);return()=>clearInterval(o)},[e,t]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-video bg-gray-100 rounded-2xl overflow-hidden relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bn,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Live tracking map"}),n&&r.jsxs("p",{className:"text-lg mt-2",children:["ETA: ",r.jsx("span",{className:"font-medium",children:n})]})]})}),i&&r.jsx("div",{className:"absolute w-8 h-8 bg-blue-500 rounded-full border-4 border-white shadow-lg",style:{top:"30%",left:"40%",animation:"pulse 2s ease-in-out infinite"},children:r.jsx(Ku,{className:"w-4 h-4 text-white"})}),r.jsx("div",{className:"absolute w-8 h-8 bg-red-500 rounded-full border-4 border-white shadow-lg",style:{top:"60%",left:"70%"},children:r.jsx(bn,{className:"w-4 h-4 text-white"})})]}),s&&r.jsxs(re,{variant:"outline",className:"w-full rounded-2xl",onClick:()=>window.open(s,"_blank"),children:[r.jsx(Ku,{className:"w-4 h-4 mr-2"}),"Track on Map"]}),r.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%,
          100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }
      `})]})},Lue=({phone:e,email:t="info@tabsy.us",orderId:n})=>r.jsxs(kM,{children:[r.jsx(CM,{asChild:!0,children:r.jsxs(re,{variant:"outline",className:"rounded-2xl w-full",children:[r.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Need Help?"]})}),r.jsxs(EM,{className:"w-56",children:[r.jsxs(Do,{onClick:()=>window.location.href=`tel:${e}`,children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{children:"Call Us"}),r.jsx("p",{className:"text-xs text-gray-500",children:e})]})]}),r.jsxs(Do,{onClick:()=>window.location.href=`mailto:${t}?subject=Order ${n}`,children:[r.jsx(Mn,{className:"w-4 h-4 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{children:"Email Support"}),r.jsx("p",{className:"text-xs text-gray-500",children:t})]})]})]})]}),$ue=qr;async function io(e,t){const n=await fetch(`${$ue}${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt}`,apikey:Nt,"x-tabsy-env":"prod",...t?.headers||{}},...t}),s=await n.text(),i=s?JSON.parse(s):null;if(!n.ok){const a=i?.error||i?.message||i?.details||`Request failed (${n.status})`;throw new Error(a)}return i??{}}async function Fue(e){return io("/orders",{method:"POST",body:JSON.stringify(e)})}async function xS(e){return(await io(`/orders/${e}`)).order}async function Uue(e){return io(`/orders/${e}/receipt`)}async function zue(e){return(await io(`/orders/track/${encodeURIComponent(e)}`)).order}async function g3(e){return io("/payments/intent",{method:"POST",body:JSON.stringify(e)})}async function Bue(){return io("/payments/config")}async function x3(e){return(await io("/delivery/quote",{method:"POST",body:JSON.stringify(e)})).quote}async function Vue(e,t){return io(`/orders/${e}/customer-cancel`,{method:"POST",body:JSON.stringify(t)})}function Wc(e){const s=new Date(e).getTime()+18e4,i=Date.now(),a=Math.max(0,s-i),o=Math.ceil(a/1e3),c=a<=0,d=Math.floor(o/60),h=o%60,f=`${d}:${h.toString().padStart(2,"0")}`;return{remaining:o,remainingMs:a,remainingSeconds:o,expired:c,formattedTime:f}}const Po=e=>`$${(e/100).toFixed(2)}`,Wue=({orderId:e,onNavigate:t,config:n})=>{const[s,i]=x.useState(null),[a,o]=x.useState(!0),[c,d]=x.useState(null);if(x.useEffect(()=>{let b=!0,j=null;const S=async()=>{try{const _=await xS(e);b&&(i(_),d(null))}catch(_){b&&d(_?.message||"Order not found")}finally{b&&o(!1)}};return S(),j=window.setInterval(S,1e4),()=>{b=!1,j&&window.clearInterval(j)}},[e]),a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})});if(c||!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx("h2",{className:"mb-2",children:"Order Not Found"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["We couldn't find an order with ID: ",e]}),r.jsx(re,{onClick:()=>t("/"),className:"rounded-2xl text-white",style:{backgroundColor:n.theme.brand},children:"Go Home"})]})});const h=ol(s.status),f=s.fulfillmentType==="delivery",m=["rejected","canceled","failed"].includes(h),g=f&&h!=="delivered"&&!m,y=s.fulfillmentType==="delivery"?s.deliveryEta||"":s.pickupEta||"";return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-8",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center gap-4",children:[r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"rounded-2xl",children:r.jsx(Fs,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{children:"Order Status"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["#",s.shortCode]})]})]})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[h==="created"&&r.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-6 bg-green-50 border border-green-200 rounded-2xl text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Tj,{className:"w-8 h-8 text-white"})}),r.jsx("h2",{className:"mb-2",children:"Order Placed Successfully!"}),r.jsx("p",{className:"text-gray-600",children:"We've received your order and will start preparing it soon."})]}),y&&!m&&r.jsxs(we,{className:"p-6 text-center",children:[r.jsx(Jt,{className:"w-8 h-8 mx-auto mb-2",style:{color:n.theme.brand}}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Estimated ",f?"Delivery":"Pickup"," Time"]}),r.jsx("p",{className:"text-2xl",children:new Date(y).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),r.jsxs(we,{className:"p-6",children:[r.jsx("h2",{className:"mb-6",children:"Order Progress"}),r.jsx(gS,{status:h,fulfillment:s.fulfillmentType,placedAt:s.createdAt,eta:y,timeline:s.timestamps,brandColor:n.theme.brand})]}),g&&r.jsxs(we,{className:"p-6",children:[r.jsx("h2",{className:"mb-4",children:"Live Tracking"}),r.jsx(Due,{driverLocation:void 0,deliveryLocation:{lat:s.deliveryAddress?.latitude??41.75,lng:s.deliveryAddress?.longitude??-88.153},eta:y,trackingUrl:void 0})]}),r.jsx(we,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bn,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2",children:f?"Delivery Address":"Pickup Location"}),r.jsx("p",{className:"text-sm text-gray-600",children:f&&s.deliveryAddress?r.jsxs(r.Fragment,{children:[s.deliveryAddress.line1,s.deliveryAddress.line2&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),s.deliveryAddress.line2]}),r.jsx("br",{}),s.deliveryAddress.city,", ",s.deliveryAddress.state," ",s.deliveryAddress.postalCode]}):r.jsxs(r.Fragment,{children:[n.address.line1,r.jsx("br",{}),n.address.city,", ",n.address.state," ",n.address.zip]})}),f&&s.deliveryAddress?.instructions&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Instructions: ",s.deliveryAddress.instructions]})]})]})}),r.jsxs(we,{className:"p-6",children:[r.jsx("h2",{className:"mb-4",children:"Order Details"}),r.jsx("div",{className:"space-y-3",children:s.items.map(b=>{const j=b.quantityDisplay||Ya(b.quantity,b.unit||void 0);return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[j," ",b.name]}),r.jsx("span",{children:Po(b.totalPriceCents)})]},b.id)})}),r.jsx(vr,{className:"my-4"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:Po(s.totals.subtotalCents)})]}),s.totals.discountCents>0&&r.jsxs("div",{className:"flex justify-between",style:{color:n.theme.brand},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-",Po(s.totals.discountCents)]})]}),s.totals.deliveryFeeCents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:Po(s.totals.deliveryFeeCents)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:Po(s.totals.taxCents)})]}),s.totals.tipCents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:Po(s.totals.tipCents)})]}),r.jsx(vr,{}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:Po(s.totals.totalCents)})]})]})]}),r.jsx(Lue,{phone:n.contact.phone,email:n.contact.email,orderId:s.id})]})]})};function lt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function y3(e){return e.slice(-4)}var Hue=Symbol("radix.slottable");function que(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Hue,t}var v3="AlertDialog",[Gue]=Cn(v3,[PM]),ea=PM(),b3=e=>{const{__scopeAlertDialog:t,...n}=e,s=ea(t);return r.jsx(ex,{...s,...n,modal:!0})};b3.displayName=v3;var Kue="AlertDialogTrigger",Yue=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=ea(n);return r.jsx(Ise,{...i,...s,ref:t})});Yue.displayName=Kue;var Jue="AlertDialogPortal",w3=e=>{const{__scopeAlertDialog:t,...n}=e,s=ea(t);return r.jsx(tx,{...s,...n})};w3.displayName=Jue;var Xue="AlertDialogOverlay",j3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=ea(n);return r.jsx(Wh,{...i,...s,ref:t})});j3.displayName=Xue;var Ec="AlertDialogContent",[Que,Zue]=Gue(Ec),ehe=que("AlertDialogContent"),S3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...i}=e,a=ea(n),o=x.useRef(null),c=He(t,o),d=x.useRef(null);return r.jsx(Tse,{contentName:Ec,titleName:N3,docsSlug:"alert-dialog",children:r.jsx(Que,{scope:n,cancelRef:d,children:r.jsxs(Hh,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:ye(i.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[r.jsx(ehe,{children:s}),r.jsx(she,{contentRef:o})]})})})});S3.displayName=Ec;var N3="AlertDialogTitle",_3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=ea(n);return r.jsx(p1,{...i,...s,ref:t})});_3.displayName=N3;var k3="AlertDialogDescription",C3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=ea(n);return r.jsx(g1,{...i,...s,ref:t})});C3.displayName=k3;var the="AlertDialogAction",nhe=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=ea(n);return r.jsx(nx,{...i,...s,ref:t})});nhe.displayName=the;var E3="AlertDialogCancel",rhe=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:i}=Zue(E3,n),a=ea(n),o=He(t,i);return r.jsx(nx,{...a,...s,ref:o})});rhe.displayName=E3;var she=({contentRef:e})=>{const t=`\`${Ec}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ec}\` by passing a \`${k3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ec}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ihe=b3,ahe=w3,ohe=j3,lhe=S3,che=_3,dhe=C3;function uhe({...e}){return r.jsx(ihe,{"data-slot":"alert-dialog",...e})}function hhe({...e}){return r.jsx(ahe,{"data-slot":"alert-dialog-portal",...e})}function fhe({className:e,...t}){return r.jsx(ohe,{"data-slot":"alert-dialog-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function mhe({className:e,...t}){return r.jsxs(hhe,{children:[r.jsx(fhe,{}),r.jsx(lhe,{"data-slot":"alert-dialog-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function phe({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-header",className:_e("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ghe({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-footer",className:_e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function xhe({className:e,...t}){return r.jsx(che,{"data-slot":"alert-dialog-title",className:_e("text-lg font-semibold",e),...t})}function yhe({className:e,...t}){return r.jsx(dhe,{"data-slot":"alert-dialog-description",className:_e("text-muted-foreground text-sm",e),...t})}const vhe=25,bhe=600,whe=120;function yS(e){return e.slice(0,vhe).map(t=>{const n=yi(t.priceUnit);return{sku:t.sku,name:t.name,qty:t.qty,unit:n,unitLabel:t.unitLabel,quantityDisplay:Ya(t.qty,n),unitPriceCents:t.price,totalPriceCents:t.price*t.qty,modifiers:t.mods?.map(s=>s.name).filter(Boolean),note:t.note?t.note.slice(0,whe):void 0}})}function vS(e){return yS(e).map(n=>`${n.quantityDisplay||`${n.qty}`} ${n.name}`.trim()).join(", ").slice(0,bhe)}const jhe=be(null),Cv=be("idle"),She=(e,t,n)=>{const s=()=>{if(!(typeof Intl>"u"||typeof Intl.DateTimeFormat!="function"))try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},i=()=>{if(typeof window>"u")return"production";const R=window.location.hostname?.toLowerCase?.()||"";return R==="localhost"||R==="127.0.0.1"||R.endsWith(".localhost")?"local":"production"},a=()=>{if(!(typeof window>"u"))try{const R=window.localStorage.getItem("tabsy-uber-test-spec");if(!R)return;const q=JSON.parse(R);if(q&&typeof q=="object")return q}catch(R){console.warn("Failed to parse tabsy-uber-test-spec:",R)}},o=Math.round(e.totals.subtotal),c=Math.round(e.totals.deliveryFee||0),d=Math.round(e.totals.serviceFee),h=Math.round(e.totals.tax),f=Math.round(e.totals.tip),m=e.deliveryType==="delivery"?Math.min(f,Ls):f;e.deliveryType==="delivery"&&f>Ls&&console.warn(` Tip capped from ${f} to ${Ls} cents (Uber Direct maximum)`);const g=Math.round(e.totals?.discount||0),y=Math.round(o+c+d+h+m-g),b=yd(y),j=e.deliveryType==="delivery"?Math.max(m,0):0,S=Math.max(y-b-d-c-j,0),_=i(),N=_==="local"?a():void 0,C=N||void 0,T=!!N,M=vS(t),P=s(),E=e.deliveryType==="delivery"?"delivery":"pickup";return{fulfillmentType:E,items:t.map(R=>{const q=yi(R.priceUnit);return{sku:R.sku,name:R.name,price:R.price,qty:R.qty,image:R.image,mods:R.mods,note:R.note,unit:q,unitLabel:R.unitLabel,quantityDisplay:Ya(R.qty,q)}}),customer:{firstName:e.form.customer.first_name,lastName:e.form.customer.last_name,phone:e.form.customer.phone,email:e.form.customer.email},delivery:E==="delivery"&&e.form.delivery?{line1:e.form.delivery.line1,line2:e.form.delivery.line2,city:e.form.delivery.city,state:e.form.delivery.state,zip:e.form.delivery.zip,instructions:e.form.delivery.instructions}:void 0,totals:{subtotal:o,tax:h,serviceFee:d,deliveryFee:c,tip:m,discount:g,total:y},tipMode:e.tipMode,couponCode:n,breakdown:{subtotal:o,deliveryFee:c,tabsyFee:d,stripeProcessingFee:b,tax:h,tip:m,discount:g,total:y,netPayoutEstimate:S},orderItemsSummary:M||void 0,metadata:{payment_method:e.form.paymentMethod,environment:_,uber_test_mode:T?"custom":"live",order_items_summary:M,delivery_provider:E==="delivery"?"uber_direct":"pickup",tabsy_fee_cents:d,delivery_fee_cents:c,stripe_fee_estimate_cents:b,net_payout_estimate_cents:S,courier_tip_cents:j,customer_timezone:P},deliveryQuote:e.deliveryQuote??void 0,paymentIntentId:e.form.paymentIntentId,testSpecifications:C,promoId:e.promoId,promoCode:e.promoCode}},T3=be(null,async(e,t,n)=>{const s=e(Ln);if(!s.length)throw new Error("Your cart is empty");if(console.log(" Place order params:",{deliveryType:n.deliveryType,hasDeliveryQuote:!!n.deliveryQuote,deliveryQuote:n.deliveryQuote,hasDeliveryAddress:!!n.form.delivery,deliveryAddress:n.form.delivery}),n.deliveryType==="delivery"&&!n.deliveryQuote)throw new Error("Delivery quote not available yet. Please confirm your address.");if(n.deliveryType==="delivery"&&n.deliveryQuote){if(console.log(" Delivery quote validation:",{hasQuoteId:!!n.deliveryQuote.quoteId,quoteId:n.deliveryQuote.quoteId,hasFeeCents:n.deliveryQuote.feeCents!==void 0,feeCents:n.deliveryQuote.feeCents,deliveryFeeInTotals:n.totals.deliveryFee,feesMatch:n.deliveryQuote.feeCents===n.totals.deliveryFee}),!n.deliveryQuote.quoteId)throw new Error("Delivery quote is missing quote ID. Please try selecting your address again.");if(n.deliveryQuote.feeCents===void 0)throw new Error("Delivery quote is missing fee information. Please try selecting your address again.");if(n.deliveryQuote.feeCents!==n.totals.deliveryFee)throw console.warn(" Delivery fee mismatch:",{quoteFee:n.deliveryQuote.feeCents,totalsFee:n.totals.deliveryFee}),new Error("Delivery fee mismatch. Please refresh and try again.")}if(n.form.paymentMethod==="card"&&!n.form.paymentIntentId)throw new Error("Payment authorization is still pending");t(Cv,"submitting");try{const i=She(n,s,e(Qh));console.log(" Order payload being sent:",{fulfillmentType:i.fulfillmentType,hasDeliveryQuote:!!i.deliveryQuote,deliveryQuote:i.deliveryQuote,hasDelivery:!!i.delivery,delivery:i.delivery,totals:i.totals});const a=await Fue(i);return console.log(" Order created successfully:",a.order.id),t(jhe,a.order),t(Cv,"success"),t(uS,null),a}catch(i){throw console.error(" Order creation failed:",i),t(Cv,"error"),i}}),Ou=be("idle"),Nhe=be(null,async(e,t,n)=>{t(Ou,"cancelling");try{const s=await Vue(n.orderId,{customerPhone:n.customerPhone,customerEmail:n.customerEmail,reason:n.reason});return t(Ou,"success"),s}catch(s){throw console.error("Order cancellation failed:",s),t(Ou,"error"),s}});be(null,(e,t)=>{t(Ou,"idle")});function P3({open:e,onOpenChange:t,orderId:n,orderTotal:s,customerPhone:i,customerEmail:a,isDelivery:o,onSuccess:c}){const d=wt(Nhe),h=Je(Ou),[f,m]=x.useState(null),g=h==="cancelling",y=s/100,b=y*.029+.3,j=async()=>{m(null);try{await d({orderId:n,customerPhone:i,customerEmail:a,reason:"Canceled by customer within edit window"}),c()}catch(S){m(S?.message||"Failed to cancel order. Please try again.")}};return r.jsx(uhe,{open:e,onOpenChange:t,children:r.jsxs(mhe,{className:"max-w-md",children:[r.jsxs(phe,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(Su,{className:"w-5 h-5 text-red-600"})}),r.jsx(xhe,{children:"Cancel Order?"})]}),r.jsx(yhe,{asChild:!0,children:r.jsxs("div",{className:"space-y-4 text-left",children:[r.jsx("p",{children:"Are you sure you want to cancel this order?"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Order Total"}),r.jsx("span",{className:"font-medium",children:lt(y)})]}),r.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[r.jsx("span",{children:"Refund Amount"}),r.jsx("span",{className:"font-medium",children:lt(y)})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2 text-amber-700 bg-amber-50 rounded-lg p-3",children:[r.jsx(Su,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Processing fees may apply"}),r.jsxs("p",{className:"text-xs text-amber-600 mt-0.5",children:["Stripe processing fees (~",lt(b),") may not be refunded."]})]})]}),o&&r.jsxs("div",{className:"flex items-start gap-2 text-blue-700 bg-blue-50 rounded-lg p-3",children:[r.jsx(Su,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("p",{children:"Your delivery will be cancelled."})]}),r.jsx("p",{className:"text-gray-500",children:"Refunds typically take 5-10 business days to appear on your statement."})]}),f&&r.jsx("div",{className:"bg-red-50 text-red-700 rounded-lg p-3 text-sm",children:f})]})})]}),r.jsxs(ghe,{className:"gap-2 sm:gap-0",children:[r.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:g,children:"Keep Order"}),r.jsx(re,{variant:"destructive",onClick:j,disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Order"})]})]})})}function _he({orderCreatedAt:e,onExpire:t}){const[n,s]=x.useState(()=>{const{remaining:o}=Wc(e);return o});if(x.useEffect(()=>{const o=setInterval(()=>{const{remaining:c,expired:d}=Wc(e);s(c),d&&(clearInterval(o),t())},1e3);return()=>clearInterval(o)},[e,t]),n<=0)return null;const i=Math.floor(n/60),a=n%60;return r.jsxs("div",{className:"inline-flex items-center gap-2 bg-amber-50 border border-amber-200 rounded-lg px-4 py-2",children:[r.jsx(Jt,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800",children:["Cancel window: ",r.jsxs("span",{className:"font-mono font-medium",children:[i,":",a.toString().padStart(2,"0")]})]})]})}const khe=({orderId:e,onNavigate:t,config:n})=>{const[s,i]=x.useState(null),[a,o]=x.useState(null),[c,d]=x.useState(!0),[h,f]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(!1);if(x.useEffect(()=>{(async()=>{try{const R=JSON.parse(localStorage.getItem("tabsy-orders")||"[]").find(q=>q.id===e);if(R){i(R);try{R.loyalty&&f(R.loyalty)}catch(q){console.error("Failed to award stars:",q)}}try{const q=await xS(e);o(q);const{expired:V}=Wc(q.createdAt);g(V)}catch(q){console.error("Failed to fetch order details:",q)}}catch(E){console.error("Failed to load order:",E)}finally{d(!1)}})()},[e]),c)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})});if(!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx("h2",{className:"mb-2",children:"Order Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find this order. It may have been removed or the link is incorrect."}),r.jsx(re,{onClick:()=>t("/menu"),children:"Back to Menu"})]})});const j=new Date(s.eta),S=y3(s.id),_=s.customer.name||`${s.customer.first_name||""} ${s.customer.last_name||""}`.trim()||"Customer",N=a&&!m,C=s.mode==="delivery",T=x.useCallback(()=>{g(!0)},[]),M=x.useCallback(()=>{b(!1),t(`/status/${e}`)},[t,e]);return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[r.jsx("div",{className:"bg-gradient-to-b from-green-50 to-white py-12",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[r.jsx(W.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:r.jsx(Hr,{className:"w-12 h-12 text-green-600"})}),r.jsx(W.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-3",children:"Order Confirmed!"}),r.jsxs(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gray-600 mb-6",children:["Thank you, ",_,". Your order has been received."]}),r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"inline-block bg-white rounded-lg px-6 py-3 shadow-sm border",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),r.jsx("div",{className:"text-xl font-mono",children:s.id})]}),N&&r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.45},className:"mt-6 space-y-3",children:[r.jsx(_he,{orderCreatedAt:a.createdAt,onExpire:T}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",children:[r.jsx(ms,{className:"w-4 h-4"}),"Cancel Order"]})})]})]})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 -mt-6",children:[h&&r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:r.jsxs(we,{className:"p-6 mb-6 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:n.theme.brand},children:r.jsx(Bt,{className:"w-6 h-6 text-white fill-current"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-gray-900",children:"Stars Earned!"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Reward yourself"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Order reward"}),r.jsxs("span",{className:"font-semibold",style:{color:n.theme.brand},children:["+",h.starsEarned," "]})]}),r.jsx(vr,{className:"my-2"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"New balance"}),r.jsxs("span",{className:"text-xl font-bold",style:{color:n.theme.brand},children:[h.newBalance," "]})]})]})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsx(we,{className:"p-6 mb-6",children:s.mode==="pickup"?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${n.theme.brand}15`},children:r.jsx(Dn,{className:"w-6 h-6",style:{color:n.theme.brand}})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Pickup Order"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Ready in about 1520 min"})]})]}),r.jsx(vr,{className:"my-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Ready Time"}),r.jsx("div",{className:"text-sm text-gray-600",children:j.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bn,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Pickup Location"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[n.address.line1,r.jsx("br",{}),n.address.city,", ",n.address.state," ",n.address.zip]})]})]}),r.jsxs("div",{className:"mt-4 p-4 rounded-lg border-2",style:{backgroundColor:`${n.theme.brand}10`,borderColor:`${n.theme.brand}40`},children:[r.jsx("div",{className:"text-sm font-medium mb-1",style:{color:n.theme.brand},children:"Your Pickup Code"}),r.jsx("div",{className:"text-3xl font-mono",style:{color:n.theme.brand},children:S}),r.jsx("div",{className:"text-xs mt-1",style:{color:n.theme.brand},children:"Show this code when you arrive"})]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(zs,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"Delivery Order"}),r.jsx("p",{className:"text-sm text-gray-600",children:"On its way soon"})]})]}),r.jsx(vr,{className:"my-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),r.jsx("div",{className:"text-sm text-gray-600",children:j.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bn,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Delivery Address"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[s.address?.line1,s.address?.apt&&`, ${s.address.apt}`,r.jsx("br",{}),s.address?.city,", ",s.address?.state," ",s.address?.zip]})]})]}),s.address?.notes&&r.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Delivery Notes"}),r.jsx("div",{className:"text-sm",children:s.address.notes})]})]})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:r.jsxs(we,{className:"p-6 mb-6",children:[r.jsx("h2",{className:"font-semibold mb-4",children:"Order Details"}),r.jsx("div",{className:"space-y-3 mb-4",children:s.items.map((P,E)=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"text-sm",children:[P.qty,"x ",P.name]}),P.mods&&P.mods.length>0&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:P.mods.map((R,q)=>r.jsxs("div",{children:["+ ",R.name]},q))}),P.note&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",P.note]})]}),r.jsx("div",{className:"text-sm",children:lt(P.price*P.qty)})]},E))}),r.jsx(vr,{className:"my-4"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:lt(s.totals.subtotal)})]}),s.totals.discount&&s.totals.discount>0&&r.jsxs("div",{className:"flex justify-between",style:{color:n.theme.brand},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-",lt(s.totals.discount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:lt(s.totals.tax)})]}),s.totals.tips>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:lt(s.totals.tips)})]}),s.totals.fees>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:lt(s.totals.fees)})]})]}),r.jsx(vr,{className:"my-4"}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:lt(s.totals.grand_total)})]})]})}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(re,{variant:"outline",size:"lg",className:"flex-1",onClick:()=>t(`/status/${s.id}`),children:["Track Order Status",r.jsx(fs,{className:"w-4 h-4 ml-2"})]}),r.jsx(re,{size:"lg",className:"flex-1 text-white",style:{backgroundColor:n.theme.brand},onClick:()=>t("/menu"),children:"Back to Menu"})]}),r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-8 text-center text-sm text-gray-600",children:r.jsxs("p",{className:"flex items-center justify-center gap-2",children:[r.jsx(sr,{className:"w-4 h-4"}),"Questions about your order? Call us at"," ",r.jsx("a",{href:`tel:${n.contact.phone}`,className:"underline",children:n.contact.phone})]})})]}),a&&r.jsx(P3,{open:y,onOpenChange:b,orderId:a.id,orderTotal:a.totals.totalCents,customerPhone:a.contact.phone||void 0,customerEmail:a.contact.email||void 0,isDelivery:C,onSuccess:M})]})},QT={authorization_hold:"Delivery service is temporarily unavailable. Please choose pickup or try again later.",payment_method_invalid:"There was a payment issue with delivery. Please choose pickup or try again.",insufficient_funds:"Unable to process delivery payment. Please choose pickup or contact support.",address_undeliverable:"We cannot deliver to this address. Please check the address or choose pickup.",address_undeliverable_limited_couriers:"Delivery is currently unavailable due to high demand or weather conditions. Please try again later or choose pickup.",invalid_address:"The delivery address seems invalid. Please check the street and zip code.",dropoff_address_undeliverable:"We cannot deliver to this address. Please check the address or choose pickup.",pickup_address_invalid:"Store address issue. Please contact support or choose pickup.",quote_expired:"The delivery quote has expired. Please try again.",invalid_quote:"The delivery quote is no longer valid. Please refresh and try again.",no_couriers_available:"All delivery drivers are currently busy. Please try again in a few minutes or choose pickup.",couriers_busy:"All delivery drivers are currently busy. Please try again in a few minutes or choose pickup.",no_couriers:"No delivery drivers available right now. Please try again later or choose pickup.",distance_too_far:"Your address is outside our delivery range. Please choose pickup instead.",out_of_range:"Your address is outside our delivery range. Please choose pickup instead.",dropoff_too_far:"Your address is too far for delivery. Please choose pickup instead.",store_closed:"We're not currently accepting delivery orders. Please try pickup or come back later.",merchant_not_accepting:"We're not currently accepting delivery orders. Please try pickup or come back later.",manifest_invalid:"There was an issue with your order items. Please try again.",order_too_large:"Your order is too large for delivery. Please contact us for other options."};function bS(e){const t=e?.message||String(e),n=t.toLowerCase();console.error("Raw delivery error:",t);const s=t.match(/\[([^\]]+)\]/);if(s){const i=s[1].toLowerCase(),a=QT[i];if(a)return a}for(const[i,a]of Object.entries(QT))if(n.includes(i.toLowerCase()))return a;return n.includes("failed to dispatch courier")||n.includes("courier dispatch")?"We couldn't find a driver for your delivery right now. Please try again or choose pickup.":n.includes("fieldconverter error")||n.includes("field converter")?"The delivery address couldn't be processed. Please check and try again.":t.includes("{")||n.includes("uber quote failed")||n.includes("uber delivery failed")||n.includes("uber auth failed")||n.includes("request failed")||n.includes("502")||n.includes("500")||n.includes("http ")?"We're having trouble connecting to our delivery service. Please try again or choose pickup.":!t.includes("{")&&!t.includes("Error:")&&t.length<150?t:"Something went wrong with delivery. Please try again or choose pickup."}function Che(e){const t=e?.message||String(e);console.error("Raw order error:",t);const n=bS(e);return n!==t?n:t.includes("Payment")||t.includes("payment")?t.includes("declined")?"Your payment was declined. Please try a different payment method.":t.includes("expired")?"Your payment session expired. Please try again.":t.includes("insufficient")?"Insufficient funds. Please try a different payment method.":"There was a problem processing your payment. Please try again.":t.includes("out of stock")||t.includes("unavailable")?"Some items in your cart are no longer available. Please review your cart.":t.includes("cart is empty")?"Your cart is empty. Please add items before checking out.":t.includes("500")||t.includes("server error")?"We're experiencing technical difficulties. Please try again in a moment.":t.includes("timeout")||t.includes("timed out")?"The request took too long. Please check your connection and try again.":!t.includes("{")&&!t.includes("Error:")&&t.length<200?t:"Something went wrong placing your order. Please try again."}var R3="clover",Ehe=function(t){return t===3?"v3":t},A3="https://js.stripe.com",The="".concat(A3,"/").concat(R3,"/stripe.js"),Phe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Rhe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ahe=function(t){return Phe.test(t)||Rhe.test(t)},Ihe=function(){for(var t=document.querySelectorAll('script[src^="'.concat(A3,'"]')),n=0;n<t.length;n++){var s=t[n];if(Ahe(s.src))return s}return null},ZT=function(t){var n="",s=document.createElement("script");s.src="".concat(The).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(s),s},Ohe=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.3.0",startTime:n})},cu=null,qm=null,Gm=null,Mhe=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Dhe=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Lhe=function(t){return cu!==null?cu:(cu=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Ihe();if(!(i&&t)){if(!i)i=ZT(t);else if(i&&Gm!==null&&qm!==null){var a;i.removeEventListener("load",Gm),i.removeEventListener("error",qm),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=ZT(t)}}Gm=Dhe(n,s),qm=Mhe(s),i.addEventListener("load",Gm),i.addEventListener("error",qm)}catch(o){s(o);return}}),cu.catch(function(n){return cu=null,Promise.reject(n)}))},$he=function(t,n,s){if(t===null)return null;var i=n[0],a=i.match(/^pk_test/),o=Ehe(t.version),c=R3;a&&o!==c&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.3.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=t.apply(void 0,n);return Ohe(d,s),d},du,I3=!1,O3=function(){return du||(du=Lhe(null).catch(function(t){return du=null,Promise.reject(t)}),du)};Promise.resolve().then(function(){return O3()}).catch(function(e){I3||console.warn(e)});var M3=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];I3=!0;var i=Date.now();return O3().then(function(a){return $he(a,n,i)})},Ev={exports:{}},Tv,eP;function Fhe(){if(eP)return Tv;eP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tv=e,Tv}var Pv,tP;function Uhe(){if(tP)return Pv;tP=1;var e=Fhe();function t(){}function n(){}return n.resetWarningCache=t,Pv=function(){function s(o,c,d,h,f,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}s.isRequired=s;function i(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Pv}var nP;function zhe(){return nP||(nP=1,Ev.exports=Uhe()()),Ev.exports}var Bhe=zhe();const Et=xg(Bhe);function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function sP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(s){D3(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bp=function(t){return typeof t}:bp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function D3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vhe(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Whe(e,t){if(e==null)return{};var n=Vhe(e,t),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function L3(e,t){return Hhe(e)||qhe(e,t)||Ghe(e,t)||Khe()}function Hhe(e){if(Array.isArray(e))return e}function qhe(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var s=[],i=!0,a=!1,o,c;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));i=!0);}catch(d){a=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw c}}return s}}function Ghe(e,t){if(e){if(typeof e=="string")return iP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iP(e,t)}}function iP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var er=function(t,n,s){var i=!!s,a=ce.useRef(s);ce.useEffect(function(){a.current=s},[s]),ce.useEffect(function(){if(!i||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,a])},xw=function(t){var n=ce.useRef(t);return ce.useEffect(function(){n.current=t},[t]),n.current},Hc=function(t){return t!==null&&bp(t)==="object"},Yhe=function(t){return Hc(t)&&typeof t.then=="function"},Jhe=function(t){return Hc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},aP="[object Object]",Xhe=function e(t,n){if(!Hc(t)||!Hc(n))return t===n;var s=Array.isArray(t),i=Array.isArray(n);if(s!==i)return!1;var a=Object.prototype.toString.call(t)===aP,o=Object.prototype.toString.call(n)===aP;if(a!==o)return!1;if(!a&&!s)return t===n;var c=Object.keys(t),d=Object.keys(n);if(c.length!==d.length)return!1;for(var h={},f=0;f<c.length;f+=1)h[c[f]]=!0;for(var m=0;m<d.length;m+=1)h[d[m]]=!0;var g=Object.keys(h);if(g.length!==c.length)return!1;var y=t,b=n,j=function(_){return e(y[_],b[_])};return g.every(j)},$3=function(t,n,s){return Hc(t)?Object.keys(t).reduce(function(i,a){var o=!Hc(n)||!Xhe(t[a],n[a]);return s.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?sP(sP({},i||{}),{},D3({},a,t[a])):i},null):null},F3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",oP=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F3;if(t===null||Jhe(t))return t;throw new Error(n)},Qhe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F3;if(Yhe(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return oP(i,n)})};var s=oP(t,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Zhe=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.3.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},bx=ce.createContext(null);bx.displayName="ElementsContext";var U3=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},wS=function(t){var n=t.stripe,s=t.options,i=t.children,a=ce.useMemo(function(){return Qhe(n)},[n]),o=ce.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(s):null}}),c=L3(o,2),d=c[0],h=c[1];ce.useEffect(function(){var g=!0,y=function(j){h(function(S){return S.stripe?S:{stripe:j,elements:j.elements(s)}})};return a.tag==="async"&&!d.stripe?a.stripePromise.then(function(b){b&&g&&y(b)}):a.tag==="sync"&&!d.stripe&&y(a.stripe),function(){g=!1}},[a,d,s]);var f=xw(n);ce.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var m=xw(s);return ce.useEffect(function(){if(d.elements){var g=$3(s,m,["clientSecret","fonts"]);g&&d.elements.update(g)}},[s,m,d.elements]),ce.useEffect(function(){Zhe(d.stripe)},[d.stripe]),ce.createElement(bx.Provider,{value:d},i)};wS.propTypes={stripe:Et.any,options:Et.object};var efe=function(t){var n=ce.useContext(bx);return U3(n,t)},z3=function(){var t=efe("calls useElements()"),n=t.elements;return n};Et.func.isRequired;var B3=ce.createContext(null);B3.displayName="CheckoutContext";Et.any,Et.shape({clientSecret:Et.oneOfType([Et.string,Et.instanceOf(Promise)]).isRequired,elementsOptions:Et.object}).isRequired;var yw=function(t){var n=ce.useContext(B3),s=ce.useContext(bx);if(n){if(s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return U3(s,t)},tfe=["mode"],nfe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Tr=function(t,n){var s="".concat(nfe(t),"Element"),i=function(d){var h=d.id,f=d.className,m=d.options,g=m===void 0?{}:m,y=d.onBlur,b=d.onFocus,j=d.onReady,S=d.onChange,_=d.onEscape,N=d.onClick,C=d.onLoadError,T=d.onLoaderStart,M=d.onNetworksChange,P=d.onConfirm,E=d.onCancel,R=d.onShippingAddressChange,q=d.onShippingRateChange,V=d.onSavedPaymentMethodRemove,Q=d.onSavedPaymentMethodUpdate,G=yw("mounts <".concat(s,">")),A="elements"in G?G.elements:null,J="checkoutState"in G?G.checkoutState:null,$=J?.type==="success"||J?.type==="loading"?J.sdk:null,F=ce.useState(null),B=L3(F,2),O=B[0],Z=B[1],H=ce.useRef(null),U=ce.useRef(null);er(O,"blur",y),er(O,"focus",b),er(O,"escape",_),er(O,"click",N),er(O,"loaderror",C),er(O,"loaderstart",T),er(O,"networkschange",M),er(O,"confirm",P),er(O,"cancel",E),er(O,"shippingaddresschange",R),er(O,"shippingratechange",q),er(O,"savedpaymentmethodremove",V),er(O,"savedpaymentmethodupdate",Q),er(O,"change",S);var D;j&&(t==="expressCheckout"?D=j:D=function(){j(O)}),er(O,"ready",D),ce.useLayoutEffect(function(){if(H.current===null&&U.current!==null&&(A||$)){var z=null;if($)switch(t){case"payment":z=$.createPaymentElement(g);break;case"address":if("mode"in g){var L=g.mode,X=Whe(g,tfe);if(L==="shipping")z=$.createShippingAddressElement(X);else if(L==="billing")z=$.createBillingAddressElement(X);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":z=$.createExpressCheckoutElement(g);break;case"currencySelector":z=$.createCurrencySelectorElement();break;case"taxId":z=$.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else A&&(z=A.create(t,g));H.current=z,Z(z),z&&z.mount(U.current)}},[A,$,g]);var ee=xw(g);return ce.useEffect(function(){if(H.current){var z=$3(g,ee,["paymentRequest"]);z&&"update"in H.current&&H.current.update(z)}},[g,ee]),ce.useLayoutEffect(function(){return function(){if(H.current&&typeof H.current.destroy=="function")try{H.current.destroy(),H.current=null}catch{}}},[]),ce.createElement("div",{id:h,className:f,ref:U})},a=function(d){yw("mounts <".concat(s,">"));var h=d.id,f=d.className;return ce.createElement("div",{id:h,className:f})},o=n?a:i;return o.propTypes={id:Et.string,className:Et.string,onChange:Et.func,onBlur:Et.func,onFocus:Et.func,onReady:Et.func,onEscape:Et.func,onClick:Et.func,onLoadError:Et.func,onLoaderStart:Et.func,onNetworksChange:Et.func,onConfirm:Et.func,onCancel:Et.func,onShippingAddressChange:Et.func,onShippingRateChange:Et.func,onSavedPaymentMethodRemove:Et.func,onSavedPaymentMethodUpdate:Et.func,options:Et.object},o.displayName=s,o.__elementType=t,o},Pr=typeof window>"u",rfe=ce.createContext(null);rfe.displayName="EmbeddedCheckoutProviderContext";var V3=function(){var t=yw("calls useStripe()"),n=t.stripe;return n};Tr("auBankAccount",Pr);Tr("card",Pr);Tr("cardNumber",Pr);Tr("cardExpiry",Pr);Tr("cardCvc",Pr);Tr("iban",Pr);var W3=Tr("payment",Pr);Tr("expressCheckout",Pr);Tr("paymentRequestButton",Pr);Tr("linkAuthentication",Pr);Tr("address",Pr);Tr("shippingAddress",Pr);Tr("paymentMethodMessaging",Pr);Tr("taxId",Pr);const lP="tabsy-orders";function uu(e){return e?e/100:0}function sfe(e){return e.map(t=>({name:t.name,qty:t.quantity,quantityDisplay:t.quantityDisplay||Ya(t.quantity,t.unit||void 0),price:t.quantity>0?t.totalPriceCents/t.quantity/100:t.unitPriceCents/100}))}function H3(e,t){if(typeof window>"u")return;const n=JSON.parse(localStorage.getItem(lP)||"[]"),s={id:e.id,mode:e.fulfillmentType,status:ol(e.status),customer:{name:e.contact.name,email:e.contact.email,phone:e.contact.phone},items:sfe(e.items),totals:{subtotal:uu(e.totals.subtotalCents),tax:uu(e.totals.taxCents),fees:uu((e.totals.serviceFeeCents??0)+(e.totals.deliveryFeeCents??0)),tips:uu(e.totals.tipCents),grand_total:uu(e.totals.totalCents)},placedAt:e.createdAt,eta:e.deliveryEta||e.pickupEta||e.createdAt,loyalty:t};n.unshift(s),localStorage.setItem(lP,JSON.stringify(n.slice(0,50)))}const q3=({brandColor:e="#6B0F1A",accentColor:t="#E8D5BA"})=>{const[n,s]=Hn(t3);return r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"group relative",children:r.jsxs("label",{className:`flex items-start gap-3.5 cursor-pointer p-4 rounded-xl
                   border-2 transition-all duration-300 ease-out
                   hover:shadow-md active:scale-[0.99]`,style:{borderColor:n?e:"#e5e7eb",backgroundColor:n?`${e}08`:"transparent"},children:[r.jsxs("div",{className:"relative flex-shrink-0 mt-0.5",children:[r.jsx("input",{type:"checkbox",checked:n,onChange:i=>s(i.target.checked),className:"sr-only","aria-label":"SMS consent checkbox"}),r.jsx(W.div,{className:`w-6 h-6 rounded-md border-2 flex items-center justify-center overflow-hidden
                       transition-all duration-200`,style:{borderColor:n?e:"#d1d5db",backgroundColor:n?e:"#fff"},whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(st,{mode:"wait",children:n&&r.jsx(W.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:400,damping:25},children:r.jsx(In,{className:"w-4 h-4 text-white stroke-[3]"})})})}),r.jsx(st,{children:n&&r.jsx(W.div,{className:"absolute inset-0 rounded-md",style:{backgroundColor:e,opacity:.3},initial:{scale:1,opacity:.3},animate:{scale:1.5,opacity:0},exit:{opacity:0},transition:{duration:.4}})})]}),r.jsxs("div",{className:"flex-1 text-sm leading-relaxed",children:[r.jsxs("p",{className:"text-gray-700 font-normal",children:["I agree to receive"," ",r.jsx("span",{className:"font-semibold text-gray-900",children:"SMS messages"})," ","from"," ",r.jsx("span",{className:"font-serif italic font-medium tracking-wide",style:{color:e},children:"Tabsy"})," ","regarding account setup, onboarding, customer support, delivery and important service updates."]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:["Message & data rates may apply. Reply"," ",r.jsx("span",{className:"font-mono font-semibold text-gray-700",children:"STOP"})," ","to unsubscribe,"," ",r.jsx("span",{className:"font-mono font-semibold text-gray-700",children:"HELP"})," ","for help."]})]}),r.jsx(W.div,{className:"flex-shrink-0 mt-0.5",animate:{opacity:n?1:.3,scale:n?1:.9},transition:{duration:.2},children:r.jsx(yY,{className:"w-5 h-5",style:{color:n?e:"#9ca3af"}})})]})})},G3=({brandColor:e="#6B0F1A",subtotal:t,fulfillmentType:n="pickup"})=>{const[s,i]=Hn(bd),[a,o]=Hn(wd),[c,d]=x.useState(""),[h,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState("percentage");Je(xx);const j=x.useRef(null),S=Ls/100,{exceedsUberMax:_,currentTipCents:N,cappedTipCents:C}=x.useMemo(()=>{const A=h?a:Math.round(t*(s/100)),J=n==="delivery"&&A>Ls;return{currentTipCents:A,exceedsUberMax:J,cappedTipCents:J?Ls:A}},[t,s,a,h,n]),T=[{label:"15%",percentage:15},{label:"18%",percentage:18},{label:"20%",percentage:20},{label:"25%",percentage:25}];x.useEffect(()=>{m&&j.current&&setTimeout(()=>{j.current?.focus()},100)},[m]);const M=A=>{i(A),o(0),d(""),f(!1),g(!1)},P=()=>{g(!0),i(0),f(!0)},E=A=>{if(d(A),A===""){o(0),i(0);return}const J=parseFloat(A);if(!isNaN(J))if(y==="percentage")J>=0&&J<=100&&(i(J),o(0));else{const $=Math.round(J*100);$>=0&&(o($),i(0))}},R=()=>{i(0),o(0),d(""),f(!1),g(!1)},q=()=>{i(0),o(Ls),d(S.toString()),f(!0),g(!0),b("amount")},V=A=>Math.round(t*(A/100)),Q=h?a:V(s),G=s>0||h&&a>0;return r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-2.5",children:[r.jsx(W.div,{animate:{scale:G?[1,1.15,1]:1},transition:{duration:.4,times:[0,.5,1]},children:r.jsx(Hu,{className:"w-5 h-5 transition-all duration-300",style:{color:G?e:"#9ca3af",fill:G?e:"transparent"}})}),r.jsx("h3",{className:"text-[17px] font-semibold text-gray-900 tracking-tight",children:"Add a Tip"}),r.jsx("span",{className:"text-xs text-gray-500 ml-auto font-medium",children:"(Optional)"})]}),r.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[T.map((A,J)=>{const $=V(A.percentage),F=!h&&s===A.percentage;return r.jsxs(W.button,{onClick:()=>M(A.percentage),className:`relative rounded-2xl p-3.5 border-2 transition-all duration-200
                         hover:shadow-lg active:scale-95 overflow-hidden touch-manipulation`,style:{borderColor:F?e:"#e5e7eb",backgroundColor:F?`${e}0d`:"#fff"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.06},whileHover:{y:-2},whileTap:{scale:.95},type:"button",children:[r.jsx(st,{children:F&&r.jsx(W.div,{className:"absolute top-1.5 right-1.5",initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},exit:{scale:0,rotate:45},transition:{type:"spring",stiffness:300,damping:20},children:r.jsx(fi,{className:"w-3 h-3",style:{color:e}})})}),r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("span",{className:"text-[17px] font-bold transition-colors tracking-tight",style:{color:F?e:"#1f2937"},children:A.label}),r.jsx("span",{className:"text-[11px] text-gray-600 font-semibold",children:lt($/100)})]})]},A.percentage)}),r.jsxs("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),console.log("Custom chip clicked!"),P()},className:`relative rounded-2xl p-3.5 border-2 transition-all duration-200
                     hover:shadow-lg active:scale-95 overflow-visible touch-manipulation cursor-pointer z-10`,style:{borderColor:h?e:"#e5e7eb",backgroundColor:h?`${e}0d`:"#fff",pointerEvents:"auto"},type:"button",children:[h&&r.jsx("div",{className:"absolute top-1.5 right-1.5",children:r.jsx(fi,{className:"w-3 h-3",style:{color:e}})}),r.jsxs("div",{className:"flex flex-col items-center gap-1 pointer-events-none",children:[r.jsx("span",{className:"text-[17px] font-bold transition-colors tracking-tight",style:{color:h?e:"#1f2937"},children:"Custom"}),r.jsx(TY,{className:"w-3 h-3",style:{color:h?e:"#6b7280"}})]})]})]}),r.jsx(st,{children:m&&r.jsx(W.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{type:"spring",stiffness:300,damping:30},className:"overflow-hidden",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Enter custom tip"}),r.jsxs("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-lg",children:[r.jsxs("button",{type:"button",onClick:()=>{b("percentage"),d("")},className:"px-3 py-1.5 text-xs font-semibold rounded-md transition-all touch-manipulation",style:{backgroundColor:y==="percentage"?e:"transparent",color:y==="percentage"?"#fff":"#6b7280"},children:[r.jsx(Yu,{className:"w-3 h-3 inline mr-1"}),"%"]}),r.jsxs("button",{type:"button",onClick:()=>{b("amount"),d("")},className:"px-3 py-1.5 text-xs font-semibold rounded-md transition-all touch-manipulation",style:{backgroundColor:y==="amount"?e:"transparent",color:y==="amount"?"#fff":"#6b7280"},children:[r.jsx(ii,{className:"w-3 h-3 inline mr-1"}),"$"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:y==="percentage"?r.jsx(Yu,{className:"w-5 h-5 transition-colors duration-200",style:{color:s>0||a>0?e:"#9ca3af"}}):r.jsx(ii,{className:"w-5 h-5 transition-colors duration-200",style:{color:s>0||a>0?e:"#9ca3af"}})}),r.jsx("input",{ref:j,type:"number",inputMode:"decimal",step:y==="percentage"?"1":"0.01",min:"0",max:y==="percentage"?"100":void 0,placeholder:y==="percentage"?"0":"0.00",value:c,onChange:A=>E(A.target.value),className:`w-full pr-5 py-4 text-lg font-semibold border-2 rounded-2xl
                             transition-all duration-200 focus:outline-none
                             focus:ring-2 focus:ring-offset-2 touch-manipulation`,style:{paddingLeft:"44px",borderColor:s>0||a>0?e:"#e5e7eb",backgroundColor:s>0||a>0?`${e}08`:"#fff",...(s>0||a>0)&&{"--tw-ring-color":e}}})]}),r.jsx("p",{className:"text-xs text-gray-600 font-medium px-1",children:" 100% of your tip goes directly to the staff"})]})})}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:R,className:`text-sm text-gray-500 hover:text-gray-900 transition-colors
                     underline decoration-dotted underline-offset-4 font-medium
                     px-3 py-1.5 rounded-lg hover:bg-gray-50 touch-manipulation`,type:"button",children:"No tip"})}),r.jsx(st,{mode:"wait",children:G&&r.jsx(W.div,{initial:{opacity:0,height:0,scale:.95},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"overflow-hidden",children:r.jsxs("div",{className:"p-5 rounded-2xl border-2 relative overflow-hidden shadow-sm",style:{borderColor:`${e}30`,backgroundColor:`${e}0a`},children:[r.jsx("div",{className:"absolute inset-0 opacity-5",style:{background:`radial-gradient(circle at top right, ${e} 0%, transparent 70%)`}}),r.jsxs("div",{className:"relative flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(W.div,{className:"w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:e},initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20},children:r.jsx(Hu,{className:"w-5 h-5 text-white fill-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-tight",children:"Thank you for your generosity!"}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5 font-medium",children:" Goes directly to the staff"})]})]}),r.jsxs(W.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},className:"text-right flex-shrink-0",children:[r.jsx("p",{className:"text-2xl font-bold tracking-tight",style:{color:e},children:lt(Q/100)}),h&&r.jsx("p",{className:"text-[11px] text-gray-600 font-medium mt-0.5",children:"Custom amount"}),!h&&s>0&&r.jsxs("p",{className:"text-[11px] text-gray-600 font-medium mt-0.5",children:[s,"% of subtotal"]})]})]})]})})}),r.jsx(st,{children:_&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"overflow-hidden",children:r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-2xl",children:[r.jsx(Su,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-800 space-y-2",children:[r.jsxs("p",{className:"font-semibold",children:["Uber Direct has a maximum tip of $",S.toFixed(2)]}),r.jsxs("p",{className:"text-amber-700",children:["Your tip of $",(N/100).toFixed(2)," exceeds this limit. The courier will receive $",(C/100).toFixed(2)," and you won't be charged for the excess."]}),r.jsxs("button",{type:"button",onClick:q,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-amber-600 text-white font-semibold text-sm rounded-lg hover:bg-amber-700 transition-colors touch-manipulation",children:[r.jsx(ii,{className:"w-4 h-4"}),"Set tip to $",S.toFixed(2)]})]})]})})})]})};function ao({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:_e("resize-none border-gray-300 placeholder:text-gray-400 focus-visible:border-brand focus-visible:ring-brand/20 aria-invalid:ring-red-500/20 aria-invalid:border-red-500 flex field-sizing-content min-h-16 w-full rounded-md border bg-white text-gray-900 px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const K3=({onAddressSelect:e,initialAddress:t,googleMapsApiKey:n,brandColor:s="#6B0F1A",hideMapPreview:i=!1})=>{const[a,o]=x.useState(""),[c,d]=x.useState(null),[h,f]=x.useState(!1),[m,g]=x.useState(!0),[y,b]=x.useState(null),[j,S]=x.useState(t?.instructions||""),[_,N]=x.useState(t?.line2||""),C=x.useRef(null),T=x.useRef(null),M=x.useRef(!1),P=x.useRef(null),E=x.useRef(!1),R=x.useRef("");x.useEffect(()=>{if(!n){g(!1),b("Google Maps API key not configured");return}if(window.google?.maps?.places){console.log(" Google Maps already loaded"),g(!1),q();return}if(M.current)return;if(document.querySelector('script[src*="maps.googleapis.com"]')){console.log(" Google Maps script already in DOM, waiting for load...");const O=setInterval(()=>{window.google?.maps?.places&&(clearInterval(O),g(!1),q())},100);return}M.current=!0,console.log(" Loading Google Maps API...");const F="initGoogleMaps_"+Date.now();window[F]=()=>{console.log(" Google Maps API loaded successfully"),g(!1),q(),delete window[F]};const B=document.createElement("script");return B.src=`https://maps.googleapis.com/maps/api/js?key=${n}&libraries=places&callback=${F}&loading=async`,B.async=!0,B.defer=!0,B.onerror=()=>{console.error(" Failed to load Google Maps API"),g(!1),b("Failed to load Google Maps. Please check your API key and internet connection."),M.current=!1},document.head.appendChild(B),()=>{C.current&&google.maps.event.clearInstanceListeners(C.current)}},[n]);const q=()=>{if(!T.current){console.warn(" Input ref not ready");return}if(!window.google?.maps?.places){console.warn(" Google Maps Places API not loaded");return}try{console.log(" Initializing Google Places Autocomplete..."),C.current=new google.maps.places.Autocomplete(T.current,{componentRestrictions:{country:"us"},fields:["address_components","formatted_address","geometry","place_id"],types:["address"]}),C.current.addListener("place_changed",V),T.current&&T.current.addEventListener("keydown",$=>{$.key==="Enter"&&$.stopPropagation()}),console.log(" Autocomplete initialized successfully")}catch($){console.error(" Failed to initialize autocomplete:",$),b("Failed to initialize address autocomplete")}},V=()=>{const $=C.current?.getPlace();if(!$){console.warn(" No place selected"),E.current=!1;return}if(!$.address_components){console.warn(" Place has no address components"),E.current=!1;return}console.log(" Place selected:",$.formatted_address),E.current=!0;const F=Q($);F?(R.current=$.formatted_address||"",setTimeout(()=>{d(F),o($.formatted_address||""),console.log(" Address parsed successfully:",F),J(F,_,j,!0),setTimeout(()=>{E.current=!1},100)},0)):(console.error(" Failed to parse address"),E.current=!1)},Q=$=>{const F=$.address_components||[],B=$.formatted_address?.split(",").map(L=>L.trim())??[],O=(L,X=!1)=>{const K=F.find(se=>L.some(ue=>se.types.includes(ue)));return K?X?K.short_name||"":K.long_name||"":""},Z=O(["street_number"]),H=O(["route"]);let U=`${Z} ${H}`.trim();!U&&B.length>0?U=B[0]:!U&&$.name&&(U=$.name);let D=O(["locality"])||O(["postal_town"])||O(["administrative_area_level_3"])||O(["administrative_area_level_2"])||"";!D&&B.length>1&&(D=B[1]);let ee=O(["administrative_area_level_1"],!0);!ee&&B.length>2&&(ee=B[2].match(/[A-Z]{2}/)?.[0]||"");let z=O(["postal_code"]);return!z&&B.length>2&&(z=B[2].match(/\d{5}(?:-\d{4})?/)?.[0]||""),!U||!D||!ee||!z?(console.error(" Incomplete address (falling back to formatted string):",{line1:U,city:D,state:ee,zip:z,formatted:$.formatted_address}),null):{line1:U,line2:"",city:D,state:ee,zip:z,country:"US",latitude:$.geometry?.location?.lat(),longitude:$.geometry?.location?.lng()}},G=$=>{const F=$.address_components||[],B=$.formatted_address?.split(",").map(K=>K.trim())??[],O=(K,se=!1)=>{const ue=F.find(de=>K.some(le=>de.types.includes(le)));return ue?se?ue.short_name||"":ue.long_name||"":""},Z=O(["street_number"]),H=O(["route"]),U=O(["neighborhood"]),D=O(["sublocality"]);let ee=`${Z} ${H}`.trim();ee||(ee=H||U||D||""),!ee&&B.length>0&&(ee=B[0]),!ee&&$.name&&(ee=$.name);let z=O(["locality"])||O(["postal_town"])||O(["sublocality"])||O(["neighborhood"])||O(["administrative_area_level_3"])||O(["administrative_area_level_2"])||"";!z&&B.length>1&&(z=B[1]);let L=O(["administrative_area_level_1"],!0);!L&&B.length>2&&(L=B.join(" ").match(/\b([A-Z]{2})\b/)?.[1]||"");let X=O(["postal_code"]);return X||(X=B.join(" ").match(/\b(\d{5}(?:-\d{4})?)\b/)?.[1]||""),!ee||!z||!L?(console.error(" Lenient parsing also failed:",{line1:ee,city:z,state:L,zip:X,formatted:$.formatted_address}),null):(X||(console.warn(" ZIP code missing, using placeholder"),X="00000"),console.log(" Lenient parsing succeeded:",{line1:ee,city:z,state:L,zip:X}),{line1:ee,line2:"",city:z,state:L,zip:X,country:"US",latitude:$.geometry?.location?.lat(),longitude:$.geometry?.location?.lng()})},A=async()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}if(!window.google?.maps){alert("Google Maps is not loaded yet. Please wait and try again.");return}f(!0),navigator.geolocation.getCurrentPosition(async $=>{const{latitude:F,longitude:B}=$.coords;console.log(" Got user location:",{latitude:F,longitude:B}),new google.maps.Geocoder().geocode({location:{lat:F,lng:B}},(Z,H)=>{if(console.log(" Geocode results:",{status:H,resultsCount:Z?.length}),H==="OK"&&Z&&Z.length>0){let U=null,D="";const ee=Z.find(z=>z.types.includes("street_address")||z.types.includes("premise"));if(ee&&(console.log(" Found precise result:",ee.formatted_address),U=Q(ee),U&&(D=ee.formatted_address)),!U){console.log(" No precise result parsed, trying all results...");for(const z of Z){if(z===ee)continue;const L=Q(z);if(L){console.log(" Found valid result in list:",z.formatted_address),U=L,D=z.formatted_address;break}}}if(!U&&Z.length>0){console.log(" Standard parsing failed for all, trying lenient parsing on first result...");const z=Z[0];U=G(z),U&&(D=z.formatted_address)}U?(d(U),o(D||""),R.current=D||"",console.log(" Location address set:",D),J(U,_,j,!0),f(!1)):(f(!1),console.error(" Could not parse address from location results"),alert("We found your location but couldn't determine the exact address. Please type your address manually."))}else H==="ZERO_RESULTS"?(f(!1),alert("Could not find an address at your location. Please enter your address manually.")):H==="ERROR"||H==="UNKNOWN_ERROR"?(f(!1),alert("Network error while getting your location. Please check your connection and try again.")):(f(!1),console.error("Geocoding failed:",H),alert("Unable to determine your address. Please type it manually."))})},$=>{f(!1),console.error("Geolocation error:",$),$.code===$.PERMISSION_DENIED?alert("Location permission denied. Please enable location access in your browser settings or type your address manually."):$.code===$.POSITION_UNAVAILABLE?alert("Your location is currently unavailable. Please type your address manually."):$.code===$.TIMEOUT?alert("Location request timed out. Please try again or type your address manually."):alert("Unable to get your location. Please type your address manually.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},J=($,F,B,O=!1)=>{const Z={...$,line2:F||"",instructions:B||""},H=()=>{console.log(" Notifying parent of address change:",{line1:Z.line1,city:Z.city,state:Z.state,zip:Z.zip,line2:Z.line2,hasInstructions:!!Z.instructions}),e(Z)};O?(P.current&&clearTimeout(P.current),H()):(P.current&&clearTimeout(P.current),P.current=setTimeout(H,500))};return y?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[r.jsx(On,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-900 text-sm",children:"Google Maps Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:y}),r.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please contact support if this issue persists."})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("style",{children:`
        /* Google Places Autocomplete Dropdown Styling */
        .pac-container {
          background-color: white;
          border: 1px solid #e5e7eb;
          border-radius: 0.75rem;
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          margin-top: 4px;
          font-family: inherit;
          z-index: 9999 !important;
        }

        .pac-item {
          padding: 12px 16px;
          cursor: pointer;
          border: none;
          font-size: 14px;
          line-height: 1.5;
        }

        .pac-item:hover {
          background-color: #f3f4f6;
        }

        .pac-item-selected,
        .pac-item-selected:hover {
          background-color: #e5e7eb;
        }

        .pac-icon {
          display: none;
        }

        .pac-item-query {
          font-size: 14px;
          color: #111827;
          font-weight: 500;
        }

        .pac-matched {
          font-weight: 700;
          color: ${s};
        }
      `}),r.jsxs("div",{children:[r.jsx(Le,{className:"text-sm font-medium mb-2 block",children:"Delivery Address"}),m&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3 mb-3",children:[r.jsx(et,{className:"w-5 h-5 text-blue-600 animate-spin flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900 text-sm",children:"Loading Google Maps..."}),r.jsx("p",{className:"text-sm text-blue-700",children:"Setting up address autocomplete"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),r.jsx(Me,{ref:T,value:a,onChange:$=>{if(E.current)return;const F=$.target.value;o(F),c&&F!==R.current&&(d(null),R.current="")},placeholder:"Start typing your address...",className:"h-12 text-base",paddingLeft:44,disabled:m,autoComplete:"off"})]}),r.jsx(re,{type:"button",variant:"outline",onClick:A,disabled:h||m,className:"h-12 px-4",title:"Use my current location",children:h?r.jsx(et,{className:"w-5 h-5 animate-spin"}):r.jsx(Ku,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:m?"Loading address autocomplete...":"Start typing your address and select from dropdown"})]}),c&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex gap-2",children:[r.jsx(In,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-green-900 text-sm",children:"Address confirmed!"}),r.jsxs("p",{className:"text-sm text-green-700",children:[c.line1,", ",c.city,", ",c.state," ",c.zip]})]})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"line2",className:"text-sm",children:"Apartment, Suite, Unit, etc. (Optional)"}),r.jsx(Me,{id:"line2",value:_,onChange:$=>{const F=$.target.value;N(F),c&&J(c,F,j,!1)},placeholder:"Apt 5B",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"instructions",className:"text-sm",children:"Delivery Instructions (Optional)"}),r.jsx(ao,{id:"instructions",value:j,onChange:$=>{const F=$.target.value;S(F),c&&J(c,_,F,!1)},placeholder:"Gate code, building entrance, where to leave, etc.",className:"mt-1 resize-none",rows:3})]})]})]})};function Y3({brandColor:e="#6B0F1A"}){const[t,n]=x.useState(""),[s,i]=x.useState(!1),[a]=Hn(ui),o=Je(hs),c=Je(hh),d=Je(Pa),h=Je(n3),f=Je(oS),m=Je(lS),g=wt(Pde),y=wt(XD),b=wt(Rde);x.useEffect(()=>{a&&b(h)},[h,a,b]);const j=async()=>{t.trim()&&await g({code:t.trim(),subtotalCents:h,customerEmail:f||void 0,customerPhone:m||void 0})},S=()=>{y(),n(""),i(!1)},_=N=>{N.key==="Enter"&&(N.preventDefault(),j())};return a?r.jsx(W.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:500,damping:30},className:"rounded-xl border-2 p-3 bg-white",style:{borderColor:e},children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center",style:{backgroundColor:`${e}15`},children:r.jsx(Ra,{className:"w-5 h-5",style:{color:e},strokeWidth:2.5})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-bold text-xs tracking-wider px-2 py-1 rounded-md uppercase",style:{backgroundColor:e,color:"white"},children:a.code}),r.jsx("span",{className:"text-sm font-semibold",style:{color:e},children:a.discountType==="percentage"?`${a.discountValue}% OFF`:`$${(a.discountValue/100).toFixed(2)} OFF`})]}),o>0&&r.jsxs(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"text-sm mt-1 text-gray-600",children:["Saving"," ",r.jsxs("span",{className:"font-semibold",style:{color:e},children:["$",(o/100).toFixed(2)]}),a.maxDiscountCents&&o>=a.maxDiscountCents&&r.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(max)"})]})]})]}),r.jsx(re,{variant:"ghost",size:"sm",onClick:S,className:"flex-shrink-0 h-8 w-8 p-0 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:r.jsx(ir,{className:"w-4 h-4"})})]})}):s?r.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(tJ,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors pointer-events-none z-10",style:{color:d?"#dc2626":`${e}60`}}),r.jsx(Me,{type:"text",placeholder:"ENTER CODE",value:t,onChange:N=>n(N.target.value.toUpperCase()),onKeyDown:_,disabled:c,autoFocus:!0,paddingLeft:40,className:_e("uppercase font-medium tracking-wider text-sm","border-2 transition-all duration-200",d?"border-red-300 focus-visible:ring-red-500":"focus-visible:ring-1"),style:{borderColor:d?void 0:`${e}30`}})]}),r.jsx(re,{onClick:j,disabled:!t.trim()||c,className:"h-11 px-5 font-semibold text-white transition-all duration-200 disabled:opacity-50",style:{backgroundColor:e},children:c?r.jsx(et,{className:"w-4 h-4 animate-spin"}):"Apply"}),r.jsx(re,{variant:"ghost",size:"icon",onClick:()=>{i(!1),n("")},className:"h-11 w-11 flex-shrink-0 text-gray-400 hover:text-gray-600",children:r.jsx(ir,{className:"w-4 h-4"})})]}),r.jsx(st,{children:d&&r.jsxs(W.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"text-sm text-red-600 pl-1 flex items-center gap-1.5",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),d]})})]}):r.jsxs(W.button,{onClick:()=>i(!0),className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl border-2 border-dashed transition-all duration-200 hover:border-solid group bg-white",style:{borderColor:`${e}30`,color:e},whileHover:{scale:1.005},whileTap:{scale:.995},children:[r.jsx(pK,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"text-sm font-medium",children:"Have a promo code?"})]})}const ife=({onNavigate:e,brandColor:t})=>{const n=Je(Ln),s=Je(xx),[i,a]=Hn(oS),[o,c]=Hn(QD),[d,h]=Hn(lS),[f,m]=Hn(cS),[g,y]=Hn(dS),b=wt(T3),j=wt(uS),S=Je(Nde),_=Je(_de),N=Je(ui),C=Je(hs),T=x.useMemo(()=>yS(n),[n]),M=x.useMemo(()=>vS(n),[n]),[P,E]=x.useState(!1),R=f==="delivery"?"delivery":"pickup";x.useEffect(()=>{f!=="pickup"&&f!=="delivery"&&m("pickup")},[f,m]);const[q,V]=x.useState(null),[Q,G]=x.useState(null),[A,J]=x.useState(null),[$,F]=x.useState(null),[B,O]=x.useState(!1),{refreshUser:Z}=Yr();x.useEffect(()=>{if(!n.length){e("/cart");return}S&&J(M3(S))},[n,S]);const H=async()=>{if(!g.line1||!g.city||!g.zip){Ne.error("Please fill in delivery address");return}O(!0);try{const z=n.map(X=>{const{quantity:K,descriptionSuffix:se,quantityDisplay:ue,unit:de,rawQuantity:le,isWeightBased:je}=YD(X.qty,X.priceUnit);return{name:se?`${X.name} ${se}`:X.name,quantity:K,price:X.price*X.qty,size:ue,unit:de,quantityDisplay:ue,rawQuantity:je?le:void 0,weight:je?le:void 0}}),L=await x3({address:g,items:z});F(L),Ne.success(`Delivery fee: ${lt(L.feeCents/100)}`)}catch(z){const L=bS(z);Ne.error(L)}finally{O(!1)}},U=async()=>{try{const z=R==="delivery"&&$?.feeCents||0,L=s.grand_total+z,X=s.serviceFee||s.fees||0,K=R==="delivery"&&s.tips||0,se=yd(L),ue=R==="delivery"?"uber_direct":"pickup",de=Math.max(L-se-X-z-K,0),le={firstName:o.split(" ")[0]||"",lastName:o.split(" ").slice(1).join(" ")||""},je=i?.trim();je&&(le.email=je);const qe=d?.trim();qe&&(le.phone=qe);const ot=await g3({amount:L,subtotal:s.subtotal,tax:s.tax,serviceFee:s.serviceFee||0,deliveryFee:z,tip:s.tips||0,discount:s.discount||0,currency:"USD",platformFee:X,stripeFeeEstimate:se,deliveryProvider:ue,fulfillmentType:R,orderItems:T,orderItemsSummary:M,breakdown:{subtotal:s.subtotal,deliveryFee:z,tabsyFee:X,stripeProcessingFee:se,tax:s.tax,tip:s.tips||0,discount:s.discount||0,total:L,netPayoutEstimate:de},customer:le});V(ot.clientSecret),G(ot.paymentIntentId)}catch(z){Ne.error(z.message||"Failed to initialize payment")}},D=o.trim()&&d.trim(),ee=o.trim()&&d.trim()&&g.line1.trim()&&g.city.trim()&&g.zip.trim()&&$;return n.length===0?null:r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-32",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e("/cart"),className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors","aria-label":"Back to cart",children:r.jsx(Fs,{className:"w-5 h-5"})}),r.jsx("h1",{children:"Checkout"})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"How would you like to receive your order?"}),r.jsxs(p3,{value:f,onValueChange:z=>{m(z),F(null)},children:[r.jsxs(fS,{className:"grid w-full grid-cols-2",children:[r.jsxs(dg,{value:"pickup",className:"flex items-center gap-2",children:[r.jsx(Dn,{className:"w-4 h-4"}),"Pickup"]}),r.jsxs(dg,{value:"delivery",className:"flex items-center gap-2",children:[r.jsx(bn,{className:"w-4 h-4"}),"Delivery"]})]}),r.jsxs(gw,{value:"pickup",className:"mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Ready in ",r.jsx("span",{className:"font-semibold",children:"20-25 minutes"})," at:"]}),r.jsx("p",{className:"text-sm font-medium mt-1",children:"3124 Illinois Rte 59 Suite 154, Naperville, IL 60564"})]}),r.jsx(gw,{value:"delivery",className:"mt-4 space-y-4",children:r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your delivery address and we'll calculate the delivery fee."})})]})]}),R==="delivery"&&r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Delivery Address"}),!_&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800",children:" Google Maps API key not configured. The address picker will still work, but without autocomplete."}),r.jsx(K3,{googleMapsApiKey:_,brandColor:t,hideMapPreview:!0,initialAddress:{line1:g.line1,line2:g.line2,city:g.city,state:g.state,zip:g.zip,country:"US",instructions:g.instructions},onAddressSelect:z=>{console.log("Address selected:",z),y({line1:z.line1,line2:z.line2||"",city:z.city,state:z.state,zip:z.zip,instructions:z.instructions||"",country:z.country||"US"}),F(null)}}),!$&&g.line1&&g.city&&g.zip&&r.jsx("div",{className:"mt-4",children:r.jsxs(re,{onClick:H,disabled:B,variant:"outline",className:"w-full",style:{borderColor:t,color:t},children:[B&&r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Get Delivery Quote"]})}),$&&r.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-green-900 mb-1",children:"Delivery Available!"}),r.jsxs("p",{className:"text-sm text-green-700",children:["Delivery fee: ",r.jsx("span",{className:"font-semibold",children:lt($.feeCents/100)})]}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Estimated delivery: ",$.etaMinutes||"45-60"," minutes"]})]})]})})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R==="delivery"?.2:.1},className:"bg-white rounded-2xl p-6 shadow-sm space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Contact Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r.jsx(rl,{className:"w-4 h-4 inline mr-1"}),"Full Name *"]}),r.jsx("input",{type:"text",value:o,onChange:z=>c(z.target.value),placeholder:"John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r.jsx(sr,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),r.jsx("input",{type:"tel",value:d,onChange:z=>h(z.target.value),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsx(q3,{brandColor:t}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r.jsx(Mn,{className:"w-4 h-4 inline mr-1"}),"Email (optional)"]}),r.jsx("input",{type:"email",value:i,onChange:z=>a(z.target.value),placeholder:"your@email.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1.5",children:["Enter your email to earn ",r.jsx("span",{className:"font-semibold text-green-600",children:"10 loyalty stars per $1 spent"})]})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsx(G3,{brandColor:t,subtotal:s.subtotal,fulfillmentType:R}),r.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"100% of your tip goes directly to your Uber Direct courier."})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.18},className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Promo Code"}),r.jsx(Y3,{})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-sm space-y-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Order Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["Subtotal (",n.length," items)"]}),r.jsx("span",{children:lt((s.subtotal+C)/100)})]}),C>0&&N&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Promo (",N.code,")"]}),r.jsxs("span",{children:["-",lt(C/100)]})]}),R==="delivery"&&$&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:lt($.feeCents/100)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:lt(s.tax/100)})]}),s.tips>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:lt(s.tips/100)})]}),r.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-base",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:lt((s.grand_total+(R==="delivery"&&$?$.feeCents:0))/100)})]})]})]}),q&&A&&r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment"}),r.jsx(wS,{stripe:A,options:{clientSecret:q},children:r.jsx(afe,{onSubmit:async(z,L)=>{E(!0);try{const{error:X}=await z.confirmPayment({elements:L,redirect:"if_required"});if(X){Ne.error(X.message||"Payment failed"),E(!1);return}const K=await b({deliveryType:R,form:{customer:{first_name:o.split(" ")[0]||"",last_name:o.split(" ").slice(1).join(" ")||"",email:i?.trim()||"",phone:d?.trim()||""},delivery:R==="delivery"?g:void 0,paymentMethod:"card",paymentIntentId:Q},totals:{subtotal:s.subtotal,tax:s.tax,serviceFee:s.serviceFee||0,deliveryFee:R==="delivery"&&$?$.feeCents:0,tip:s.tips||0,discount:C||0},deliveryQuote:R==="delivery"?$:void 0,tipMode:"percentage",promoId:N?.id||void 0,promoCode:N?.code||void 0});let se=K.loyalty??null;try{const ue=await Ih({email:i,phone:d});if(ue?.profile){const de=ue.profile.stars??0;se?se={...se,newBalance:de}:se={profileId:ue.profile.id,starsEarned:0,newBalance:de,referralCode:ue.profile.referralCode??null,awardedAt:new Date().toISOString()}}}catch(ue){console.warn("Unable to synchronize loyalty profile after checkout",ue)}j(),H3(K.order,se),Kj(l5(K.order,se)),Z(),Ne.success("Order placed successfully!"),e(`/confirmation?order=${K.order.id}`)}catch(X){const K=Che(X);Ne.error(K),E(!1)}},brandColor:t,isSubmitting:P})})]})]}),!q&&r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-20",children:r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsx(re,{size:"lg",onClick:U,disabled:R==="pickup"?!D:!ee,className:"w-full text-white",style:{backgroundColor:t},children:"Continue to Payment"})})})]})},afe=({onSubmit:e,brandColor:t,isSubmitting:n})=>{const s=V3(),i=z3(),[a,o]=x.useState(!1),c=async h=>{if(h.preventDefault(),!s||!i||n){Ne.error("Payment form is not ready. Please wait a moment.");return}await e(s,i)},d=s&&i&&a;return r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsx(W3,{onReady:()=>o(!0),onLoadError:h=>{console.error("PaymentElement load error:",h),Ne.error("Failed to load payment form")}}),!d&&r.jsxs("div",{className:"text-center py-2",children:[r.jsx(et,{className:"w-5 h-5 animate-spin mx-auto text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading payment form..."})]}),r.jsxs(re,{type:"submit",size:"lg",disabled:!d||n,className:"w-full text-white",style:{backgroundColor:t},children:[n&&r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Processing...":"Place Order"]})]})},ofe=({config:e})=>{const t=[{icon:Hu,title:"Passion for Food",description:"Every dish is crafted with love and attention to detail"},{icon:mE,title:"Sustainability",description:"Locally sourced ingredients and eco-friendly practices"},{icon:Nr,title:"Community",description:"Building connections through shared meals"},{icon:uK,title:"Quality",description:"Committed to excellence in every aspect"}],n=[{name:"Maria Rodriguez",role:"Executive Chef",image:"chef woman"},{name:"James Chen",role:"Sous Chef",image:"chef man"},{name:"Sarah Williams",role:"Pastry Chef",image:"baker woman"},{name:"Alex Thompson",role:"Restaurant Manager",image:"restaurant manager"}];return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"py-10 sm:py-12 md:py-16 text-white text-center",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-white mb-3 sm:mb-4",style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",lineHeight:"1.2"},children:"About Us"}),r.jsxs("p",{className:"text-white/90 max-w-2xl mx-auto px-2",style:{fontSize:"clamp(0.875rem, 2.5vw, 1.125rem)",lineHeight:"1.5"},children:["Discover the story behind ",e.name]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid md:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-4",children:"Our Story"}),r.jsxs("div",{className:"space-y-4 text-gray-600",children:[r.jsxs("p",{children:["Founded in the heart of ",e.address.city,", ",e.name," began with a simple vision: to create a space where exceptional food meets warm hospitality."]}),r.jsx("p",{children:"Our journey started with a passion for farm-to-table dining and a commitment to showcasing the incredible flavors of locally-sourced ingredients. Today, we're proud to be a cornerstone of our community, serving dishes that celebrate both tradition and innovation."}),r.jsx("p",{children:"Every ingredient is carefully selected, every recipe thoughtfully crafted, and every plate prepared with the care it deserves. We believe that great food brings people together, creating memories that last a lifetime."})]})]}),r.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg",children:r.jsx(Kn,{src:"https://source.unsplash.com/800x600/?restaurant,interior",alt:"Restaurant interior",className:"w-full h-full object-cover"})})]})}),r.jsx("div",{className:"bg-gray-50 py-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("h2",{className:"text-center mb-12",children:"Our Values"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,i)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:r.jsxs(we,{className:"p-6 text-center h-full",children:[r.jsx(s.icon,{className:"w-10 h-10 mx-auto mb-4",style:{color:e.theme.brand}}),r.jsx("h3",{className:"mb-2",children:s.title}),r.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})},s.title))})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("h2",{className:"text-center mb-4",children:"Meet Our Team"}),r.jsxs("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:["The talented individuals who make ",e.name," special"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((s,i)=>r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"text-center",children:[r.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden mb-3 bg-gray-100",children:r.jsx(Kn,{src:`https://source.unsplash.com/400x400/?${encodeURIComponent(s.image)}`,alt:s.name,className:"w-full h-full object-cover"})}),r.jsx("h3",{className:"text-lg mb-1",children:s.name}),r.jsx("p",{className:"text-sm text-gray-600",children:s.role})]},s.name))})]})}),r.jsx("div",{className:"py-16 text-white",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx(mE,{className:"w-12 h-12 mx-auto mb-4 text-white"}),r.jsx("h2",{className:"text-white mb-4",children:"Committed to Sustainability"}),r.jsx("p",{className:"text-white/90 text-lg mb-6",children:"We partner with local farms and suppliers to reduce our carbon footprint and support our community. Our commitment to sustainability extends from our sourcing practices to our compostable packaging and energy-efficient kitchen equipment."})]})})})]})},lfe=({config:e})=>{const[t,n]=x.useState({name:"",email:"",phone:"",eventType:"",guestCount:"",date:"",message:""}),s=o=>{o.preventDefault(),console.log("Catering inquiry:",t),alert("Thank you for your inquiry! We'll be in touch soon."),n({name:"",email:"",phone:"",eventType:"",guestCount:"",date:"",message:""})},i=[{id:1,title:"Wine Tasting Night",date:"October 25, 2025",time:"7:00 PM - 10:00 PM",description:"Join us for an evening of curated wines paired with chef-selected appetizers",image:"wine tasting event",spots:15},{id:2,title:"Cooking Class: Italian Classics",date:"November 2, 2025",time:"6:00 PM - 9:00 PM",description:"Learn to make authentic Italian pasta from our executive chef",image:"cooking class",spots:8},{id:3,title:"Live Jazz Brunch",date:"November 10, 2025",time:"11:00 AM - 2:00 PM",description:"Enjoy brunch with live jazz music in our dining room",image:"jazz brunch",spots:25}],a=[{icon:Nr,title:"Corporate Events",description:"Professional catering for meetings, conferences, and company celebrations"},{icon:tl,title:"Private Parties",description:"Customized menus for birthdays, anniversaries, and special occasions"},{icon:GI,title:"Wedding Catering",description:"Make your special day unforgettable with our elegant catering services"}];return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"py-16 text-white text-center",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(tl,{className:"w-16 h-16 mx-auto mb-4 text-white"}),r.jsx("h1",{className:"text-white mb-4",children:"Events & Catering"}),r.jsx("p",{className:"text-white/90 text-lg max-w-2xl mx-auto",children:"Celebrate with us or let us bring the experience to you"})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("h2",{className:"mb-8",children:"Upcoming Events"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((o,c)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},children:r.jsxs(we,{className:"overflow-hidden h-full flex flex-col",children:[r.jsx("div",{className:"aspect-[16/9] bg-gray-100",children:r.jsx(Kn,{src:`https://source.unsplash.com/600x400/?${encodeURIComponent(o.image)}`,alt:o.title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[r.jsx("h3",{className:"mb-2",children:o.title}),r.jsx("p",{className:"text-sm mb-1",style:{color:e.theme.brand},children:o.date}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o.time}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 flex-1",children:o.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:[o.spots," spots left"]}),r.jsx(re,{size:"sm",style:{backgroundColor:e.theme.brand},className:"text-white",children:"RSVP"})]})]})]})},o.id))})]})}),r.jsx("div",{className:"bg-gray-50 py-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("h2",{className:"text-center mb-4",children:"Catering Services"}),r.jsxs("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:["Let us bring the ",e.name," experience to your next event"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((o,c)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},children:r.jsxs(we,{className:"p-6 text-center h-full",children:[r.jsx(o.icon,{className:"w-12 h-12 mx-auto mb-4",style:{color:e.theme.brand}}),r.jsx("h3",{className:"mb-2",children:o.title}),r.jsx("p",{className:"text-sm text-gray-600",children:o.description})]})},o.title))})]})})}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:r.jsxs(we,{className:"p-8",children:[r.jsx("h2",{className:"mb-2",children:"Catering Inquiry"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Fill out the form below and we'll get back to you within 24 hours"}),r.jsxs("form",{onSubmit:s,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"name",children:"Name *"}),r.jsx(Me,{id:"name",type:"text",value:t.name,onChange:o=>n({...t,name:o.target.value}),required:!0,className:"rounded-2xl"})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"email",children:"Email *"}),r.jsx(Me,{id:"email",type:"email",value:t.email,onChange:o=>n({...t,email:o.target.value}),required:!0,className:"rounded-2xl"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"phone",children:"Phone"}),r.jsx(Me,{id:"phone",type:"tel",value:t.phone,onChange:o=>n({...t,phone:o.target.value}),className:"rounded-2xl"})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"eventType",children:"Event Type"}),r.jsx(Me,{id:"eventType",type:"text",placeholder:"e.g. Wedding, Corporate Event",value:t.eventType,onChange:o=>n({...t,eventType:o.target.value}),className:"rounded-2xl"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"guestCount",children:"Number of Guests"}),r.jsx(Me,{id:"guestCount",type:"number",value:t.guestCount,onChange:o=>n({...t,guestCount:o.target.value}),className:"rounded-2xl"})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"date",children:"Preferred Date"}),r.jsx(Me,{id:"date",type:"date",value:t.date,onChange:o=>n({...t,date:o.target.value}),className:"rounded-2xl"})]})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"message",children:"Message"}),r.jsx(ao,{id:"message",rows:4,placeholder:"Tell us about your event...",value:t.message,onChange:o=>n({...t,message:o.target.value}),className:"rounded-2xl"})]}),r.jsxs(re,{type:"submit",size:"lg",className:"w-full text-white",style:{backgroundColor:e.theme.brand},children:[r.jsx(VY,{className:"w-5 h-5 mr-2"}),"Send Inquiry"]})]})]})})})]})},cfe=({brandColor:e="#E4572E",onNavigate:t})=>{const n=(s,i)=>{t&&(s.preventDefault(),t(i))};return r.jsxs("div",{className:"mt-6 rounded-xl border border-gray-200 p-6 shadow-sm",style:{backgroundColor:"#FFF8F6"},children:[r.jsxs("h3",{className:"flex items-center gap-2",role:"heading","aria-level":3,children:[r.jsx(GI,{className:"w-5 h-5",style:{color:e}}),"Catering Services"]}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600 leading-relaxed",children:["Planning a special event, office lunch, or family gathering? We offer full-service catering with customizable menus and delivery options. Choose from our ",r.jsx("span",{className:"font-medium text-gray-900",children:"Catering Menu"})," and let our team make your occasion memorable."]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx("a",{href:"/catering",onClick:s=>n(s,"/catering"),className:"inline-flex items-center rounded-lg px-4 py-2 text-white text-sm transition hover:opacity-90",style:{backgroundColor:e},"aria-label":"View our catering menu",children:"View Catering Menu"}),r.jsx("a",{href:"/contact?type=catering",onClick:s=>n(s,"/contact?type=catering"),className:"inline-flex items-center rounded-lg border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition","aria-label":"Request a catering quote",children:"Request a Quote"})]})]})},dfe=({config:e,hours:t,onNavigate:n})=>{const s=t?Object.entries(t.schedule).map(([i,a])=>({day:i.charAt(0).toUpperCase()+i.slice(1),hours:a.closed?"Closed":`${a.open} - ${a.close}`})):[];return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"py-10 sm:py-12 md:py-16 text-white text-center",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-white mb-3 sm:mb-4",style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",lineHeight:"1.2"},children:"Contact Us"}),r.jsx("p",{className:"text-white/90 max-w-2xl mx-auto px-2",style:{fontSize:"clamp(0.875rem, 2.5vw, 1.125rem)",lineHeight:"1.5"},children:"We'd love to hear from you"})]})})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 md:py-16",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 md:gap-12",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-6",children:"Get in Touch"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Have a question or want to make a reservation? We're here to help!"})]}),r.jsx(we,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.theme.accent},children:r.jsx(bn,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:e.theme.brand}})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"mb-2 text-base sm:text-lg",children:"Address"}),r.jsxs("p",{className:"text-gray-600",children:[e.address.line1,r.jsx("br",{}),e.address.city,", ",e.address.state," ",e.address.zip]}),r.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(`${e.address.line1}, ${e.address.city}, ${e.address.state} ${e.address.zip}`)}`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(re,{variant:"link",className:"p-0 h-auto mt-2",style:{color:e.theme.brand},children:"Get Directions "})})]})]})}),r.jsx(we,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.theme.accent},children:r.jsx(sr,{className:"w-6 h-6",style:{color:e.theme.brand}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2",children:"Phone"}),r.jsx("a",{href:`tel:${e.contact.phone}`,className:"text-gray-600 hover:underline",children:Pce(e.contact.phone)}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Available during business hours"})]})]})}),r.jsx(we,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.theme.accent},children:r.jsx(Mn,{className:"w-6 h-6",style:{color:e.theme.brand}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2",children:"Email"}),r.jsx("a",{href:`mailto:${e.contact.email}`,className:"text-gray-600 hover:underline",children:e.contact.email}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"We'll respond within 24 hours"})]})]})}),r.jsx(we,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:e.theme.accent},children:r.jsx(Jt,{className:"w-6 h-6",style:{color:e.theme.brand}})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"mb-3",children:"Hours"}),r.jsx(ED,{hours:t,brandColor:e.theme.brand}),r.jsx("div",{className:"mt-4 space-y-2",children:s.map(i=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:i.day}),r.jsx("span",{className:"text-gray-900",children:i.hours})]},i.day))})]})]})})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"lg:sticky lg:top-24 h-fit",children:[r.jsx(TD,{address:e.address,brandColor:e.theme.brand}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[r.jsx("a",{href:`tel:${e.contact.phone}`,children:r.jsxs(re,{variant:"outline",className:"w-full",children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Call Now"]})}),r.jsx("a",{href:`mailto:${e.contact.email}`,children:r.jsxs(re,{variant:"outline",className:"w-full",children:[r.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Email Us"]})})]}),r.jsx(cfe,{brandColor:e.theme.brand,onNavigate:n})]})]})}),r.jsx("div",{className:"bg-gray-50 py-16",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("h2",{className:"text-center mb-12",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-4",children:[{q:"Do you take reservations?",a:"We're a retail butcher and grocery market, so reservations aren't needed! Stop by anytime during business hours  our butchers are always ready to assist with fresh halal meat orders."},{q:"Do you offer delivery or pickup?",a:"Yes! We offer in-store pickup and local delivery for select areas in Naperville. You can place your order online or call us directly for same-day preparation."},{q:"Are your meats halal-certified?",a:"Absolutely. Every product at Shahirzada Fresh Market is 100% halal-certified, prepared according to Islamic standards, and handled with care in a dedicated halal facility. We never sell non-halal products or mix equipment."},{q:"Do you sell frozen meat?",a:"No  never! All our beef, lamb, and goat are fresh, never frozen, and cut daily by our in-house halal butchers for unmatched flavor and quality."},{q:"Do you accept custom orders or special cuts?",a:"Yes! We take pride in custom halal cutting. Let us know how you'd like your meat trimmed, ground, or portioned, and our butchers will prepare it exactly to your needs  from BBQ-ready cubes to steakhouse cuts."},{q:"Do you offer catering-sized orders?",a:"We do! Large families, restaurants, and community events often order from us in bulk. Call ahead or visit the store to discuss your quantity, cuts, and pickup or delivery timing."},{q:"Do you have parking?",a:"Yes  we have ample parking available right in front of the store at:  3124 Illinois Rte 59 Suite 154, Naperville, IL 60564"},{q:"What are your store hours?",a:"We're open 7 days a week:  MondaySaturday: 10 AM  8 PM |  Sunday: 10 AM  6 PM"},{q:"How can I contact you?",a:"You can reach us by phone, email, or in person:  (772) 773-7680 |  shahirzadafreshmarket@gmail.com  Or stop by the market, our team is always happy to help!"}].map((i,a)=>r.jsxs(we,{className:"p-6",children:[r.jsx("h3",{className:"mb-2",children:i.q}),r.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i.a})]},a))})]})})})]})},jS=be([]),ufe=be(null,(e,t,n=[])=>{t(jS,n)}),SS=be("");be(null,(e,t,n)=>t(SS,n));const NS=be(null);be(null,(e,t,n)=>t(NS,n));const hfe=be(e=>{const t=e(jS),n=e(SS).trim().toLowerCase(),s=e(NS);return t.filter(i=>{const a=i.title?.toLowerCase()||"",o=i.excerpt?.toLowerCase()||"",c=i.subtitle?.toLowerCase()||"",d=i.category?.toLowerCase()||"",h=!n||a.includes(n)||o.includes(n)||c.includes(n),f=!s||d===s.toLowerCase();return h&&f})}),ffe=be(e=>e(jS).find(t=>t.featured)),mfe=({posts:e,categories:t,brandColor:n,brandName:s,onPostClick:i})=>{const[a,o]=Hn(SS),[c,d]=Hn(NS),h=wt(ufe),f=Je(hfe),m=Je(ffe);return x.useEffect(()=>{h(Array.isArray(e)?e:[])},[e,h]),r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-8 sm:pb-12",children:[r.jsxs("div",{className:"py-10 sm:py-16 md:py-20 text-white relative overflow-hidden",style:{backgroundColor:n},children:[r.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 20% 50%, white 1px, transparent 1px)",backgroundSize:"40px 40px"}}),r.jsx("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsxs("h1",{className:"text-white mb-3 sm:mb-4",style:{fontSize:"clamp(1.75rem, 5vw, 3rem)",lineHeight:"1.2"},children:[s," Blog"]}),r.jsx("p",{className:"text-white/90 max-w-2xl mx-auto px-2",style:{fontSize:"clamp(0.875rem, 2.5vw, 1.125rem)",lineHeight:"1.5"},children:"Recipes, guides, and stories featuring premium halal meats"})]})})]}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-8",children:[m&&r.jsx(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:r.jsx("div",{className:"bg-white rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-shadow duration-300 cursor-pointer",onClick:()=>i(m.slug),children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[r.jsxs("div",{className:"aspect-[4/3] md:aspect-auto bg-gray-100 relative overflow-hidden group",children:[r.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx("span",{className:"px-4 py-2 rounded-full text-sm text-white backdrop-blur-sm",style:{backgroundColor:`${n}E6`},children:" Featured"})})]}),r.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:new Date(m.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),r.jsx("h2",{className:"text-3xl mb-4",children:m.title}),r.jsx("p",{className:"text-gray-600 mb-6",children:m.excerpt}),r.jsx("span",{className:"text-sm font-medium inline-flex items-center gap-2 hover:underline",style:{color:n},children:"Read Full Story "})]})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"mb-8",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(Me,{type:"text",placeholder:"Search articles...",value:a,onChange:g=>o(g.target.value),className:"rounded-xl",paddingLeft:44})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(_t,{variant:c?"outline":"default",className:"cursor-pointer hover:opacity-80 transition-opacity",style:c?{}:{backgroundColor:n},onClick:()=>d(null),children:"All Posts"}),t.map(g=>r.jsxs(_t,{variant:c===g.name?"default":"outline",className:"cursor-pointer hover:opacity-80 transition-opacity",style:c===g.name?{backgroundColor:n}:{},onClick:()=>d(c===g.name?null:g.name),children:[r.jsx("span",{className:"mr-1",children:g.icon}),g.name]},g.id))]})]})}),r.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:[f.length," ",f.length===1?"article":"articles"," found"]}),f.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((g,y)=>r.jsx(PD,{post:g,index:y,onClick:()=>i(g.slug),brandColor:n},g.id))}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No articles found matching your criteria."})})]})]})},pfe=e=>{let t=e;return t=t.replace(/^### (.*$)/gim,"<h3>$1</h3>"),t=t.replace(/^## (.*$)/gim,"<h2>$1</h2>"),t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/^\d+\. (.*$)/gim,'<li class="ol-item">$1</li>'),t=t.replace(/^- (.*$)/gim,'<li class="ul-item">$1</li>'),t=t.replace(/(<li class="ol-item">.*?<\/li>\n?)+/gs,s=>`<ol class="markdown-ordered-list">${s}</ol>`),t=t.replace(/(<li class="ul-item">.*?<\/li>\n?)+/gs,s=>`<ul class="markdown-list">${s}</ul>`),t=t.split(`

`).map(s=>s.trim().startsWith("<")?s:`<p>${s.replace(/\n/g,"<br />")}</p>`).join(`
`),t},gfe=({post:e,relatedPosts:t,brandColor:n,onNavigate:s,onPostClick:i})=>{const a=c=>new Date(c).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),o=c=>{const d=window.location.href,h=`${e.title} - ${e.subtitle}`;switch(c){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(d)}&text=${encodeURIComponent(h)}`,"_blank");break;case"copy":navigator.clipboard.writeText(d),Ne.success("Link copied to clipboard!");break}};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b bg-white sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:r.jsxs(re,{variant:"ghost",onClick:()=>s("/blog"),className:"gap-2",children:[r.jsx(Fs,{className:"w-4 h-4"}),"Back to Blog"]})})}),r.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-12",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("div",{className:"mb-6",children:r.jsx("span",{className:"px-4 py-2 rounded-full text-sm text-white",style:{backgroundColor:n},children:e.category})}),r.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:e.title}),r.jsx("p",{className:"text-xl text-gray-600 mb-6",children:e.subtitle}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tl,{className:"w-4 h-4"}),r.jsx("time",{dateTime:e.date,children:a(e.date)})]}),r.jsx("span",{children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rl,{className:"w-4 h-4"}),r.jsx("span",{children:e.author})]}),e.readTime&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"w-4 h-4"}),r.jsxs("span",{children:[e.readTime," min read"]})]})]})]}),e.tags&&e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.tags.map(c=>r.jsx(_t,{variant:"outline",className:"text-xs",children:c},c))}),r.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[r.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Share:"}),r.jsx(re,{variant:"outline",size:"sm",onClick:()=>o("facebook"),className:"gap-2",children:r.jsx(qK,{className:"w-4 h-4"})}),r.jsx(re,{variant:"outline",size:"sm",onClick:()=>o("twitter"),className:"gap-2",children:r.jsx(oJ,{className:"w-4 h-4"})}),r.jsx(re,{variant:"outline",size:"sm",onClick:()=>o("copy"),className:"gap-2",children:r.jsx(oY,{className:"w-4 h-4"})})]})]}),r.jsx(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"mb-12",children:r.jsx("div",{className:"aspect-[16/9] rounded-2xl overflow-hidden bg-gray-100",children:r.jsx(Kn,{src:e.image,alt:e.title,className:"w-full h-full object-cover"})})}),r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},className:"prose prose-lg max-w-none mb-12 blog-content",children:[r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6 text-lg",children:e.excerpt}),e.content&&r.jsx(r.Fragment,{children:Array.isArray(e.content)?e.content.map((c,d)=>r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:c},d)):r.jsx("div",{className:"markdown-content text-gray-700",dangerouslySetInnerHTML:{__html:pfe(e.content)}})})]}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-gray-50 border-t border-b rounded-xl py-8 px-6 my-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl mb-3",children:"Visit Shahirzada Fresh Market"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Experience the finest halal-certified, never-frozen meats daily at our Naperville location"}),r.jsx("p",{className:"text-gray-900 mb-6",children:r.jsx("strong",{children:"3124 Illinois Rte 59 Suite 154, Naperville, IL 60564"})}),r.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[r.jsx(re,{onClick:()=>s("/products"),size:"lg",className:"text-white",style:{backgroundColor:n},children:"Shop Our Meats"}),r.jsx(re,{onClick:()=>s("/contact"),variant:"outline",size:"lg",children:"Contact Us for Custom Orders"})]})]})}),t.length>0&&r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:[r.jsx("h3",{className:"text-2xl mb-6",children:"You may also like"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.slice(0,2).map(c=>r.jsxs("div",{onClick:()=>i(c.slug),className:"cursor-pointer group",children:[r.jsx("div",{className:"aspect-[16/10] rounded-xl overflow-hidden bg-gray-100 mb-4",children:r.jsx(Kn,{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsx("span",{className:"text-xs text-gray-500",children:c.category}),r.jsx("h4",{className:"text-lg group-hover:text-[var(--brand-color)] transition-colors",children:c.title})]},c.id))})]})]})]})},xfe=e=>{if(!e)return[];const t=e.app_metadata?.roles??e.app_metadata?.role,n=e.user_metadata?.roles??e.user_metadata?.role;return[...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]].flat().filter(Boolean).map(s=>typeof s=="string"?s.toLowerCase():"")},_S=e=>xfe(e).includes("admin"),kS=({onSuccess:e,brandColor:t="#6B0F1A",adminOnly:n=!1})=>{const{refreshUser:s}=Yr(),i=async()=>{if(!n){e();return}const{data:{user:de}}=await Fe.auth.getUser();if(!_S(de)){await Fe.auth.signOut(),N("You don't have admin access. Contact support if you need help.");return}e()},[a,o]=x.useState("email-otp"),[c,d]=x.useState("select"),[h,f]=x.useState(""),[m,g]=x.useState(""),[y,b]=x.useState(""),[j,S]=x.useState(!1),[_,N]=x.useState(null),[C,T]=x.useState(null),[M,P]=x.useState(""),[E,R]=x.useState(["","","","","",""]),[q,V]=x.useState(null),[Q,G]=x.useState(!1),[A,J]=x.useState(!1),[$,F]=x.useState(!1),[B,O]=x.useState(30),Z=x.useRef([]),H=x.useRef(null);x.useEffect(()=>()=>{H.current&&clearInterval(H.current)},[]),x.useEffect(()=>{c==="otp-verify"&&(U(),requestAnimationFrame(()=>Z.current[0]?.focus()))},[c]);const U=()=>{J(!1),O(30),H.current&&clearInterval(H.current),H.current=setInterval(()=>{O(de=>de<=1?(clearInterval(H.current),J(!0),0):de-1)},1e3)},D=async de=>{de.preventDefault(),N(null),S(!0);try{const le=a==="phone-otp",je=await VZ({email:le?void 0:h.trim(),phone:le?m.trim():void 0});T(je.flowId),P(le?m.trim():h.trim()),d("otp-verify"),R(["","","","","",""]),V(null)}catch(le){N(le.message||"Failed to send code. Please try again.")}finally{S(!1)}},ee=async de=>{de.preventDefault(),N(null),S(!0);try{const{error:le}=await Fe.auth.signInWithPassword({email:h.trim(),password:y});if(le)throw le;await s().catch(()=>{}),await i()}catch(le){N(le.message||"Unable to sign in")}finally{S(!1)}},z=(de,le)=>{if(le.length>1&&(le=le.slice(-1)),le&&!/^\d$/.test(le))return;const je=[...E];if(je[de]=le,R(je),V(null),le&&de<5&&Z.current[de+1]?.focus(),de===5&&le){const qe=je.join("");qe.length===6&&K(qe)}},L=(de,le)=>{le.key==="Backspace"&&!E[de]&&de>0&&Z.current[de-1]?.focus()},X=de=>{de.preventDefault();const le=de.clipboardData.getData("text").trim();/^\d{6}$/.test(le)&&(R(le.split("")),Z.current[5]?.focus(),K(le))},K=async de=>{if(!C)return;const le=de??E.join("");if(le.length!==6){V("Enter the 6-digit code sent to you");return}V(null),G(!0);try{(await a5({flowId:C,code:le})).success&&(await s().catch(()=>{}),await i())}catch(je){V(je.message||"Invalid code. Please try again."),R(["","","","","",""]),Z.current[0]?.focus()}finally{G(!1)}},se=async()=>{if(!(!C||$)){F(!0),V(null);try{await o5(C),U()}catch(de){V(de.message||"Unable to resend code right now.")}finally{F(!1)}}},ue=()=>{d("select"),T(null),P(""),R(["","","","","",""]),V(null),N(null),b("")};return c==="otp-verify"?r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-6",children:[r.jsxs("button",{type:"button",onClick:ue,className:"inline-flex items-center gap-1.5 text-sm text-gray-500 hover:text-gray-900 transition-colors group",children:[r.jsx(Fs,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),"Back to login"]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"w-14 h-14 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{backgroundColor:`${t}10`},children:r.jsx(fi,{className:"w-7 h-7",style:{color:t}})}),r.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Check your ",a==="phone-otp"?"phone":"inbox"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["We sent a 6-digit code to"," ",r.jsx("span",{className:"font-medium text-gray-900",children:M})]})]}),r.jsx("div",{className:"flex gap-2.5 justify-center",children:E.map((de,le)=>r.jsx(W.input,{ref:je=>Z.current[le]=je,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:le*.05},type:"text",inputMode:"numeric",maxLength:1,value:de,onChange:je=>z(le,je.target.value),onKeyDown:je=>L(le,je),onPaste:le===0?X:void 0,className:`w-12 h-14 text-center text-xl font-semibold border-2 rounded-xl
                focus:outline-none focus:ring-0 transition-all duration-200
                disabled:opacity-50 disabled:cursor-not-allowed`,style:{borderColor:de?t:"#e5e7eb",backgroundColor:de?`${t}05`:"white"},disabled:Q},le))}),r.jsx(st,{children:q&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm text-center",children:q})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("button",{type:"button",onClick:ue,className:"text-gray-600 hover:text-gray-900 transition-colors",children:["Wrong ",a==="phone-otp"?"number":"email","?"]}),r.jsx("button",{type:"button",onClick:se,className:"inline-flex items-center gap-1.5 transition-colors disabled:opacity-40",style:{color:A?t:"#9ca3af"},disabled:!A||$,children:$?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-3.5 h-3.5 animate-spin"}),"Sending..."]}):A?r.jsxs(r.Fragment,{children:[r.jsx(VI,{className:"w-3.5 h-3.5"}),"Resend code"]}):`Resend in ${B}s`})]}),r.jsx(re,{onClick:()=>K(),className:"w-full h-12 text-white font-medium rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:t},disabled:Q||E.join("").length!==6,children:Q?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify & Sign In"})]}):c==="password-form"?r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-5",children:[r.jsxs("button",{type:"button",onClick:ue,className:"inline-flex items-center gap-1.5 text-sm text-gray-500 hover:text-gray-900 transition-colors group",children:[r.jsx(Fs,{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform"}),"Back to login options"]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sign in with password"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Enter your email and password to continue"})]}),r.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{htmlFor:"password-email",className:"text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"password-email",type:"email",placeholder:"you@example.com",value:h,onChange:de=>f(de.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-gray-300 focus:ring-0",paddingLeft:44})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"password",type:"password",placeholder:"",value:y,onChange:de=>b(de.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-gray-300 focus:ring-0",paddingLeft:44})]})]}),r.jsx(st,{children:_&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm",children:_})}),r.jsx(re,{type:"submit",className:"w-full h-12 text-white font-medium rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:t},disabled:j,children:j?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"/reset-password",className:"text-sm hover:underline transition-colors",style:{color:t},children:"Forgot your password?"})})]})]}):r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-6",children:[r.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-xl",children:[r.jsxs("button",{type:"button",onClick:()=>o("email-otp"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a==="email-otp"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[r.jsx(Mn,{className:"w-4 h-4"}),"Email"]}),r.jsxs("button",{type:"button",onClick:()=>o("phone-otp"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${a==="phone-otp"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[r.jsx(sr,{className:"w-4 h-4"}),"Phone"]})]}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsx(st,{mode:"wait",children:a==="email-otp"?r.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"email",type:"email",placeholder:"you@example.com",value:h,onChange:de=>f(de.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-gray-300 focus:ring-0",paddingLeft:44})]}),r.jsx("p",{className:"text-xs text-gray-500 pl-1",children:"We'll send you a one-time code to sign in securely"})]},"email"):r.jsxs(W.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone number"}),r.jsxs("div",{className:"relative",children:[r.jsx(sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"phone",type:"tel",placeholder:"+1 (555) 000-0000",value:m,onChange:de=>g(de.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-gray-300 focus:ring-0",paddingLeft:44})]}),r.jsx("p",{className:"text-xs text-gray-500 pl-1",children:"We'll text you a one-time code to sign in securely"})]},"phone")}),r.jsx(st,{children:_&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm",children:_})}),r.jsx(re,{type:"submit",className:"w-full h-12 text-white font-medium rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:t},disabled:j,children:j?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending code..."]}):"Send Sign-In Code"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-white px-3 text-gray-400 font-medium tracking-wider",children:"or"})})]}),r.jsxs("button",{type:"button",onClick:()=>{o("password"),d("password-form")},className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-gray-200 rounded-xl text-sm font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200",children:[r.jsx(Sc,{className:"w-4 h-4"}),"Sign in with password"]})]})},yfe=({onNavigate:e,brandColor:t="#6B0F1A"})=>r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4",style:{backgroundColor:t},children:r.jsx(qu,{className:"w-8 h-8"})}),r.jsx("h1",{className:"mb-2",children:"Welcome back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to see your orders and rewards"})]}),r.jsx(we,{className:"p-6",children:r.jsx(kS,{onSuccess:()=>e("/account"),brandColor:t})}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>e("/contact"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Having trouble? Contact us"})})]})}),vfe=({onNavigate:e,brandColor:t="#6B0F1A"})=>{const[n,s]=x.useState(["","","","","",""]),[i,a]=x.useState(!1),[o,c]=x.useState(null),[d,h]=x.useState(!1),[f,m]=x.useState(!1),g=x.useRef([]),y=new URLSearchParams(window.location.search),b=y.get("flowId"),j=y.get("method");y.get("identifier"),x.useEffect(()=>{if(!b){e("/login");return}const P=setTimeout(()=>{h(!0)},3e4);return()=>clearTimeout(P)},[b,e]),x.useEffect(()=>{g.current[0]?.focus()},[]);const S=(P,E)=>{if(E.length>1&&(E=E.slice(-1)),E&&!/^\d$/.test(E))return;const R=[...n];if(R[P]=E,s(R),E&&P<5&&g.current[P+1]?.focus(),P===5&&E){const q=R.join("");q.length===6&&C(q)}},_=(P,E)=>{E.key==="Backspace"&&!n[P]&&P>0&&g.current[P-1]?.focus()},N=P=>{P.preventDefault();const E=P.clipboardData.getData("text").trim();if(/^\d{6}$/.test(E)){const R=E.split("");s(R),g.current[5]?.focus(),C(E)}},C=async P=>{if(b){c(null),a(!0);try{(await a5({flowId:b,code:P})).success&&e("/account")}catch(E){c(E.message||"Invalid code. Please try again."),s(["","","","","",""]),g.current[0]?.focus()}finally{a(!1)}}},T=async()=>{if(b){m(!0),c(null);try{await o5(b),h(!1),setTimeout(()=>{h(!0)},3e4)}catch(P){c(P.message||"Failed to resend code")}finally{m(!1)}}},M=P=>{P.preventDefault();const E=n.join("");E.length===6&&C(E)};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4",style:{backgroundColor:t},children:r.jsx(Ig,{className:"w-8 h-8"})}),r.jsx("h1",{className:"mb-2",children:"Enter verification code"}),r.jsx("p",{className:"text-gray-600",children:j==="email"?"Code sent to your email":"Code sent via SMS"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Check your ",j==="email"?"inbox":"messages"," for the 6-digit code"]})]}),r.jsxs(we,{className:"p-6",children:[r.jsxs("form",{onSubmit:M,children:[r.jsx("div",{className:"flex gap-2 justify-center mb-6",children:n.map((P,E)=>r.jsx("input",{ref:R=>g.current[E]=R,type:"text",inputMode:"numeric",maxLength:1,value:P,onChange:R=>S(E,R.target.value),onKeyDown:R=>_(E,R),onPaste:E===0?N:void 0,className:"w-12 h-14 text-center text-2xl border rounded-lg focus:ring-2 focus:ring-offset-0 transition-all",style:{borderColor:P?t:void 0,"--tw-ring-color":t},disabled:i},E))}),o&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:o}),r.jsx(re,{type:"submit",className:"w-full text-white",style:{backgroundColor:t},disabled:i||n.join("").length!==6,children:i?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify and continue"})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{onClick:T,disabled:!d||f,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-3 h-3 inline mr-1 animate-spin"}),"Sending..."]}):d?r.jsxs(r.Fragment,{children:[r.jsx(VI,{className:"w-3 h-3 inline mr-1"}),"Resend code"]}):"Resend code in 30s"})})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" Back to login"})})]})})},bfe=({user:e,onSuccess:t,onCancel:n,brandColor:s="#6B0F1A"})=>{const[i,a]=x.useState(!1),[o,c]=x.useState({name:e.name||"",phone:e.phone||""}),d=async f=>{if(f.preventDefault(),!o.name.trim()){Ne.error("Please enter your name");return}a(!0);try{const m=await qZ({name:o.name,phone:o.phone||void 0});Ne.success("Profile updated!"),t?.(m)}catch(m){console.error("Failed to update profile:",m),Ne.error(m instanceof Error?m.message:"Failed to update profile")}finally{a(!1)}},h=o.name!==(e.name||"")||o.phone!==(e.phone||"");return r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"pl-6 pr-12 pt-6 pb-5 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Profile"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your personal information"})]}),r.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(rl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{id:"name",type:"text",placeholder:"Enter your full name",value:o.name,onChange:f=>c({...o,name:f.target.value}),disabled:i,className:"h-11",paddingLeft:44,required:!0})]})]}),e.email&&r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),r.jsx(Me,{id:"email",type:"email",value:e.email,disabled:!0,className:"h-11 bg-gray-50 text-gray-500 cursor-not-allowed",paddingLeft:44}),r.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:"Fixed"})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:o.phone,onChange:f=>c({...o,phone:f.target.value}),disabled:i,className:"h-11",paddingLeft:44})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Used for order notifications and account verification"})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"flex gap-3 pt-3",children:[r.jsx(re,{type:"submit",disabled:i||!h,className:"flex-1 h-11 font-medium disabled:opacity-50",style:{backgroundColor:h?s:"#d1d5db",color:"white"},children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(WI,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),n&&r.jsx(re,{type:"button",variant:"outline",onClick:n,disabled:i,className:"px-6 h-11 font-medium",children:"Cancel"})]}),!h&&r.jsx(W.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-gray-400 text-center",children:"No changes to save"})]})]})},cP=[{label:"At least 8 characters",test:e=>e.length>=8},{label:"Contains a number",test:e=>/\d/.test(e)},{label:"Contains uppercase letter",test:e=>/[A-Z]/.test(e)},{label:"Contains lowercase letter",test:e=>/[a-z]/.test(e)}],wfe=({onSuccess:e,onCancel:t,brandColor:n="#6B0F1A",showHeader:s=!0})=>{const[i,a]=x.useState(""),[o,c]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,j]=x.useState(!1),[S,_]=x.useState(!1),[N,C]=x.useState(null),T=cP.every(R=>R.test(o)),M=o===d&&d.length>0,P=i.length>0&&T&&M,E=async R=>{if(R.preventDefault(),!!P){C(null),_(!0);try{const{data:{user:q}}=await Fe.auth.getUser();if(!q?.email)throw new Error("Unable to verify your account. Please sign in again.");const{error:V}=await Fe.auth.signInWithPassword({email:q.email,password:i});if(V)throw new Error("Current password is incorrect");const{error:Q}=await Fe.auth.updateUser({password:o});if(Q)throw Q;Ne.success("Password updated successfully!"),a(""),c(""),h(""),e?.()}catch(q){C(q.message||"Failed to update password")}finally{_(!1)}}};return r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[s&&r.jsx("div",{className:"pl-6 pr-12 pt-6 pb-5 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${n}10`},children:r.jsx(Ig,{className:"w-5 h-5",style:{color:n}})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]})}),r.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"current-password",className:"text-sm font-medium text-gray-700",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"current-password",type:f?"text":"password",placeholder:"Enter current password",value:i,onChange:R=>a(R.target.value),disabled:S,className:"h-11",paddingLeft:44,paddingRight:44,required:!0}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-10",children:f?r.jsx(wc,{className:"w-4 h-4"}):r.jsx(jc,{className:"w-4 h-4"})})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"new-password",className:"text-sm font-medium text-gray-700",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"new-password",type:g?"text":"password",placeholder:"Enter new password",value:o,onChange:R=>c(R.target.value),disabled:S,className:"h-11",paddingLeft:44,paddingRight:44,required:!0}),r.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-10",children:g?r.jsx(wc,{className:"w-4 h-4"}):r.jsx(jc,{className:"w-4 h-4"})})]}),r.jsx(st,{children:o.length>0&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-1.5 pt-2",children:cP.map((R,q)=>{const V=R.test(o);return r.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:q*.05},className:`flex items-center gap-2 text-xs transition-colors ${V?"text-emerald-600":"text-gray-400"}`,children:[V?r.jsx(In,{className:"w-3.5 h-3.5"}):r.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-current"}),R.label]},q)})})})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[r.jsx(Le,{htmlFor:"confirm-password",className:"text-sm font-medium text-gray-700",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),r.jsx(Me,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm new password",value:d,onChange:R=>h(R.target.value),disabled:S,className:"h-11",paddingLeft:44,paddingRight:44,required:!0}),r.jsx("button",{type:"button",onClick:()=>j(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-10",children:b?r.jsx(wc,{className:"w-4 h-4"}):r.jsx(jc,{className:"w-4 h-4"})})]}),r.jsx(st,{children:d.length>0&&r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex items-center gap-1.5 text-xs ${M?"text-emerald-600":"text-amber-600"}`,children:M?r.jsxs(r.Fragment,{children:[r.jsx(In,{className:"w-3.5 h-3.5"}),"Passwords match"]}):r.jsxs(r.Fragment,{children:[r.jsx(ir,{className:"w-3.5 h-3.5"}),"Passwords don't match"]})})})]}),r.jsx(st,{children:N&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-red-50 border border-red-100 rounded-xl text-red-700 text-sm",children:N})}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"flex gap-3 pt-2",children:[r.jsx(re,{type:"submit",disabled:S||!P,className:"flex-1 h-11 font-medium text-white transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] disabled:hover:scale-100",style:{backgroundColor:P?n:"#d1d5db"},children:S?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Password"}),t&&r.jsx(re,{type:"button",variant:"outline",onClick:t,disabled:S,className:"px-6 h-11 font-medium",children:"Cancel"})]}),r.jsx("div",{className:"text-center pt-2",children:r.jsx("a",{href:"/reset-password",className:"text-sm text-gray-500 hover:text-gray-700 hover:underline transition-colors",children:"Forgot your current password?"})})]})]})},jfe=e=>`$${(Number.isFinite(e)?e:0).toFixed(2)}`,Sfe=e=>{switch(e){case"accepted":case"in_kitchen":return"bg-blue-50 text-blue-700 border-blue-200";case"ready":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"courier_requested":case"driver_en_route":case"picked_up":return"bg-amber-50 text-amber-700 border-amber-200";case"delivered":return"bg-gray-100 text-gray-600 border-gray-200";case"canceled":return"bg-red-50 text-red-600 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},Nfe=({onNavigate:e,brandColor:t="#6B0F1A"})=>{const{user:n,loyaltyBalance:s,loading:i,refreshUser:a,signOut:o}=Yr(),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[m,g]=x.useState([]),[y,b]=x.useState(!0);if(x.useEffect(()=>{if(!n)return;(async()=>{try{b(!0);const T=[];if(n.email&&T.push(`contact_email.eq.${n.email}`),n.phone&&T.push(`contact_phone.eq.${n.phone}`),T.length===0){g([]),b(!1);return}const{data:M,error:P}=await Fe.from("orders").select("*").or(T.join(",")).order("created_at",{ascending:!1}).limit(5);if(P)throw P;g(M||[])}catch(T){console.error("Failed to fetch orders:",T)}finally{b(!1)}})()},[n]),i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 mx-auto mb-4 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:t}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading your account..."})]})});if(!n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx(we,{className:"max-w-sm w-full overflow-hidden",children:r.jsxs(pt,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center",style:{backgroundColor:`${t}10`},children:r.jsx(Bt,{className:"w-8 h-8",style:{color:t}})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Sign in to view your orders, track rewards, and manage your account."})]}),r.jsx(re,{onClick:()=>e("/login"),className:"w-full h-11 font-medium",style:{backgroundColor:t},children:"Sign In"})]})})})});const j=n.name||n.email||n.phone||"Guest",S=j.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),_=m.length>0?m[0]:null,N=new Date(n.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"});return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[r.jsx("div",{className:"text-white",style:{backgroundColor:t},children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[r.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 sm:w-18 sm:h-18 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-xl font-semibold text-white",children:S}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-white",children:j}),r.jsxs("p",{className:"text-white/70 text-sm mt-0.5",children:["Member since ",N]})]})]}),r.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1},className:"flex items-center gap-2",children:[r.jsxs("div",{className:"px-3 py-1.5 bg-white/15 rounded-lg text-white text-sm font-medium",children:[m.length," orders  ",s.toLocaleString()," pts"]}),r.jsx(re,{onClick:o,variant:"ghost",size:"icon",className:"h-9 w-9 text-white hover:bg-white/15",children:r.jsx(Gu,{className:"w-4 h-4"})})]})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 -mt-6 space-y-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},children:r.jsx(we,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-300 overflow-hidden",onClick:()=>e("/account/rewards"),children:r.jsx(pt,{className:"p-6 sm:p-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-5 sm:gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4 sm:gap-5",children:[r.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${t}10`},children:r.jsx(Bt,{className:"w-6 h-6 sm:w-7 sm:h-7",style:{color:t,fill:`${t}30`}})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-wider font-medium",children:"Your Balance"}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-3xl sm:text-4xl font-bold leading-none",style:{color:t},children:s.toLocaleString()}),r.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"points"})]})]})]}),r.jsxs(re,{className:"h-11 px-5 font-medium shadow-sm w-full sm:w-auto",style:{backgroundColor:t},children:[r.jsx(fi,{className:"w-4 h-4 mr-2"}),"Redeem Rewards"]})]})})})}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{icon:nn,title:"My Orders",subtitle:"Track and view history",path:"/account/orders",color:"#3b82f6",delay:.2},{icon:Nr,title:"Refer Friends",subtitle:"Earn bonus points",path:"/account/referrals",color:"#10b981",delay:.25},{icon:dp,title:"Profile",subtitle:"Manage your details",onClick:()=>d(!0),color:"#f59e0b",delay:.3},{icon:Ig,title:"Security",subtitle:"Change password",onClick:()=>f(!0),color:"#8b5cf6",delay:.35}].map((C,T)=>r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:C.delay},children:r.jsx(we,{className:"h-full cursor-pointer hover:shadow-md transition-all duration-200 group",onClick:C.onClick||(()=>e(C.path)),children:r.jsxs(pt,{className:"p-5 h-full flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center transition-transform duration-200 group-hover:scale-110",style:{backgroundColor:`${C.color}10`},children:r.jsx(C.icon,{className:"w-5 h-5",style:{color:C.color},strokeWidth:1.5})}),r.jsx(Ma,{className:"w-4 h-4 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-0.5 transition-all duration-200"})]}),r.jsxs("div",{className:"mt-auto",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-0.5",children:C.title}),r.jsx("p",{className:"text-gray-500 text-sm",children:C.subtitle})]})]})})},C.title))}),_&&r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.35},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"font-medium text-gray-900",children:"Latest Order"}),r.jsxs(re,{variant:"link",onClick:()=>e("/account/orders"),className:"text-gray-500 hover:text-gray-900 p-0 h-auto text-sm font-medium",children:["View All ",r.jsx(Ma,{className:"w-4 h-4 ml-0.5"})]})]}),r.jsx(we,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200 group",onClick:()=>e(`/account/orders/${_.id}`),children:r.jsx(pt,{className:"p-5",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${t}08`},children:r.jsx(Va,{className:"w-6 h-6",style:{color:t}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsxs("span",{className:"font-mono font-medium text-gray-900",children:["#",_.id.slice(-6).toUpperCase()]}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full border ${Sfe(_.status)}`,children:_.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-sm",children:[r.jsx(Jt,{className:"w-3.5 h-3.5"}),new Date(_.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),r.jsx("span",{className:"font-semibold text-gray-900",children:jfe(_.total_cents/100)})]})]}),r.jsx(Ma,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500 transition-colors flex-shrink-0"})]})})})]})]}),r.jsx(Kr,{open:c,onOpenChange:d,children:r.jsxs(kr,{className:"max-w-md p-0 gap-0 rounded-xl",children:[r.jsxs(Ws,{className:"sr-only",children:[r.jsx(ps,{children:"Edit profile"}),r.jsx(Hs,{children:"Update your account information"})]}),r.jsx(bfe,{user:n,brandColor:t,onSuccess:async()=>{d(!1),a&&await a()},onCancel:()=>d(!1)})]})}),r.jsx(Kr,{open:h,onOpenChange:f,children:r.jsxs(kr,{className:"max-w-md p-0 gap-0 rounded-xl",children:[r.jsxs(Ws,{className:"sr-only",children:[r.jsx(ps,{children:"Change password"}),r.jsx(Hs,{children:"Update your account password"})]}),r.jsx(wfe,{brandColor:t,onSuccess:()=>f(!1),onCancel:()=>f(!1)})]})})]})},_fe=e=>`$${(Number.isFinite(e)?e:0).toFixed(2)}`,kfe=({onNavigate:e,brandColor:t="#6B0F1A"})=>{const{user:n,loading:s}=Yr(),[i,a]=x.useState(""),[o,c]=x.useState("all"),[d,h]=x.useState([]),[f,m]=x.useState(!0);if(x.useEffect(()=>{if(!n)return;(async()=>{try{m(!0);const C=await fetch(`${qr}/orders/customer-lookup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt}`,apikey:Nt},body:JSON.stringify({customerId:n.customerId,email:n.email,phone:n.phone})});if(!C.ok)throw new Error(`Failed to fetch orders: ${C.status}`);const P=((await C.json()).orders||[]).map(E=>({...E,status:ol(E.status)}));h(P)}catch(C){console.error("Failed to fetch orders:",C)}finally{m(!1)}})()},[n]),s||f)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 mx-auto mb-4 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:t}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading orders..."})]})});if(!n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:r.jsx(we,{className:"max-w-sm w-full",children:r.jsxs(pt,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gray-100 flex items-center justify-center",children:r.jsx(nn,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Sign in to view orders"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Track your order history and status."})]}),r.jsx(re,{onClick:()=>e("/login"),className:"w-full h-11 font-medium",style:{backgroundColor:t},children:"Sign In"})]})})});const g=N=>N==="delivered"||N==="canceled"?"completed":"active",y=N=>{switch(N){case"accepted":case"in_kitchen":return"bg-blue-50 text-blue-700 border-blue-200";case"ready":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"courier_requested":case"driver_en_route":case"picked_up":return"bg-amber-50 text-amber-700 border-amber-200";case"delivered":return"bg-gray-100 text-gray-600 border-gray-200";case"canceled":return"bg-red-50 text-red-600 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},b=N=>{switch(N){case"accepted":case"in_kitchen":case"courier_requested":case"driver_en_route":case"picked_up":return r.jsx(Jt,{className:"w-3 h-3"});case"ready":case"delivered":return r.jsx(Hr,{className:"w-3 h-3"});case"canceled":return r.jsx(ms,{className:"w-3 h-3"});default:return r.jsx(Jt,{className:"w-3 h-3"})}},j=d.filter(N=>{const C=g(N.status);if(o!=="all"&&C!==o)return!1;if(i){const T=i.toLowerCase();return N.id.toLowerCase().includes(T)||(N.order_items||[]).some(M=>M.name?.toLowerCase().includes(T))}return!0}),S=d.filter(N=>g(N.status)==="active").length,_=d.filter(N=>g(N.status)==="completed").length;return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-30",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e("/account"),className:"w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:r.jsx(Fs,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"My Orders"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[d.length," total orders"]})]})]}),r.jsxs("div",{className:"hidden sm:flex gap-2",children:[r.jsxs("div",{className:"px-3 py-1 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-full text-xs font-medium",children:[S," Active"]}),r.jsxs("div",{className:"px-3 py-1 bg-gray-100 border border-gray-200 text-gray-600 rounded-full text-xs font-medium",children:[_," Completed"]})]})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-6 space-y-6",children:[r.jsx(we,{children:r.jsx(pt,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{placeholder:"Search by order # or item",value:i,onChange:N=>a(N.target.value),className:"h-10",paddingLeft:44})]}),r.jsx("div",{className:"flex p-1 bg-gray-100 rounded-lg",children:["all","active","completed"].map(N=>r.jsx("button",{onClick:()=>c(N),className:_e("px-4 py-1.5 text-sm font-medium rounded-md transition-all duration-200",o===N?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})})}),j.length===0?r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl bg-gray-100 flex items-center justify-center mb-4",children:r.jsx(nn,{className:"w-10 h-10 text-gray-300"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:i?"Try a different search term":"Start shopping to see your orders here"}),!i&&r.jsx(re,{onClick:()=>e("/products"),className:"h-11 px-6 font-medium",style:{backgroundColor:t},children:"Start Shopping"})]}):r.jsx("div",{className:"space-y-3",children:j.map((N,C)=>r.jsx(W.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3,delay:C*.04},children:r.jsx(we,{className:"cursor-pointer hover:shadow-md transition-all duration-200 group",onClick:()=>e(`/account/orders/${N.id}`),children:r.jsx(pt,{className:"p-4 sm:p-5",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${t}08`},children:r.jsx(nn,{className:"w-5 h-5",style:{color:t}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsxs("span",{className:"font-mono font-medium text-gray-900 text-sm",children:["#",N.id.slice(-6).toUpperCase()]}),r.jsxs("span",{className:_e("inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full border",y(N.status)),children:[b(N.status),N.status.replace("_"," ")]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsxs("span",{children:[(N.order_items||[]).length," items"]}),r.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),r.jsx("span",{children:new Date(N.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),r.jsx("span",{className:"font-semibold text-gray-900",children:_fe(N.total_cents/100)})]})]}),r.jsx(Ma,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-0.5 transition-all flex-shrink-0"})]})})})},N.id))})]})]})};var Cfe=Symbol("radix.slottable");function Efe(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Cfe,t}var J3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tfe="VisuallyHidden",X3=x.forwardRef((e,t)=>r.jsx(ke.span,{...e,ref:t,style:{...J3,...e.style}}));X3.displayName=Tfe;var Pfe=X3,[wx]=Cn("Tooltip",[ro]),jx=ro(),Q3="TooltipProvider",Rfe=700,vw="tooltip.open",[Afe,CS]=wx(Q3),Z3=e=>{const{__scopeTooltip:t,delayDuration:n=Rfe,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,o=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),r.jsx(Afe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:a})};Z3.displayName=Q3;var mh="Tooltip",[Ife,Zh]=wx(mh),eL=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=e,d=CS(mh,e.__scopeTooltip),h=jx(t),[f,m]=x.useState(null),g=hn(),y=x.useRef(0),b=o??d.disableHoverableContent,j=c??d.delayDuration,S=x.useRef(!1),[_,N]=_r({prop:s,defaultProp:i??!1,onChange:E=>{E?(d.onOpen(),document.dispatchEvent(new CustomEvent(vw))):d.onClose(),a?.(E)},caller:mh}),C=x.useMemo(()=>_?S.current?"delayed-open":"instant-open":"closed",[_]),T=x.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,N(!0)},[N]),M=x.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N(!1)},[N]),P=x.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,N(!0),y.current=0},j)},[j,N]);return x.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),r.jsx(Hg,{...h,children:r.jsx(Ife,{scope:t,contentId:g,open:_,stateAttribute:C,trigger:f,onTriggerChange:m,onTriggerEnter:x.useCallback(()=>{d.isOpenDelayedRef.current?P():T()},[d.isOpenDelayedRef,P,T]),onTriggerLeave:x.useCallback(()=>{b?M():(window.clearTimeout(y.current),y.current=0)},[M,b]),onOpen:T,onClose:M,disableHoverableContent:b,children:n})})};eL.displayName=mh;var bw="TooltipTrigger",tL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Zh(bw,n),a=CS(bw,n),o=jx(n),c=x.useRef(null),d=He(t,c,i.onTriggerChange),h=x.useRef(!1),f=x.useRef(!1),m=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(Fh,{asChild:!0,...o,children:r.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:ye(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ye(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:ye(e.onBlur,i.onClose),onClick:ye(e.onClick,i.onClose)})})});tL.displayName=bw;var ES="TooltipPortal",[Ofe,Mfe]=wx(ES,{forceMount:void 0}),nL=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:i}=e,a=Zh(ES,t);return r.jsx(Ofe,{scope:t,forceMount:n,children:r.jsx(fn,{present:n||a.open,children:r.jsx(fd,{asChild:!0,container:i,children:s})})})};nL.displayName=ES;var qc="TooltipContent",rL=x.forwardRef((e,t)=>{const n=Mfe(qc,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,o=Zh(qc,e.__scopeTooltip);return r.jsx(fn,{present:s||o.open,children:o.disableHoverableContent?r.jsx(sL,{side:i,...a,ref:t}):r.jsx(Dfe,{side:i,...a,ref:t})})}),Dfe=x.forwardRef((e,t)=>{const n=Zh(qc,e.__scopeTooltip),s=CS(qc,e.__scopeTooltip),i=x.useRef(null),a=He(t,i),[o,c]=x.useState(null),{trigger:d,onClose:h}=n,f=i.current,{onPointerInTransitChange:m}=s,g=x.useCallback(()=>{c(null),m(!1)},[m]),y=x.useCallback((b,j)=>{const S=b.currentTarget,_={x:b.clientX,y:b.clientY},N=Ufe(_,S.getBoundingClientRect()),C=zfe(_,N),T=Bfe(j.getBoundingClientRect()),M=Wfe([...C,...T]);c(M),m(!0)},[m]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(d&&f){const b=S=>y(S,f),j=S=>y(S,d);return d.addEventListener("pointerleave",b),f.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",j)}}},[d,f,y,g]),x.useEffect(()=>{if(o){const b=j=>{const S=j.target,_={x:j.clientX,y:j.clientY},N=d?.contains(S)||f?.contains(S),C=!Vfe(_,o);N?g():C&&(g(),h())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,f,o,h,g]),r.jsx(sL,{...e,ref:a})}),[Lfe,$fe]=wx(mh,{isInside:!1}),Ffe=Efe("TooltipContent"),sL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=e,d=Zh(qc,n),h=jx(n),{onClose:f}=d;return x.useEffect(()=>(document.addEventListener(vw,f),()=>document.removeEventListener(vw,f)),[f]),x.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),r.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:r.jsxs(qg,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Ffe,{children:s}),r.jsx(Lfe,{scope:n,isInside:!0,children:r.jsx(Pfe,{id:d.contentId,role:"tooltip",children:i||s})})]})})});rL.displayName=qc;var iL="TooltipArrow",aL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=jx(n);return $fe(iL,n).isInside?null:r.jsx(Gg,{...i,...s,ref:t})});aL.displayName=iL;function Ufe(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function zfe(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Bfe(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function Vfe(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,g=d.y;f>s!=g>s&&n<(m-h)*(s-f)/(g-f)+h&&(i=!i)}return i}function Wfe(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Hfe(t)}function Hfe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var qfe=Z3,Gfe=eL,Kfe=tL,Yfe=nL,Jfe=rL,Xfe=aL;function Qfe({delayDuration:e=0,...t}){return r.jsx(qfe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Zfe({...e}){return r.jsx(Qfe,{children:r.jsx(Gfe,{"data-slot":"tooltip",...e})})}function eme({...e}){return r.jsx(Kfe,{"data-slot":"tooltip-trigger",...e})}function tme({className:e,sideOffset:t=0,children:n,...s}){return r.jsx(Yfe,{children:r.jsxs(Jfe,{"data-slot":"tooltip-content",sideOffset:t,className:_e("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...s,children:[n,r.jsx(Xfe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function nme({orderCreatedAt:e,onExpire:t}){const[n,s]=x.useState(()=>{const{remaining:o}=Wc(e);return o});if(x.useEffect(()=>{const o=setInterval(()=>{const{remaining:c,expired:d}=Wc(e);s(c),d&&(clearInterval(o),t())},1e3);return()=>clearInterval(o)},[e,t]),n<=0)return null;const i=Math.floor(n/60),a=n%60;return r.jsx("div",{className:"flex items-center justify-between bg-amber-50 border border-amber-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800",children:["Cancel window: ",r.jsxs("span",{className:"font-mono font-medium",children:[i,":",a.toString().padStart(2,"0")]})]})]})})}const rme=["courier_requested","driver_assigned","driver_en_route","picked_up","delivered","completed","canceled","cancelled","refunded"];function oL(e){return e?rme.includes(e.toLowerCase()):!1}function sme(e,t,n){if(n)return"This order has been cancelled";if(oL(e)){const s=e?.toLowerCase()||"";return["courier_requested","driver_assigned","driver_en_route","picked_up"].includes(s)?"Cannot cancel - delivery is in progress":["delivered","completed"].includes(s)?"Cannot cancel - order already completed":"Cannot cancel order in current status"}return t?"3-minute cancellation window has expired":null}const ime=({orderId:e,onNavigate:t,config:n,brandColor:s="#6B0F1A"})=>{const{user:i,loading:a}=Yr(),[o,c]=x.useState(null),[d,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(null),[b,j]=x.useState(!1),[S,_]=x.useState(!1),[N,C]=x.useState(null),[T,M]=x.useState(!0),[P,E]=x.useState(!1);x.useEffect(()=>{if(!i)return;const H=async()=>{try{const{data:D,error:ee}=await Fe.from("orders").select(`
            *,
            order_items(*),
            courier_tasks(*),
            order_events(*),
            delivery_address:delivery_address_id(*)
          `).eq("id",e).single();if(ee)throw ee;if(!D){y("Order not found");return}if(!(D.contact_email===i.email||D.contact_phone===i.phone)){t("/account/orders");return}const L=ol(D.status),X={id:D.id,status:L,mode:D.fulfillment_type,placedAt:D.created_at,eta:D.delivery_eta||D.pickup_eta||D.created_at,items:D.order_items.map(K=>{const se=K.metadata?.unit||"each",ue=K.metadata?.unitLabel||K.unit_label;return{name:K.name,price:K.unit_price_cents/100,qty:Number(K.quantity),quantityDisplay:K.metadata?.quantityDisplay||Ya(Number(K.quantity),se),unit:se,unitLabel:ue,mods:K.modifiers||[],note:K.metadata?.notes}}),totals:{subtotal:D.subtotal_cents/100,discount:(D.discount_cents||0)/100,fees:D.delivery_fee_cents/100,tax:D.tax_cents/100,tips:D.tip_cents/100,grand_total:D.total_cents/100},customer:{email:D.contact_email,phone:D.contact_phone,name:D.contact_name},address:D.fulfillment_type==="delivery"?(()=>{const K=D.delivery_address;if(K)return{line1:K.street_line1,apt:K.street_line2,city:K.city,state:K.state,zip:K.postal_code,notes:K.delivery_instructions||D.fulfillment_instructions};const se=D.metadata?.delivery;return se?{line1:se.line1,apt:se.line2,city:se.city,state:se.state,zip:se.zip,notes:D.fulfillment_instructions}:null})():null,metadata:D.metadata||{}};if(c(X),D.courier_tasks&&D.courier_tasks.length>0&&h(D.courier_tasks[0]),D.order_events){const K=D.order_events.map(se=>({...se,status:se.status?ol(se.status):se.status}));m(K)}try{const K=await xS(e);if(C(K),!["canceled","cancelled"].includes(L.toLowerCase())){const{expired:ue}=Wc(K.createdAt);M(ue)}}catch(K){console.error("Failed to fetch OrderDetails via API:",K)}}catch(D){console.error("Error fetching order:",D),y(D.message)}};H();const U=Fe.channel(`order:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`id=eq.${e}`},()=>H()).on("postgres_changes",{event:"*",schema:"public",table:"courier_tasks",filter:`order_id=eq.${e}`},D=>{D.new&&h(D.new)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"order_events",filter:`order_id=eq.${e}`},D=>{D.new&&m(ee=>[...ee,D.new])}).subscribe();return()=>{Fe.removeChannel(U)}},[e,i,t]);const R=o?.mode==="delivery",q=o&&["canceled","cancelled"].includes(o.status?.toLowerCase()),V=oL(o?.status),Q=N&&!T&&!q&&!V,G=sme(o?.status,T,q),A=N&&!q,J=x.useCallback(()=>{M(!0)},[]),$=x.useCallback(()=>{E(!1),t(`/status/${e}`)},[t,e]);if(a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 mx-auto mb-4 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:s}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading order details..."})]})});if(!i||!o)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:r.jsx(we,{className:"max-w-sm w-full",children:r.jsxs(pt,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gray-100 flex items-center justify-center",children:r.jsx(Dn,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Order not found"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"We couldn't locate this order."})]}),r.jsx(re,{onClick:()=>t("/products"),className:"w-full h-11 font-medium",style:{backgroundColor:s},children:"Place a new order"})]})})});const F=y3(o.id),B=new Date(o.eta),O=async()=>{if(o){j(!0);try{const{receiptUrl:H}=await Uue(o.id);H?window.open(H,"_blank","noopener,noreferrer"):Ne.error("Receipt not available yet.")}catch(H){Ne.error(H?.message||"Unable to fetch receipt right now.")}finally{j(!1)}}},Z=H=>{switch(H){case"accepted":case"in_kitchen":return"bg-blue-50 text-blue-700 border-blue-200";case"ready":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"courier_requested":case"driver_en_route":case"picked_up":return"bg-amber-50 text-amber-700 border-amber-200";case"delivered":return"bg-gray-100 text-gray-600 border-gray-200";case"canceled":return"bg-red-50 text-red-600 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-30",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>t("/account/orders"),className:"w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:r.jsx(Fs,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("h1",{className:"text-lg font-semibold text-gray-900 font-mono",children:["#",o.id.slice(-6).toUpperCase()]}),r.jsx("span",{className:_e("inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full border",Z(o.status)),children:o.status.replace("_"," ")})]}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(o.placedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-6 space-y-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsx("h2",{className:"font-semibold text-gray-900",children:"Order Status"}),d&&r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium",children:[r.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-emerald-500"})]}),"Live"]})]}),r.jsx(gS,{status:o.status,fulfillment:o.mode,placedAt:o.placedAt,eta:o.eta,timeline:f.reduce((H,U)=>(U.status&&(H[U.status]=U.created_at),H),{}),brandColor:s}),A&&N&&r.jsxs("div",{className:"mt-5 pt-5 border-t space-y-3",children:[Q&&r.jsx(nme,{orderCreatedAt:N.createdAt,onExpire:J}),!Q&&G&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 rounded-lg p-3",children:[r.jsx(FI,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:G})]}),Q?r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>E(!0),className:"w-full gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",children:[r.jsx(ms,{className:"w-4 h-4"}),"Cancel Order"]}):r.jsxs(Zfe,{children:[r.jsx(eme,{asChild:!0,children:r.jsxs(re,{variant:"outline",size:"sm",disabled:!0,className:"w-full gap-2 opacity-50 cursor-not-allowed text-red-400 border-red-100",children:[r.jsx(ms,{className:"w-4 h-4"}),"Cancel Order"]})}),r.jsx(tme,{children:r.jsx("p",{children:G||"Order cannot be cancelled"})})]})]})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-5",children:o.mode==="pickup"?"Pickup Details":"Delivery Details"}),o.mode==="pickup"?r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"rounded-xl p-5 text-center",style:{backgroundColor:`${s}08`},children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-2",children:"Your pickup code"}),r.jsx("div",{className:"text-3xl font-bold font-mono tracking-wider",style:{color:s},children:F}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Show this code when you arrive"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm mb-0.5",children:"Location"}),r.jsxs("p",{className:"text-sm text-gray-500 leading-relaxed",children:[n.address.line1,r.jsx("br",{}),n.address.city,", ",n.address.state," ",n.address.zip]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:r.jsx(Jt,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm mb-0.5",children:"Ready Time"}),r.jsx("p",{className:"text-sm text-gray-500",children:B.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})]})]}):r.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm mb-0.5",children:"Delivery Address"}),r.jsxs("p",{className:"text-sm text-gray-500 leading-relaxed",children:[[o.address?.line1,o.address?.apt].filter(Boolean).join(", "),r.jsx("br",{}),[o.address?.city,o.address?.state,o.address?.zip].filter(Boolean).join(", ")]}),o.address?.notes&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1.5 bg-gray-50 p-2 rounded",children:["Note: ",o.address.notes]})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:r.jsx(zs,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm mb-0.5",children:"Estimated Delivery"}),r.jsx("p",{className:"text-sm text-gray-500",children:B.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})]})]})})}),o.mode==="delivery"&&d&&d.tracking_url&&r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},children:r.jsx(we,{className:"bg-blue-50 border-blue-100",children:r.jsx(pt,{className:"p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(zs,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Live Tracking"}),r.jsx("p",{className:"text-xs text-gray-500",children:d.provider==="uber"?"Uber Direct":d.provider})]})]}),r.jsxs(re,{size:"sm",onClick:()=>window.open(d.tracking_url,"_blank"),className:"h-9 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium",children:["Track ",r.jsx(Wu,{className:"w-3 h-3 ml-1.5"})]})]})})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-5",children:"Order Summary"}),r.jsx("div",{className:"space-y-4",children:o.items.map((H,U)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-start gap-4",children:[r.jsxs("div",{className:"flex-1",children:[(()=>{const D=H.quantityDisplay||Ya(H.qty,H.unit),ee=hx(H.unit)?D:`${D}`;return r.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[ee," ",H.name]})})(),H.mods&&H.mods.length>0&&r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:H.mods.map(D=>D.name).join(", ")}),H.note&&r.jsxs("p",{className:"text-xs text-gray-400 italic mt-1 bg-gray-50 p-1.5 rounded inline-block",children:["Note: ",H.note]})]}),r.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:["$",(H.price*H.qty).toFixed(2)]})]}),U<o.items.length-1&&r.jsx(vr,{className:"mt-4"})]},U))}),r.jsx(vr,{className:"my-5"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Subtotal"}),r.jsxs("span",{className:"text-gray-900",children:["$",o.totals.subtotal.toFixed(2)]})]}),o.totals.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",style:{color:s},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-$",o.totals.discount.toFixed(2)]})]}),o.totals.fees>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Delivery Fee"}),r.jsxs("span",{className:"text-gray-900",children:["$",o.totals.fees.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Tax"}),r.jsxs("span",{className:"text-gray-900",children:["$",o.totals.tax.toFixed(2)]})]}),o.totals.tips>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Tip"}),r.jsxs("span",{className:"text-gray-900",children:["$",o.totals.tips.toFixed(2)]})]}),r.jsx(vr,{className:"my-3"}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),r.jsxs("span",{className:"text-xl font-bold",style:{color:s},children:["$",o.totals.grand_total.toFixed(2)]})]})]})]})})}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.25},className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs(re,{variant:"outline",onClick:O,disabled:b,className:"h-11 font-medium",children:[r.jsx(Tj,{className:"w-4 h-4 mr-2"}),b?"Loading...":"Download Receipt"]}),r.jsxs(re,{variant:"outline",onClick:()=>_(!0),className:"h-11 font-medium",children:[r.jsx(fE,{className:"w-4 h-4 mr-2"}),"Need Help?"]})]})]}),r.jsx(Kr,{open:S,onOpenChange:_,children:r.jsxs(kr,{className:"max-w-sm p-6",children:[r.jsxs(Ws,{children:[r.jsx(ps,{children:"Need help?"}),r.jsx(Hs,{children:"Contact us with your order number so we can assist quickly."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:r.jsx(fE,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Need help?"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Contact us with your order number."})]})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["Order #",o.id.slice(-6).toUpperCase()]}),r.jsx("p",{className:"text-gray-500",children:new Date(o.placedAt).toLocaleString()})]}),r.jsxs("div",{className:"space-y-2",children:[n?.contact?.phone&&r.jsxs(re,{className:"w-full h-11 justify-start font-medium",style:{backgroundColor:s},onClick:()=>{window.location.href=`tel:${n.contact.phone.replace(/[^+\d]/g,"")}`},children:[r.jsx(sr,{className:"w-4 h-4 mr-3"}),"Call ",n.contact.phone]}),r.jsxs(re,{variant:"outline",className:"w-full h-11 justify-start font-medium",onClick:()=>{const H=encodeURIComponent(`Help with Order #${o.id.slice(-6)}`),U=encodeURIComponent(`Hi, I need help with my order.

Order Number: ${o.id}
Placed: ${new Date(o.placedAt).toLocaleString()}

Issue: `);window.location.href=`mailto:${n.contact.email}?subject=${H}&body=${U}`},children:[r.jsx(Mn,{className:"w-4 h-4 mr-3"}),"Email ",n.contact.email]})]})]})]})}),N&&r.jsx(P3,{open:P,onOpenChange:E,orderId:N.id,orderTotal:N.totals.totalCents,customerPhone:N.contact.phone||void 0,customerEmail:N.contact.email||void 0,isDelivery:R,onSuccess:$})]})};function lL({...e}){return r.jsx(DD,{"data-slot":"collapsible",...e})}function cL({...e}){return r.jsx(J1,{"data-slot":"collapsible-trigger",...e})}function dL({...e}){return r.jsx(Q1,{"data-slot":"collapsible-content",...e})}const ame=({onNavigate:e,brandColor:t="#6B0F1A"})=>{const{user:n,loyaltyBalance:s,loading:i}=Yr(),[a,o]=x.useState([]),[c,d]=x.useState(!1),[h,f]=x.useState(null);if(x.useEffect(()=>{n&&(async()=>{d(!0);try{const j=await Ih({email:n.email,phone:n.phone});o(j?.events??[])}catch(j){console.error("Failed to load loyalty events",j),o([])}finally{d(!1)}})()},[n]),i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 mx-auto mb-4 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:t}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading rewards..."})]})});if(!n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:r.jsx(we,{className:"max-w-sm w-full",children:r.jsxs(pt,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gray-100 flex items-center justify-center",children:r.jsx(Bt,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Start Earning Rewards"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Place your first order to start earning points automatically."})]}),r.jsx(re,{onClick:()=>e("/products"),className:"w-full h-11 font-medium",style:{backgroundColor:t},children:"Order Now"})]})})});const m=b=>{const j=new Date(b),_=new Date().getTime()-j.getTime(),N=Math.floor(_/(1e3*60*60*24));return N===0?"Today":N===1?"Yesterday":N<7?`${N} days ago`:N<30?`${Math.floor(N/7)} weeks ago`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},g=b=>{switch(b){case"purchase":return r.jsx(Dn,{className:"w-4 h-4"});case"referral_inviter":case"referral_friend":return r.jsx(Va,{className:"w-4 h-4"});default:return r.jsx(Bt,{className:"w-4 h-4"})}},y=[{id:"earn",question:"How do I earn points?",answer:`Earn ${ai} points for every $1 you spend on orders. Points are automatically added to your account after each purchase. The more you order, the more you earn!`},{id:"referral",question:"What about referral bonuses?",answer:`Invite friends to earn bonus points! When someone uses your referral link and completes their first order (minimum $10), you'll receive +${mi} points and they'll get +${Gr} points. Win-win!`},{id:"redeem",question:"How do I redeem points?",answer:"Browse our rewards catalog to see available rewards. You can redeem points for free items, discounts, and exclusive offers. Rewards are applied during checkout."}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-30",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e("/account"),className:"w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:r.jsx(Fs,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Rewards"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Track and redeem your points"})]})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-6 space-y-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx(we,{className:"overflow-hidden",style:{backgroundColor:t},children:r.jsxs(pt,{className:"p-8 text-center text-white",children:[r.jsx("div",{className:"w-14 h-14 mx-auto rounded-xl bg-white/20 flex items-center justify-center mb-4",children:r.jsx(Bt,{className:"w-7 h-7 text-white",fill:"rgba(255,255,255,0.3)"})}),r.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide font-medium mb-2",children:"Your Balance"}),r.jsx("div",{className:"text-5xl font-bold mb-6",children:s.toLocaleString()}),r.jsx("p",{className:"text-white/80 text-sm mb-6 max-w-xs mx-auto",children:"Keep earning to unlock more rewards!"}),r.jsxs(re,{className:"h-11 px-6 font-medium bg-white hover:bg-gray-100",style:{color:t},onClick:()=>e("/products"),children:[r.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Order Now"]})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"How It Works"}),r.jsx("div",{className:"space-y-2",children:y.map(b=>r.jsxs(lL,{open:h===b.id,onOpenChange:j=>f(j?b.id:null),children:[r.jsxs(cL,{className:"flex items-center justify-between w-full p-3 text-left rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"font-medium text-gray-900 text-sm",children:b.question}),r.jsx(Mi,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${h===b.id?"rotate-180":""}`})]}),r.jsx(dL,{children:r.jsx("div",{className:"px-3 pb-3 text-sm text-gray-600 leading-relaxed",children:b.answer})})]},b.id))})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{backgroundColor:`${t}10`},children:r.jsx(Og,{className:"w-4 h-4",style:{color:t}})}),r.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Earnings"})]}),c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-8 h-8 mx-auto mb-3 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:t}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading activity..."})]}):a.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[r.jsx(Bt,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium mb-1",children:s>0?"Points balance found":"No points earned yet"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:s>0?"No activity log available":"Place an order to start earning"}),s>0&&r.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border rounded-full text-sm",children:[r.jsx(Bt,{className:"w-3.5 h-3.5",style:{color:t}}),r.jsxs("span",{className:"font-medium",children:[s.toLocaleString()," pts"]})]})]}):r.jsx("div",{className:"space-y-2",children:a.map(b=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-white border",style:{color:t},children:g(b.type)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:b.description}),r.jsx("p",{className:"text-xs text-gray-500",children:m(b.createdAt)})]})]}),r.jsxs("div",{className:"flex items-center gap-1 font-semibold text-sm",style:{color:t},children:[r.jsxs("span",{children:["+",b.stars]}),r.jsx(Bt,{className:"w-3.5 h-3.5",fill:t})]})]},b.id))})]})})})]})]})},ome=({onNavigate:e,config:t,brandColor:n="#6B0F1A"})=>{const{user:s,loading:i}=Yr(),[a,o]=x.useState(""),[c,d]=x.useState(""),[h,f]=x.useState({clicks:0,conversions:0}),[m,g]=x.useState(!1),[y,b]=x.useState(!1);if(x.useEffect(()=>{if(s){const T=Bj(s.email,s.phone);o(T),d(Oh(T));const M=Wa.referrals.get(T);M&&f({clicks:M.clicks,conversions:M.conversions})}},[s]),i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 mx-auto mb-4 relative",children:r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-spin",style:{borderColor:"transparent",borderTopColor:n}})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})]})});if(!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:r.jsx(we,{className:"max-w-sm w-full",children:r.jsxs(pt,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-gray-100 flex items-center justify-center",children:r.jsx(Nr,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Share & Earn"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Place your first order to get your unique referral link."})]}),r.jsx(re,{onClick:()=>e("/products"),className:"w-full h-11 font-medium",style:{backgroundColor:n},children:"Order Now"})]})})});const j=async()=>{try{await navigator.clipboard.writeText(c),b(!0),Ne.success("Link copied!"),setTimeout(()=>b(!1),2e3)}catch{Ne.error("Failed to copy")}},S=()=>{window.location.href=Vj(a,t.name)},_=()=>{window.open(Wj(a,t.name),"_blank")},N=T=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(T)}`,C=[{num:1,title:"Share your link",desc:"Send your unique referral link to friends via SMS, WhatsApp, or social media."},{num:2,title:"They order",desc:"Your friend uses your link and completes their first order (minimum $10)."},{num:3,title:"You both win",desc:`You receive +${mi} pts and they get +${Gr} pts automatically!`}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[r.jsx("div",{className:"bg-white border-b sticky top-0 z-30",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e("/account"),className:"w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:r.jsx(Fs,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Referrals"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Share the love, earn rewards"})]})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-6 space-y-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx(we,{className:"overflow-hidden",style:{backgroundColor:n},children:r.jsxs(pt,{className:"p-8 text-center text-white",children:[r.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl bg-white/20 flex items-center justify-center mb-4",children:r.jsx(HI,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invite Friends, Earn Together"}),r.jsx("p",{className:"text-white/80 text-sm max-w-sm mx-auto mb-6",children:"Share your unique link and both you and your friend get rewarded!"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-xs mx-auto",children:[r.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center",children:[r.jsxs("div",{className:"text-3xl font-bold mb-1",children:["+",Gr]}),r.jsx("p",{className:"text-xs text-white/70 uppercase tracking-wide",children:"Your friend"})]}),r.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4 text-center",children:[r.jsxs("div",{className:"text-3xl font-bold mb-1",children:["+",mi]}),r.jsx("p",{className:"text-xs text-white/70 uppercase tracking-wide",children:"You get"})]})]})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(we,{children:r.jsxs(pt,{className:"p-5 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:h.clicks}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Clicks"})]})}),r.jsx(we,{children:r.jsxs(pt,{className:"p-5 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:h.conversions}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Referrals"})]})})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6 space-y-5",children:[r.jsx("h2",{className:"font-semibold text-gray-900",children:"Your Referral Link"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Me,{value:c,readOnly:!0,className:"flex-1 font-mono text-sm h-11 bg-gray-50"}),r.jsx(re,{onClick:j,className:"h-11 px-4 font-medium",style:{backgroundColor:n},children:y?r.jsx(In,{className:"w-4 h-4"}):r.jsx(LI,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(re,{onClick:S,variant:"outline",className:"h-10 font-medium",children:[r.jsx(Uc,{className:"w-4 h-4 mr-2"}),"SMS"]}),r.jsxs(re,{onClick:_,className:"h-10 font-medium bg-emerald-600 hover:bg-emerald-700 text-white",children:[r.jsx(Uc,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]}),r.jsxs(re,{onClick:()=>g(!m),variant:"outline",className:"w-full h-10 font-medium",children:[r.jsx(BI,{className:"w-4 h-4 mr-2"}),m?"Hide QR Code":"Show QR Code"]}),m&&r.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex justify-center pt-2",children:r.jsx("div",{className:"p-4 bg-white border rounded-xl shadow-sm",children:r.jsx("img",{src:N(c),alt:"Referral QR Code",className:"w-40 h-40"})})})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:r.jsx(we,{children:r.jsxs(pt,{className:"p-6",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-5",children:"How It Works"}),r.jsx("div",{className:"space-y-5",children:C.map(T=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-sm font-semibold",style:{backgroundColor:`${n}10`,color:n},children:T.num}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 mb-0.5",children:T.title}),r.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:T.desc})]})]},T.num))})]})})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.25},children:r.jsxs("p",{className:"text-xs text-gray-400 text-center px-4 leading-relaxed",children:[r.jsx("span",{className:"font-medium text-gray-500",children:"Terms:"})," Bonus applies after friend completes first order ($10 min). One bonus per new customer. Self-referrals not permitted. Program terms subject to change."]})})]})]})},nc=e=>`$${(e/100).toFixed(2)}`,dP=({orderNumber:e,onNavigate:t,brandColor:n="#6B0F1A"})=>{const{user:s}=Yr(),[i,a]=x.useState(e||""),[o,c]=x.useState(null),[d,h]=x.useState(null),[f,m]=x.useState(!1);x.useEffect(()=>{e&&g(e)},[e]);const g=async _=>{const N=(_||i).trim();if(!N){h("Please enter an order number");return}m(!0),h(null),c(null);try{const C=await zue(N);c(C)}catch(C){h(C?.message||"Order not found. Please try again.")}finally{m(!1)}},y=_=>{_.preventDefault(),g()},b=s&&o&&(o.contact.email===s.email||o.contact.phone===s.phone),j=o?.fulfillmentType==="delivery",S=o&&(o.fulfillmentType==="delivery"?o.deliveryEta||"":o.pickupEta||"");return r.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 py-6",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[r.jsx("h1",{className:"mb-2",children:"Track Your Order"}),r.jsx("p",{className:"text-gray-600",children:"Enter your order number to see real-time status updates"})]})})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 space-y-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsx(we,{className:"p-6",children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Order Number"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Me,{type:"text",placeholder:"Enter order number or last 6 digits",value:i,onChange:_=>a(_.target.value),paddingLeft:44})]}),r.jsx(re,{type:"submit",disabled:f,className:"text-white",style:{backgroundColor:n},children:f?"Searching...":"Track Order"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can find your order number in your confirmation email or receipt."})]}),d&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:d})]})})}),o&&r.jsxs(r.Fragment,{children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:r.jsxs(we,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"mb-1",children:["Order #",o.shortCode]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(o.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]}),r.jsx("div",{className:"flex items-center gap-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium",children:"Delivery"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium",children:"Pickup"})]})})]}),r.jsx(gS,{status:o.status,fulfillment:o.fulfillmentType,placedAt:o.createdAt,eta:S,timeline:o.timestamps,brandColor:n})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(we,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Order Summary"}),r.jsx("div",{className:"space-y-2",children:o.items.map(_=>{const N=_.quantityDisplay||Ya(_.quantity,_.unit||void 0);return r.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[r.jsxs("span",{children:[N," ",_.name]}),r.jsx("span",{className:"font-medium",children:nc(_.totalPriceCents)})]},_.id)})}),r.jsxs("div",{className:"border-t pt-3 mt-3 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:nc(o.totals.subtotalCents)})]}),o.totals.deliveryFeeCents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:nc(o.totals.deliveryFeeCents)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:nc(o.totals.taxCents)})]}),o.totals.tipCents>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:nc(o.totals.tipCents)})]}),r.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between font-semibold",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{style:{color:n},children:nc(o.totals.totalCents)})]})]})]})}),b&&r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:r.jsx(re,{variant:"outline",className:"w-full",onClick:()=>t(`/account/orders/${o.id}`),children:"View Full Order Details"})})]}),!o&&!d&&!f&&r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(we,{className:"p-12 text-center",children:[r.jsx(nn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"mb-2",children:"Track Your Order"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your order number above to see real-time updates on your order status."}),r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-500",children:[r.jsx("span",{children:"Don't have an order yet?"}),r.jsx("button",{onClick:()=>t("/menu"),className:"font-medium hover:underline",style:{color:n},children:"Start ordering "})]})]})})]})]})},lme=({brandColor:e="#6B0F1A",onNavigate:t,onOrderNow:n})=>{const{user:s}=Yr(),i=()=>{s?t("/account/referrals"):(typeof window<"u"&&localStorage.setItem("tabsy_post_login_redirect","/account/referrals"),t("/login"))},a=()=>{t("/login")};return r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-white mx-auto mb-6",style:{backgroundColor:e},children:r.jsx(Bt,{className:"w-10 h-10 fill-current"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Earn Stars on every order"}),r.jsxs("p",{className:"text-xl text-gray-600 mb-8",children:["$1 = ",ai,"   Rewards you'll actually love"]}),!s&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(re,{size:"lg",className:"text-white",style:{backgroundColor:e},onClick:a,children:[r.jsx(qu,{className:"w-5 h-5 mr-2"}),"Log in to start earning"]}),r.jsx(re,{size:"lg",variant:"outline",onClick:n,children:"Order Now"})]})]})}),r.jsx("section",{children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs(we,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white mx-auto mb-4",style:{backgroundColor:e},children:r.jsx(dJ,{className:"w-8 h-8"})}),r.jsx("div",{className:"text-sm font-semibold mb-2 uppercase tracking-wide",style:{color:e},children:"Step 1"}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Create an Account"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Sign up with your email or phone number. It only takes a minute!"}),!s&&r.jsx(re,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:"Sign Up Now"})]}),r.jsxs(we,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white mx-auto mb-4",style:{backgroundColor:e},children:r.jsx(Og,{className:"w-8 h-8"})}),r.jsx("div",{className:"text-sm font-semibold mb-2 uppercase tracking-wide",style:{color:e},children:"Step 2"}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Order & Earn"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Earn ",ai,"  for every $1 you spend on pickup or delivery orders."]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Example: $50 order = ",ai*50," "]})]}),r.jsxs(we,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white mx-auto mb-4",style:{backgroundColor:e},children:r.jsx(Va,{className:"w-8 h-8"})}),r.jsx("div",{className:"text-sm font-semibold mb-2 uppercase tracking-wide",style:{color:e},children:"Step 3"}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Redeem Rewards"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Use your stars for free items, discounts, and exclusive rewards."}),r.jsx("div",{className:"text-sm text-gray-500",children:"Track your balance anytime"})]})]})]})}),r.jsx("section",{children:r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:r.jsx(we,{className:"p-8 md:p-12 bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[r.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:e},children:r.jsx(Nr,{className:"w-12 h-12"})}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Invite Friends, Earn Together"}),r.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Share your unique referral link and both you and your friend get rewarded!"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsxs("div",{className:"text-3xl font-bold mb-1",style:{color:e},children:["+",mi," "]}),r.jsx("p",{className:"text-sm text-gray-600",children:"You get"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsxs("div",{className:"text-3xl font-bold mb-1",style:{color:e},children:["+",Gr," "]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your friend gets"})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Bonus applies after your friend completes their first paid order (minimum $10)"}),r.jsxs(re,{size:"lg",className:"text-white",style:{backgroundColor:e},onClick:i,children:[r.jsx(Nr,{className:"w-5 h-5 mr-2"}),"Get My Invite Link"]})]})]})})})}),r.jsx("section",{children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),r.jsxs(rS,{type:"single",collapsible:!0,className:"w-full",children:[r.jsxs(Di,{value:"account",children:[r.jsx(Li,{children:"Do I need an account to earn stars?"}),r.jsx($i,{className:"text-gray-600",children:"Yes, you need an account to track your stars and referrals. Creating an account is quick and easyjust provide your email or phone number. This allows us to track your orders and reward you with stars automatically."})]}),r.jsxs(Di,{value:"referrals",children:[r.jsx(Li,{children:"When do referral stars post?"}),r.jsxs($i,{className:"text-gray-600",children:["Referral bonuses are credited automatically after your friend's first paid order completes. You'll receive +",mi,"  and your friend gets +",Gr," . The order must be at least $10 to qualify for the bonus."]})]}),r.jsxs(Di,{value:"redemption",children:[r.jsx(Li,{children:"How do I redeem my stars?"}),r.jsx($i,{className:"text-gray-600",children:"You can redeem stars for rewards during checkout. Browse available rewards in your account dashboard, and select the ones you want to apply to your order. Stars never expire, so save up for bigger rewards!"})]}),r.jsxs(Di,{value:"modes",children:[r.jsx(Li,{children:"Can I earn stars on both pickup and delivery?"}),r.jsxs($i,{className:"text-gray-600",children:["Absolutely! You earn ",ai,"  per $1 spent on all order types: pickup and delivery. The earning rate is the same regardless of how you order."]})]})]})]})}),r.jsx("section",{children:r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"max-w-2xl mx-auto text-center",children:r.jsxs(we,{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to start earning?"}),r.jsx("p",{className:"text-gray-600 mb-8",children:s?"Start ordering to earn stars and unlock rewards!":"Create your account today and earn stars on every order."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[!s&&r.jsxs(re,{size:"lg",className:"text-white",style:{backgroundColor:e},onClick:a,children:[r.jsx(qu,{className:"w-5 h-5 mr-2"}),"Create Account"]}),r.jsx(re,{size:"lg",variant:s?"default":"outline",onClick:n,className:s?"text-white":"",style:s?{backgroundColor:e}:{},children:"Order Now"})]})]})})})]})},cme=({onNavigate:e,onOrderNow:t,brandColor:n="#6B0F1A"})=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Loyalty Rewards"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Earn stars, get rewards, share with friends"})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsx(lme,{brandColor:n,onNavigate:e,onOrderNow:t})})]});function Sx(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Nx="Checkbox",[dme]=Cn(Nx),[ume,TS]=dme(Nx);function hme(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:m}=e,[g,y]=_r({prop:n,defaultProp:i??!1,onChange:d,caller:Nx}),[b,j]=x.useState(null),[S,_]=x.useState(null),N=x.useRef(!1),C=b?!!o||!!b.closest("form"):!0,T={checked:g,disabled:a,setChecked:y,control:b,setControl:j,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:N,required:h,defaultChecked:Fa(i)?!1:i,isFormControl:C,bubbleInput:S,setBubbleInput:_};return r.jsx(ume,{scope:t,...T,children:fme(m)?m(T):s})}var uL="CheckboxTrigger",hL=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:b}=TS(uL,e),j=He(i,f),S=x.useRef(d);return x.useEffect(()=>{const _=a?.form;if(_){const N=()=>m(S.current);return _.addEventListener("reset",N),()=>_.removeEventListener("reset",N)}},[a,m]),r.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Fa(d)?"mixed":d,"aria-required":h,"data-state":yL(d),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:j,onKeyDown:ye(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ye(n,_=>{m(N=>Fa(N)?!0:!N),b&&y&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});hL.displayName=uL;var fL=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:f,...m}=e;return r.jsx(hme,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:s,form:f,value:d,internal_do_not_use_render:({isFormControl:g})=>r.jsxs(r.Fragment,{children:[r.jsx(hL,{...m,ref:t,__scopeCheckbox:n}),g&&r.jsx(xL,{__scopeCheckbox:n})]})})});fL.displayName=Nx;var mL="CheckboxIndicator",pL=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,a=TS(mL,n);return r.jsx(fn,{present:s||Fa(a.checked)||a.checked===!0,children:r.jsx(ke.span,{"data-state":yL(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});pL.displayName=mL;var gL="CheckboxBubbleInput",xL=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:f,form:m,bubbleInput:g,setBubbleInput:y}=TS(gL,e),b=He(n,y),j=Sx(a),S=Wg(s);x.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(C,"checked").set,P=!i.current;if(j!==a&&M){const E=new Event("click",{bubbles:P});N.indeterminate=Fa(a),M.call(N,Fa(a)?!1:a),N.dispatchEvent(E)}},[g,j,a,i]);const _=x.useRef(Fa(a)?!1:a);return r.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:c,disabled:d,name:h,value:f,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xL.displayName=gL;function fme(e){return typeof e=="function"}function Fa(e){return e==="indeterminate"}function yL(e){return Fa(e)?"indeterminate":e?"checked":"unchecked"}function ww({className:e,...t}){return r.jsx(fL,{"data-slot":"checkbox",className:_e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(pL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(In,{className:"size-3.5"})})})}var PS="Radio",[mme,vL]=Cn(PS),[pme,gme]=mme(PS),bL=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:d,form:h,...f}=e,[m,g]=x.useState(null),y=He(t,S=>g(S)),b=x.useRef(!1),j=m?h||!!m.closest("form"):!0;return r.jsxs(pme,{scope:n,checked:i,disabled:o,children:[r.jsx(ke.button,{type:"button",role:"radio","aria-checked":i,"data-state":NL(i),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:y,onClick:ye(e.onClick,S=>{i||d?.(),j&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),j&&r.jsx(SL,{control:m,bubbles:!b.current,name:s,value:c,checked:i,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});bL.displayName=PS;var wL="RadioIndicator",jL=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,a=gme(wL,n);return r.jsx(fn,{present:s||a.checked,children:r.jsx(ke.span,{"data-state":NL(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});jL.displayName=wL;var xme="RadioBubbleInput",SL=x.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=x.useRef(null),c=He(o,a),d=Sx(n),h=Wg(t);return x.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&y){const b=new Event("click",{bubbles:s});y.call(f,n),f.dispatchEvent(b)}},[d,n,s]),r.jsx(ke.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SL.displayName=xme;function NL(e){return e?"checked":"unchecked"}var yme=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_x="RadioGroup",[vme]=Cn(_x,[md,vL]),_L=md(),kL=vL(),[bme,wme]=vme(_x),CL=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...g}=e,y=_L(n),b=vl(h),[j,S]=_r({prop:a,defaultProp:i??null,onChange:m,caller:_x});return r.jsx(bme,{scope:n,name:s,required:o,disabled:c,value:j,onValueChange:S,children:r.jsx(r1,{asChild:!0,...y,orientation:d,dir:b,loop:f,children:r.jsx(ke.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:t})})})});CL.displayName=_x;var EL="RadioGroupItem",TL=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,a=wme(EL,n),o=a.disabled||s,c=_L(n),d=kL(n),h=x.useRef(null),f=He(t,h),m=a.value===i.value,g=x.useRef(!1);return x.useEffect(()=>{const y=j=>{yme.includes(j.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",b)}},[]),r.jsx(s1,{asChild:!0,...c,focusable:!o,active:m,children:r.jsx(bL,{disabled:o,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:ye(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ye(i.onFocus,()=>{g.current&&h.current?.click()})})})});TL.displayName=EL;var jme="RadioGroupIndicator",PL=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=kL(n);return r.jsx(jL,{...i,...s,ref:t})});PL.displayName=jme;var Sme=CL,Nme=TL,_me=PL;function RL({className:e,...t}){return r.jsx(Sme,{"data-slot":"radio-group",className:_e("grid gap-3",e),...t})}function AL({className:e,...t}){return r.jsx(Nme,{"data-slot":"radio-group-item",className:_e("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(_me,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:r.jsx(LK,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function wp({className:e,...t}){return r.jsx("div",{"data-slot":"skeleton",className:_e("bg-accent animate-pulse rounded-md",e),...t})}function Oi(e){const t=e.amountCents/100;return`${{USD:"$",EUR:"",GBP:"",CAD:"C$"}[e.currency]||e.currency}${t.toFixed(2)}`}function uP(e,t="USD"){return{amountCents:e,currency:t}}function hP(e,t){if(e.currency!==t.currency)throw new Error("Cannot add money with different currencies");return{amountCents:e.amountCents+t.amountCents,currency:e.currency}}function kme(e,t){return{amountCents:Math.round(e.amountCents*t),currency:e.currency}}function ug(e,t,n,s){let i={...e.basePrice};if(e.variantGroups)for(const a of e.variantGroups){const o=t[a.id]||[];for(const c of o){const d=a.choices.find(h=>h.id===c);d?.priceDeltaCents&&(i=hP(i,uP(d.priceDeltaCents,i.currency)))}}if(e.addonGroups)for(const a of e.addonGroups){const o=n[a.id]||[];for(const c of o){const d=a.choices.find(h=>h.id===c);d?.priceDeltaCents&&(i=hP(i,uP(d.priceDeltaCents,i.currency)))}}return kme(i,s)}function Tc(e){if(!e||e===0)return null;const t=e>0?"+":"",n=Math.abs(e)/100;return`${t}$${n.toFixed(2)}`}function jw(e,t){const n=[];for(const s of e){const i=t[s.id]||[],a=i.length;if(s.required&&a===0){n.push({groupId:s.id,message:`Please select ${s.type==="single"?"one":"at least one"} option for ${s.title}`});continue}s.type==="multi"&&(s.min!==void 0&&a<s.min&&n.push({groupId:s.id,message:`Please select at least ${s.min} option${s.min>1?"s":""} for ${s.title}`}),s.max!==void 0&&a>s.max&&n.push({groupId:s.id,message:`You can only select up to ${s.max} option${s.max>1?"s":""} for ${s.title}`})),s.type==="single"&&a>1&&n.push({groupId:s.id,message:`Please select only one option for ${s.title}`});for(const o of i){const c=s.choices.find(d=>d.id===o);c?c.soldOut&&n.push({groupId:s.id,message:`${c.label} is currently sold out`}):n.push({groupId:s.id,message:`Invalid selection in ${s.title}`})}}return n}function hg(e){if(e.type==="single")return e.required?"Required":"Optional";const t=[];return e.required&&t.push("Required"),(e.min!==void 0||e.max!==void 0)&&(e.min&&e.max&&e.min===e.max?t.push(`Select ${e.min}`):e.min&&e.max?t.push(`Select ${e.min}-${e.max}`):e.min?t.push(`Select at least ${e.min}`):e.max&&t.push(`Select up to ${e.max}`)),t.length>0?t.join("  "):null}const IL="menu_item_selection_";function Cme(e,t){try{const n=`${IL}${e}`;localStorage.setItem(n,JSON.stringify(t))}catch(n){console.warn("Failed to save menu item selection:",n)}}function Eme(e){try{const t=`${IL}${e}`,n=localStorage.getItem(t);if(!n)return null;const s=JSON.parse(n);return typeof s=="object"&&s.variants&&s.addons&&typeof s.quantity=="number"&&typeof s.notes=="string"?s:null}catch(t){return console.warn("Failed to load menu item selection:",t),null}}const hu=(e,t)=>{typeof window<"u"&&window.analytics&&window.analytics.track(e,t),console.log(`[Analytics] ${e}`,t)},Tme=({isOpen:e,onClose:t,item:n,theme:s,onAddToCart:i,isLoading:a=!1,recommendedItems:o=[],onItemClick:c})=>{const[d,h]=x.useState(1),[f,m]=x.useState({}),[g,y]=x.useState({}),[b,j]=x.useState(""),[S,_]=x.useState([]),[N,C]=x.useState(!1),T=x.useRef(null);x.useEffect(()=>{e&&hu("menu_modal_open",{item_id:n.id})},[e,n.id]),x.useEffect(()=>{if(!e)return;const G=Eme(n.id);G?(m(G.variants),y(G.addons),h(G.quantity),j(G.notes)):M()},[e,n.id]);const M=()=>{const G={},A={};n.variantGroups?.forEach(J=>{const $=J.choices.find(F=>F.default);$&&(G[J.id]=[$.id])}),n.addonGroups?.forEach(J=>{const $=J.choices.filter(F=>F.default);$.length>0&&(A[J.id]=$.map(F=>F.id))}),m(G),y(A)},P=x.useMemo(()=>ug(n,f,g,d),[n,f,g,d]),E=x.useMemo(()=>ug(n,f,g,1),[n,f,g]);vce(P.amountCents,{stiffness:300,damping:30});const R=(G,A,J)=>{m($=>{if(J==="single")return{...$,[G]:[A]};{const F=$[G]||[];return F.includes(A)?{...$,[G]:F.filter(O=>O!==A)}:{...$,[G]:[...F,A]}}}),hu("menu_variant_select",{item_id:n.id,group_id:G,choice_id:A}),_($=>$.filter(F=>F.groupId!==G))},q=(G,A,J)=>{const $=g[G]?.includes(A);y(F=>{if(J==="single")return{...F,[G]:[A]};{const B=F[G]||[];return B.includes(A)?{...F,[G]:B.filter(Z=>Z!==A)}:{...F,[G]:[...B,A]}}}),hu("menu_addon_toggle",{item_id:n.id,group_id:G,choice_id:A,checked:!$}),_(F=>F.filter(B=>B.groupId!==G))},V=G=>{h(G),hu("menu_qty_change",{item_id:n.id,qty:G})},Q=()=>{if(n.soldOut){Ne.error("This item is currently sold out");return}const G=[...n.variantGroups||[],...n.addonGroups||[]],A={...f,...g},J=jw(G,A);if(J.length>0){_(J),setTimeout(()=>T.current?.scrollIntoView({behavior:"smooth",block:"center"}),100);return}Cme(n.id,{variants:f,addons:g,quantity:d,notes:b});const $=Object.entries(f).flatMap(([O,Z])=>Z.map(H=>({group_id:O,choice_id:H}))),F=Object.entries(g).flatMap(([O,Z])=>Z.map(H=>({group_id:O,choice_id:H}))),B={item_id:n.id,qty:d,notes:b||void 0,selections:{variants:$,addons:F},unit_price_cents:E.amountCents,total_cents:P.amountCents};hu("menu_add_to_cart",{item_id:n.id,qty:d,total_cents:P.amountCents}),i(B),Ne.success(`Added ${d}x ${n.name} to cart`),o.length>0?C(!0):t()};return x.useEffect(()=>{const G=A=>{A.key==="Escape"&&t(),A.key==="Enter"&&!(A.target instanceof HTMLTextAreaElement)&&Q()};return e&&document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[e,Q,t]),r.jsx(Kr,{open:e,onOpenChange:t,children:r.jsx(st,{children:e&&r.jsxs(kr,{className:"max-w-[920px] w-full mx-auto bg-white p-0 overflow-hidden",style:{borderRadius:s.radius.replace("rounded-",""),boxShadow:s.shadow},children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-50 w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors border border-gray-200","aria-label":"Close modal",children:r.jsx(ir,{className:"w-5 h-5 text-gray-600"})}),r.jsxs(Ws,{className:"sr-only",children:[r.jsx(ps,{children:n.name}),r.jsxs(Hs,{children:[n.description,". Price: ",Oi(n.basePrice)]})]}),r.jsxs("div",{className:"overflow-y-auto max-h-[85vh]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 md:p-6",children:[r.jsx("div",{className:"flex items-start justify-center",children:r.jsx("div",{className:`w-full max-w-[420px] aspect-[4/3] ${s.radius} overflow-hidden ${s.shadow} bg-gray-100`,children:a?r.jsx(wp,{className:"w-full h-full"}):n.imageUrl?r.jsx(Kn,{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-2 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("p",{className:"text-sm",children:"No image"})]})})})}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-800 leading-tight",children:n.name}),r.jsx(W.span,{className:`text-sm font-semibold shrink-0 ${s.accent}`,children:Oi(n.basePrice)})]}),n.description&&r.jsx("p",{className:"text-sm text-gray-500 leading-6 -mt-2",children:n.description}),n.tags&&n.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 -mt-1",children:n.tags.map(G=>r.jsxs(_t,{className:`${s.chip.bg} ${s.chip.text} px-2 py-1 rounded-full text-xs inline-flex items-center gap-1 border-0`,children:[G.icon&&r.jsx("span",{children:G.icon}),G.label]},G.id))}),n.soldOut&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg -mt-1",children:[r.jsx(On,{className:"w-4 h-4 text-red-600 shrink-0"}),r.jsx("p",{className:"text-sm text-red-700",children:"This item is currently sold out"})]}),r.jsx(vr,{className:"border-t border-gray-200 my-0"}),r.jsxs("div",{className:"space-y-3",children:[n.variantGroups&&n.variantGroups.length>0&&r.jsx(r.Fragment,{children:n.variantGroups.map((G,A)=>{const J=S.find(B=>B.groupId===G.id),$=hg(G),F=J&&S[0]?.groupId===G.id;return r.jsxs("div",{ref:F?T:null,className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-800",children:[G.title,G.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),$&&r.jsx("span",{className:"text-xs text-gray-500",children:$})]}),G.type==="single"?r.jsx(RL,{value:f[G.id]?.[0]||"",onValueChange:B=>R(G.id,B,"single"),children:r.jsx("div",{className:"space-y-2",children:G.choices.map(B=>{const O=Tc(B.priceDeltaCents);return r.jsxs("div",{className:`flex items-center space-x-3 p-3 ${s.border} ${s.radius} hover:bg-gray-50 transition-colors ${B.soldOut?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx(AL,{value:B.id,id:`${G.id}-${B.id}`,disabled:B.soldOut}),r.jsxs(Le,{htmlFor:`${G.id}-${B.id}`,className:"flex-1 flex items-center justify-between cursor-pointer",children:[r.jsxs("span",{className:"text-sm",children:[B.label,B.soldOut&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Sold out)"})]}),O&&r.jsx("span",{className:`text-sm ${s.accent}`,children:O})]})]},B.id)})})}):r.jsx("div",{className:"space-y-2",children:G.choices.map(B=>{const O=f[G.id]?.includes(B.id),Z=Tc(B.priceDeltaCents);return r.jsxs("div",{className:`flex items-center space-x-3 p-3 ${s.border} ${s.radius} hover:bg-gray-50 transition-colors ${B.soldOut?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>!B.soldOut&&R(G.id,B.id,"multi"),children:[r.jsx(ww,{id:`${G.id}-${B.id}`,checked:O,disabled:B.soldOut,onCheckedChange:()=>R(G.id,B.id,"multi")}),r.jsxs(Le,{htmlFor:`${G.id}-${B.id}`,className:"flex-1 flex items-center justify-between cursor-pointer",children:[r.jsxs("span",{className:"text-sm",children:[B.label,B.description&&r.jsx("span",{className:"block text-xs text-gray-500 mt-0.5",children:B.description})]}),Z&&r.jsx("span",{className:`text-sm ${s.accent}`,children:Z})]})]},B.id)})}),J&&r.jsxs(W.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(On,{className:"w-4 h-4"}),J.message]})]},G.id)})}),n.addonGroups&&n.addonGroups.length>0&&r.jsx(r.Fragment,{children:n.addonGroups.map(G=>{const A=S.find($=>$.groupId===G.id),J=hg(G);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-800",children:[G.title,G.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),J&&r.jsx("span",{className:"text-xs text-gray-500",children:J})]}),r.jsx("div",{className:"space-y-2",children:G.choices.map($=>{const F=g[G.id]?.includes($.id),B=Tc($.priceDeltaCents);return r.jsxs("div",{className:`flex items-center space-x-3 p-3 ${s.border} ${s.radius} hover:bg-gray-50 transition-colors ${$.soldOut?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>!$.soldOut&&q(G.id,$.id,G.type),children:[r.jsx(ww,{id:`addon-${G.id}-${$.id}`,checked:F,disabled:$.soldOut,onCheckedChange:()=>q(G.id,$.id,G.type)}),r.jsxs(Le,{htmlFor:`addon-${G.id}-${$.id}`,className:"flex-1 flex items-center justify-between cursor-pointer",children:[r.jsxs("span",{className:"text-sm",children:[$.label,$.description&&r.jsx("span",{className:"block text-xs text-gray-500 mt-0.5",children:$.description})]}),B&&r.jsx("span",{className:`text-sm font-medium ${s.accent}`,children:B})]})]},$.id)})}),A&&r.jsxs(W.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(On,{className:"w-4 h-4"}),A.message]})]},G.id)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"special-notes",className:"text-sm font-medium text-gray-700 block",children:["Special Instructions ",r.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),r.jsx(ao,{id:"special-notes",placeholder:n.notesPlaceholder||"e.g., No onions, extra sauce, well done...",value:b,onChange:G=>j(G.target.value),className:"text-sm w-full",rows:2})]}),(n.nutrition||n.allergens)&&r.jsxs(rS,{type:"single",collapsible:!0,className:"w-full",children:[n.nutrition&&r.jsxs(Di,{value:"nutrition",children:[r.jsx(Li,{className:"text-sm font-medium text-gray-800",children:"Nutrition Information"}),r.jsx($i,{children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 pt-2",children:[n.nutrition.calories!==void 0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Calories"}),r.jsx("p",{className:"text-sm font-medium",children:n.nutrition.calories})]}),n.nutrition.protein&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Protein"}),r.jsx("p",{className:"text-sm font-medium",children:n.nutrition.protein})]}),n.nutrition.carbs&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Carbs"}),r.jsx("p",{className:"text-sm font-medium",children:n.nutrition.carbs})]}),n.nutrition.fat&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Fat"}),r.jsx("p",{className:"text-sm font-medium",children:n.nutrition.fat})]})]})})]}),n.allergens&&n.allergens.length>0&&r.jsxs(Di,{value:"allergens",children:[r.jsx(Li,{className:"text-sm font-medium text-gray-800",children:"Allergen Information"}),r.jsx($i,{children:r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"This item contains:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergens.map(G=>r.jsx(_t,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-200 capitalize",children:G},G))})]})})]})]})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4 md:px-6",children:r.jsxs("div",{className:"max-w-[920px] mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("div",{className:`h-12 ${s.border} rounded-xl inline-flex items-center overflow-hidden`,children:[r.jsx("button",{onClick:()=>V(Math.max(1,d-1)),disabled:d<=1,className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-40 disabled:cursor-not-allowed","aria-label":"Decrease quantity",children:r.jsx(Ph,{className:"w-4 h-4 text-gray-600"})}),r.jsx("div",{className:"w-12 h-12 flex items-center justify-center border-x border-gray-200",children:r.jsx("span",{className:"text-sm font-medium text-gray-900",children:d})}),r.jsx("button",{onClick:()=>V(d+1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 transition-colors","aria-label":"Increase quantity",children:r.jsx(Us,{className:"w-4 h-4 text-gray-600"})})]}),r.jsxs(re,{className:`h-12 px-5 text-white ${s.brand.bg} ${s.brand.hover} rounded-xl font-semibold w-full sm:w-auto flex-1`,onClick:Q,disabled:n.soldOut||a,"aria-label":`Add ${d} ${n.name} to cart for ${Oi(P)}`,children:[r.jsx(nl,{className:"w-4 h-4 mr-2"}),"Add ",Oi(P)]})]}),r.jsx("p",{className:"text-xs text-center text-gray-500",children:"Tax and fees calculated at checkout"})]})}),N&&o.length>0&&r.jsxs("div",{className:"p-4 md:p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"You might also like"}),r.jsx("div",{className:"overflow-x-auto -mx-2 px-2",children:r.jsx("div",{className:"flex gap-3 pb-2",children:o.slice(0,4).map(G=>r.jsxs("button",{onClick:()=>c?.(G),className:"flex-shrink-0 w-[160px] md:w-[180px] bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-square bg-gray-100",children:G.imageUrl?r.jsx(Kn,{src:G.imageUrl,alt:G.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:r.jsx("span",{className:"text-4xl",children:""})})}),r.jsxs("div",{className:"p-3",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 line-clamp-2 mb-1",children:G.name}),r.jsx("p",{className:`text-sm font-semibold ${s.accent}`,children:Oi(G.basePrice)})]})]},G.id))})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[r.jsx(re,{variant:"outline",className:"flex-1 h-11",onClick:t,children:"Done Shopping"}),r.jsx(re,{className:`flex-1 h-11 text-white ${s.brand.bg} ${s.brand.hover}`,onClick:()=>C(!1),children:"Keep Browsing"})]})]})]})]})})})},Pme={id:"avo_toast",name:"Avocado Toast",description:"Sourdough, avocado, cherry tomatoes, microgreens, poached egg",basePrice:{amountCents:1400,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?avocado-toast",tags:[{id:"veg",label:"Vegetarian",tone:"success"}],variantGroups:[{id:"size",title:"Size",type:"single",required:!0,choices:[{id:"std",label:"Standard",default:!0},{id:"lg",label:"Large",priceDeltaCents:300}]}],addonGroups:[{id:"extras",title:"Add extras",type:"multi",min:0,max:3,choices:[{id:"cheese",label:"Feta",priceDeltaCents:150},{id:"bacon",label:"Bacon",priceDeltaCents:250}]}],notesPlaceholder:"No onions, extra sauce, well done...",nutrition:{calories:520,protein:"16g",carbs:"48g",fat:"28g"},allergens:["eggs","wheat"],recommendations:["cold_brew","brioche_french"]},Rme={id:"latte",name:"Latte",description:"Espresso with steamed milk",basePrice:{amountCents:450,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?latte-coffee",tags:[{id:"hot",label:"Hot Beverage",tone:"info"},{id:"caffeine",label:"Contains Caffeine",tone:"warning"}],variantGroups:[{id:"size",title:"Size",type:"single",required:!0,choices:[{id:"small",label:"Small (12oz)",priceDeltaCents:-50},{id:"medium",label:"Medium (16oz)",default:!0},{id:"large",label:"Large (20oz)",priceDeltaCents:75}]},{id:"milk",title:"Milk Choice",type:"single",required:!0,choices:[{id:"whole",label:"Whole Milk",default:!0},{id:"oat",label:"Oat Milk",priceDeltaCents:75},{id:"almond",label:"Almond Milk",priceDeltaCents:75},{id:"soy",label:"Soy Milk",priceDeltaCents:50}]}],addonGroups:[{id:"shots",title:"Extra Shots",type:"multi",max:3,choices:[{id:"espresso",label:"Espresso Shot",priceDeltaCents:75}]},{id:"flavors",title:"Flavor Shots",type:"multi",max:2,choices:[{id:"vanilla",label:"Vanilla",priceDeltaCents:50},{id:"caramel",label:"Caramel",priceDeltaCents:50},{id:"hazelnut",label:"Hazelnut",priceDeltaCents:50}]}],notesPlaceholder:"e.g., Extra hot, light foam...",nutrition:{calories:190,protein:"9g",carbs:"18g",fat:"7g"},allergens:["milk"]},Ame={id:"custom_burger",name:"Build Your Burger",description:"Premium Angus beef with your choice of toppings",basePrice:{amountCents:1400,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?gourmet-burger",tags:[{id:"popular",label:"Popular",icon:"",tone:"warning"},{id:"protein",label:"High Protein",tone:"success"}],variantGroups:[{id:"bun",title:"Choose Your Bun",type:"single",required:!0,choices:[{id:"brioche",label:"Brioche Bun",default:!0},{id:"wheat",label:"Whole Wheat",priceDeltaCents:50},{id:"lettuce",label:"Lettuce Wrap",description:"Low carb option"}]},{id:"patty",title:"Patty",type:"single",required:!0,choices:[{id:"single",label:"Single (6oz)",default:!0},{id:"double",label:"Double (12oz)",priceDeltaCents:400}]}],addonGroups:[{id:"toppings",title:"Premium Toppings",type:"multi",max:5,choices:[{id:"bacon",label:"Bacon",priceDeltaCents:200},{id:"cheese",label:"Cheddar",priceDeltaCents:100},{id:"avocado",label:"Avocado",priceDeltaCents:150}]}],notesPlaceholder:"e.g., No pickles, well done...",nutrition:{calories:680,protein:"42g",carbs:"45g",fat:"32g"},allergens:["wheat","eggs","milk","soy"]},Ime=[{id:"cold_brew",name:"Cold Brew Coffee",basePrice:{amountCents:550,currency:"USD"},imageUrl:"https://source.unsplash.com/300x300/?cold-brew-coffee"},{id:"brioche_french",name:"Brioche French Toast",basePrice:{amountCents:1200,currency:"USD"},imageUrl:"https://source.unsplash.com/300x300/?french-toast"},{id:"smoothie",name:"Berry Smoothie",basePrice:{amountCents:850,currency:"USD"},imageUrl:"https://source.unsplash.com/300x300/?berry-smoothie"},{id:"croissant",name:"Butter Croissant",basePrice:{amountCents:450,currency:"USD"},imageUrl:"https://source.unsplash.com/300x300/?croissant"}],fP={"Tabsy Orange":{radius:"rounded-2xl",shadow:"shadow-2xl",brand:{bg:"bg-[#C54B34]",hover:"hover:bg-[#aa3f2c]"},accent:"text-[#C54B34]",chip:{bg:"bg-gray-100",text:"text-gray-700"},border:"border border-gray-200"},"Coffee Brown":{radius:"rounded-xl",shadow:"shadow-2xl",brand:{bg:"bg-amber-700",hover:"hover:bg-amber-800"},accent:"text-amber-700",chip:{bg:"bg-amber-50",text:"text-amber-900"},border:"border border-amber-200"},"Pizza Red":{radius:"rounded-2xl",shadow:"shadow-2xl",brand:{bg:"bg-red-600",hover:"hover:bg-red-700"},accent:"text-red-600",chip:{bg:"bg-red-50",text:"text-red-900"},border:"border border-red-200"},"Health Green":{radius:"rounded-3xl",shadow:"shadow-lg",brand:{bg:"bg-emerald-500",hover:"hover:bg-emerald-600"},accent:"text-emerald-500",chip:{bg:"bg-emerald-50",text:"text-emerald-800"},border:"border border-emerald-200"}};function Ome(){const[e,t]=x.useState(null),[n,s]=x.useState("Tabsy Orange"),i=o=>{console.log("Add to Cart Payload:",o),Ne.success(`Added to cart! Total: $${(o.total_cents/100).toFixed(2)}`)},a=[Pme,Rme,Ame];return r.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Universal Menu Item Modal"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"Production-ready modal with variants, add-ons, nutrition, allergens, and dynamic pricing. Click any item to see it in action!"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[r.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"Theme:"}),Object.keys(fP).map(o=>r.jsx("button",{onClick:()=>s(o),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===o?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:o},o))]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:a.map(o=>r.jsxs("button",{onClick:()=>t(o),className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-shadow text-left",children:[r.jsx("div",{className:"aspect-video bg-gray-100 overflow-hidden",children:r.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.name}),r.jsxs("span",{className:"text-lg font-semibold text-orange-600",children:["$",(o.basePrice.amountCents/100).toFixed(2)]})]}),o.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o.description}),o.tags&&o.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map(c=>r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:[c.icon&&r.jsx("span",{className:"mr-1",children:c.icon}),c.label]},c.id))})]})]},o.id))}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[" Variant groups (single/multi select)"," Add-on groups with pricing"," Real-time price calculation"," Nutrition & allergen info"," Validation with helpful errors"," Local storage (remembers preferences)"," Analytics events"," Sticky mobile footer"," Keyboard navigation (Enter, Esc)"," Full accessibility (WCAG AA)"," Responsive design"," Recommendations carousel"].map((o,c)=>r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-sm text-gray-700",children:o})},c))})]}),r.jsx("div",{className:"mt-8 bg-gray-900 rounded-2xl p-6 text-white overflow-x-auto",children:r.jsx("pre",{className:"text-sm",children:r.jsx("code",{children:`<UniversalMenuItemModal
  isOpen={true}
  item={item}
  theme={theme}
  onClose={() => setSelectedItem(null)}
  onAddToCart={(payload) => {
    console.log('Cart payload:', payload);
    // payload = {
    //   item_id, qty, notes,
    //   selections: { variants: [...], addons: [...] },
    //   unit_price_cents, total_cents
    // }
  }}
  recommendedItems={[...]}
/>`})})})]}),e&&r.jsx(Tme,{isOpen:!0,onClose:()=>t(null),item:e,theme:fP[n],onAddToCart:i,recommendedItems:Ime,onItemClick:o=>t(o)})]})}function Mme({...e}){return r.jsx(ex,{"data-slot":"sheet",...e})}function Dme({...e}){return r.jsx(tx,{"data-slot":"sheet-portal",...e})}const OL=x.forwardRef(({className:e,...t},n)=>r.jsx(Wh,{ref:n,"data-slot":"sheet-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-40 bg-black/50",e),...t}));OL.displayName="SheetOverlay";function Lme({className:e,children:t,side:n="right",...s}){return r.jsxs(Dme,{children:[r.jsx(OL,{}),r.jsxs(Hh,{"data-slot":"sheet-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-40 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...s,children:[t,r.jsxs(nx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[r.jsx(ir,{className:"size-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $me({className:e,...t}){return r.jsx("div",{"data-slot":"sheet-header",className:_e("flex flex-col gap-1.5 p-4",e),...t})}function Fme({className:e,...t}){return r.jsx(p1,{"data-slot":"sheet-title",className:_e("text-foreground font-semibold",e),...t})}function Ume({className:e,...t}){return r.jsx(g1,{"data-slot":"sheet-description",className:_e("text-muted-foreground text-sm",e),...t})}const Rv=(e,t)=>{typeof window<"u"&&window.analytics&&window.analytics.track(e,t),console.log(`[Analytics] ${e}`,t)};function zme(e,t,n,s=5){const i=[],a=new Set(e.map(m=>m.sku||m.item_id)),o=t?.id,c=n.filter(m=>!a.has(m.id)&&m.id!==o&&!m.soldOut);if(e.some(m=>{const g=m.name?.toLowerCase()||"";return g.includes("burger")||g.includes("toast")||g.includes("sandwich")||g.includes("bowl")||g.includes("salad")})){const m=c.filter(y=>{const b=y.name.toLowerCase();return b.includes("coffee")||b.includes("latte")||b.includes("tea")||b.includes("smoothie")||b.includes("juice")||b.includes("brew")});i.push(...m.slice(0,2));const g=c.filter(y=>{const b=y.name.toLowerCase();return b.includes("cookie")||b.includes("cake")||b.includes("brownie")||b.includes("toast")&&b.includes("french")});i.push(...g.slice(0,1))}if(t){const m=t.name.toLowerCase();if(m.includes("burger")||m.includes("sandwich")){const g=c.filter(y=>{const b=y.name.toLowerCase();return b.includes("fries")||b.includes("chips")||b.includes("salad")});i.push(...g.slice(0,2))}}const h=c.filter(m=>m.tags?.some(g=>g.id==="popular")).filter(m=>m.basePrice.amountCents<=1500).slice(0,2);if(i.push(...h),t){const m=c.filter(g=>g.tags?.some(y=>t.tags?.some(b=>b.id===y.id))).slice(0,2);i.push(...m)}return Array.from(new Map(i.map(m=>[m.id,m])).values()).slice(0,s)}const ML=({cartItems:e,currentItem:t,allMenuItems:n,brandColor:s,onItemClick:i,onQuickAdd:a,context:o="drawer"})=>{const[c,d]=x.useState(o==="drawer"),[h,f]=x.useState(!1),[m,g]=x.useState(!1),y=x.useMemo(()=>zme(e,t||null,n),[e,t,n]);return x.useEffect(()=>{y.length>0&&c&&!m&&(Rv("ai_suggestion_viewed",{count:y.length,context:o,item_ids:y.map(b=>b.id)}),g(!0))},[y,c,m,o]),y.length===0?o==="cart"?r.jsxs("div",{className:"p-4 text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-2 rounded-full bg-gray-100 flex items-center justify-center",children:r.jsx(fi,{className:"w-6 h-6 text-gray-400"})}),r.jsx("p",{className:"text-sm text-gray-500",children:"We'll recommend items as you build your order."})]}):null:r.jsx(lL,{open:c,onOpenChange:d,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(cL,{asChild:!0,children:r.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors","aria-label":c?"Hide suggestions":"Show suggestions",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fi,{className:"w-5 h-5",style:{color:s}}),r.jsx("span",{className:"text-[15px] font-semibold text-gray-900",children:"You might also like"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.length,")"]})]}),r.jsx(Ma,{className:`w-5 h-5 text-gray-400 transition-transform ${c?"rotate-90":""}`})]})}),r.jsxs(dL,{children:[h?r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-1 px-1",children:[1,2,3].map(b=>r.jsxs("div",{className:"flex-shrink-0 w-[140px]",children:[r.jsx(wp,{className:"aspect-square rounded-lg mb-2"}),r.jsx(wp,{className:"h-4 w-full mb-1"}),r.jsx(wp,{className:"h-4 w-16"})]},b))}):r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-hide",children:y.map(b=>r.jsxs("div",{className:"flex-shrink-0 w-[160px] bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("button",{onClick:()=>{Rv("ai_suggestion_clicked",{item_id:b.id,context:o}),i?.(b)},className:"w-full aspect-square bg-gray-100 overflow-hidden",children:b.imageUrl?r.jsx(Kn,{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("span",{className:"text-4xl",children:""})})}),r.jsxs("div",{className:"p-3 space-y-2",children:[r.jsxs("button",{onClick:()=>{Rv("ai_suggestion_clicked",{item_id:b.id,context:o}),i?.(b)},className:"w-full text-left",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 line-clamp-2 min-h-[2.5rem]",children:b.name}),r.jsx("p",{className:"text-sm font-semibold mt-1",style:{color:s},children:Oi(b.basePrice)})]}),a&&(!b.variantGroups||b.variantGroups.length===0)&&r.jsx(re,{size:"sm",variant:"outline",className:"w-full h-8 text-xs",onClick:j=>{j.stopPropagation(),a(b)},children:"Quick Add"})]})]},b.id))}),o==="cart"&&y.length>0&&r.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"AI-powered recommendations based on your order"})]})]})})},fu=(e,t)=>{typeof window<"u"&&window.analytics&&window.analytics.track(e,t),console.log(`[Analytics] ${e}`,t)},Bme=({isOpen:e,onClose:t,item:n,onAddToCart:s,brandColor:i,cartItems:a=[],allMenuItems:o=[],onItemClick:c})=>{const[d,h]=x.useState(1),[f,m]=x.useState({}),[g,y]=x.useState({}),[b,j]=x.useState(""),[S,_]=x.useState([]),[N,C]=x.useState(!1),[T,M]=x.useState(!0);x.useEffect(()=>{if(!n||!e)return;h(1),j(""),_([]),M(!0);const A={},J={};n.variantGroups?.forEach($=>{const F=$.choices.find(B=>B.default);F&&(A[$.id]=[F.id])}),n.addonGroups?.forEach($=>{const F=$.choices.filter(B=>B.default);F.length>0&&(J[$.id]=F.map(B=>B.id))}),m(A),y(J),fu("product_viewed",{id:n.id})},[n,e]);const P=x.useMemo(()=>n?ug(n,f,g,1):{amountCents:0,currency:"USD"},[n,f,g]),E=x.useMemo(()=>n?ug(n,f,g,d):{amountCents:0,currency:"USD"},[n,f,g,d]),R=(A,J,$)=>{if(m(F=>{if($==="single")return{...F,[A]:[J]};{const B=F[A]||[];return B.includes(J)?{...F,[A]:B.filter(Z=>Z!==J)}:{...F,[A]:[...B,J]}}}),n){const B=n.variantGroups?.find(O=>O.id===A)?.choices.find(O=>O.id===J);fu("modifier_selected",{group:A,option:J,price_delta:B?.priceDeltaCents||0})}_(F=>F.filter(B=>B.groupId!==A))},q=(A,J)=>{if(y($=>{const F=$[A]||[];return F.includes(J)?{...$,[A]:F.filter(O=>O!==J)}:{...$,[A]:[...F,J]}}),n){const F=n.addonGroups?.find(B=>B.id===A)?.choices.find(B=>B.id===J);fu("modifier_selected",{group:A,option:J,price_delta:F?.priceDeltaCents||0})}_($=>$.filter(F=>F.groupId!==A))},V=()=>{if(!n)return;if(n.soldOut){Ne.error("This item is currently sold out");return}const A=[...n.variantGroups||[],...n.addonGroups||[]],J={...f,...g},$=jw(A,J);if($.length>0){_($),Ne.error("Please complete all required selections");return}const F=Object.entries(f).flatMap(([Z,H])=>H.map(U=>({group_id:Z,choice_id:U}))),B=Object.entries(g).flatMap(([Z,H])=>H.map(U=>({group_id:Z,choice_id:U}))),O={item_id:n.id,qty:d,notes:b||void 0,selections:{variants:F,addons:B},unit_price_cents:P.amountCents,total_cents:E.amountCents,name:n.name,image:n.imageUrl};fu("add_to_cart",{id:n.id,qty:d,price_total:E.amountCents}),s(O),Ne.success(`Added ${d}x ${n.name}`,{duration:2e3}),t()},Q=A=>{const J={success:"bg-green-100 text-green-700 border-green-200",warning:"bg-yellow-100 text-yellow-700 border-yellow-200",info:"bg-blue-100 text-blue-700 border-blue-200",danger:"bg-red-100 text-red-700 border-red-200",neutral:"bg-gray-100 text-gray-700 border-gray-200"};return J[A]||J.neutral};if(!n)return null;const G=jw([...n.variantGroups||[],...n.addonGroups||[]],{...f,...g}).length===0;return r.jsx(Mme,{open:e,onOpenChange:t,children:r.jsxs(Lme,{side:"right",className:"w-full sm:w-[560px] p-0 overflow-y-auto",onInteractOutside:A=>{},children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-50 w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors border border-gray-200","aria-label":"Close",children:r.jsx(ir,{className:"w-5 h-5 text-gray-600"})}),r.jsxs($me,{className:"sr-only",children:[r.jsxs(Fme,{children:[n.name," - $",(n.basePrice.amountCents/100).toFixed(2)]}),r.jsx(Ume,{children:n.description||"Configure and add this item to your cart"})]}),r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex-1 overflow-y-auto pb-32",children:r.jsxs("div",{className:"space-y-5 p-5",children:[r.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-gray-100",children:[n.imageUrl?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover"}),r.jsx("button",{onClick:()=>C(!0),className:"absolute bottom-3 right-3 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors","aria-label":"Zoom image",children:r.jsx(bJ,{className:"w-5 h-5 text-gray-700"})})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("span",{className:"text-6xl",children:""})}),n.tags&&n.tags.length>0&&r.jsx("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:n.tags.map(A=>r.jsxs(_t,{className:`h-6 px-2 text-xs font-medium ${Q(A.tone)}`,children:[A.icon&&r.jsx("span",{className:"mr-1",children:A.icon}),A.label]},A.id))})]}),r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("h2",{className:"text-[22px] font-semibold text-gray-900 leading-tight",children:n.name}),r.jsx(W.div,{initial:{scale:1.1},animate:{scale:1},className:"text-[22px] font-semibold shrink-0",style:{color:i},children:Oi(E)},E.amountCents)]}),n.description&&r.jsx("p",{className:"text-[15px] text-gray-600 leading-relaxed",children:n.description}),n.tags&&n.tags.some(A=>["success","info"].includes(A.tone))&&r.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.filter(A=>["success","info"].includes(A.tone)).map(A=>r.jsxs("span",{className:"h-6 px-3 rounded-full bg-gray-100 text-gray-700 text-xs font-medium inline-flex items-center gap-1",children:[A.icon&&r.jsx("span",{children:A.icon}),A.label]},A.id))}),n.soldOut&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[r.jsx(On,{className:"w-5 h-5 text-red-600 shrink-0"}),r.jsx("p",{className:"text-sm text-red-700",children:"This item is currently unavailable"})]}),r.jsx(vr,{}),n.variantGroups&&n.variantGroups.length>0&&r.jsx("div",{className:"space-y-5",children:n.variantGroups.map(A=>{const J=S.find(F=>F.groupId===A.id),$=hg(A);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-[15px] font-semibold text-gray-900",children:[A.title,A.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),$&&r.jsx("span",{className:"text-xs text-gray-500",children:$})]}),A.type==="single"?r.jsx(RL,{value:f[A.id]?.[0]||"",onValueChange:F=>R(A.id,F,"single"),children:r.jsx("div",{className:"space-y-2",children:A.choices.map(F=>{const B=Tc(F.priceDeltaCents);return r.jsxs("div",{className:`flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors min-h-[48px] ${F.soldOut?"opacity-50 cursor-not-allowed":"cursor-pointer border-gray-200"}`,children:[r.jsx(AL,{value:F.id,id:`${A.id}-${F.id}`,disabled:F.soldOut,className:"shrink-0"}),r.jsxs(Le,{htmlFor:`${A.id}-${F.id}`,className:"flex-1 flex items-center justify-between cursor-pointer",children:[r.jsxs("span",{className:"text-[15px]",children:[F.label,F.soldOut&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Unavailable)"})]}),B&&r.jsx("span",{className:"text-[15px] font-medium",style:{color:i},children:B})]})]},F.id)})})}):r.jsx("div",{className:"space-y-2",children:A.choices.map(F=>{const B=f[A.id]?.includes(F.id),O=Tc(F.priceDeltaCents);return r.jsxs("div",{className:`flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors min-h-[48px] ${F.soldOut?"opacity-50 cursor-not-allowed":"cursor-pointer border-gray-200"}`,onClick:()=>!F.soldOut&&R(A.id,F.id,"multi"),children:[r.jsx(ww,{id:`${A.id}-${F.id}`,checked:B,disabled:F.soldOut,className:"shrink-0"}),r.jsxs(Le,{htmlFor:`${A.id}-${F.id}`,className:"flex-1 flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:"text-[15px]",children:F.label}),O&&r.jsx("span",{className:"text-[15px] font-medium",style:{color:i},children:O})]})]},F.id)})}),J&&r.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(On,{className:"w-4 h-4"}),J.message]})]},A.id)})}),n.addonGroups&&n.addonGroups.length>0&&r.jsx("div",{className:"space-y-5",children:n.addonGroups.map(A=>{const J=S.find(F=>F.groupId===A.id),$=hg(A);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-[15px] font-semibold text-gray-900",children:A.title}),$&&r.jsx("span",{className:"text-xs text-gray-500",children:$})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:A.choices.map(F=>{const B=g[A.id]?.includes(F.id),O=Tc(F.priceDeltaCents);return r.jsxs("button",{onClick:()=>!F.soldOut&&q(A.id,F.id),disabled:F.soldOut,className:`h-10 px-4 rounded-full text-sm font-medium transition-all min-w-[80px] ${B?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${F.soldOut?"opacity-50 cursor-not-allowed":""}`,children:[F.label," ",O]},F.id)})}),J&&r.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(On,{className:"w-4 h-4"}),J.message]})]},A.id)})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:["Special Instructions ",r.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),r.jsx(ao,{id:"notes",placeholder:n.notesPlaceholder||"e.g., No onions, extra sauce...",value:b,onChange:A=>j(A.target.value),className:"min-h-[48px] text-[15px] resize-none",rows:2})]}),T&&o.length>0&&r.jsx(ML,{cartItems:a,currentItem:n,allMenuItems:o,brandColor:i,onItemClick:c,onQuickAdd:A=>{const J={item_id:A.id,qty:1,selections:{variants:[],addons:[]},unit_price_cents:A.basePrice.amountCents,total_cents:A.basePrice.amountCents,name:A.name,image:A.imageUrl};s(J),fu("ai_suggestion_added",{item_id:A.id}),Ne.success(`Added ${A.name}`)}})]})}),r.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"h-12 border border-gray-300 rounded-xl inline-flex items-center overflow-hidden",children:[r.jsx("button",{onClick:()=>h(Math.max(1,d-1)),disabled:d<=1,className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-40 disabled:cursor-not-allowed","aria-label":`Decrease quantity for ${n.name}`,children:r.jsx(Ph,{className:"w-5 h-5 text-gray-600"})}),r.jsx("div",{className:"w-12 h-12 flex items-center justify-center border-x border-gray-300",children:r.jsx("span",{className:"text-[15px] font-semibold text-gray-900",children:d})}),r.jsx("button",{onClick:()=>h(d+1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 transition-colors","aria-label":`Increase quantity for ${n.name}`,children:r.jsx(Us,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs(re,{onClick:V,disabled:n.soldOut||!G,className:"flex-1 h-12 text-[15px] font-semibold text-white rounded-xl shadow-lg transition-all disabled:opacity-50",style:{background:!n.soldOut&&G?i:void 0},"aria-label":`Add ${d} ${n.name} to cart for ${Oi(E)}`,"aria-live":"polite",children:[r.jsx(nl,{className:"w-5 h-5 mr-2"}),"Add ",Oi(E)]})]}),r.jsx("p",{className:"text-xs text-center text-gray-500",children:"Secure payment by Stripe  Apple Pay / Google Pay available"})]})]})]})})};function Sw(e,[t,n]){return Math.min(n,Math.max(t,e))}function Vme(e,t){return x.useReducer((n,s)=>t[n][s]??n,e)}var RS="ScrollArea",[DL]=Cn(RS),[Wme,gs]=DL(RS),LL=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:a=600,...o}=e,[c,d]=x.useState(null),[h,f]=x.useState(null),[m,g]=x.useState(null),[y,b]=x.useState(null),[j,S]=x.useState(null),[_,N]=x.useState(0),[C,T]=x.useState(0),[M,P]=x.useState(!1),[E,R]=x.useState(!1),q=He(t,Q=>d(Q)),V=vl(i);return r.jsx(Wme,{scope:n,type:s,dir:V,scrollHideDelay:a,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:M,onScrollbarXEnabledChange:P,scrollbarY:j,onScrollbarYChange:S,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:N,onCornerHeightChange:T,children:r.jsx(ke.div,{dir:V,...o,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});LL.displayName=RS;var $L="ScrollAreaViewport",FL=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:i,...a}=e,o=gs($L,n),c=x.useRef(null),d=He(t,c,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});FL.displayName=$L;var bi="ScrollAreaScrollbar",UL=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=gs(bi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,c=e.orientation==="horizontal";return x.useEffect(()=>(c?a(!0):o(!0),()=>{c?a(!1):o(!1)}),[c,a,o]),i.type==="hover"?r.jsx(Hme,{...s,ref:t,forceMount:n}):i.type==="scroll"?r.jsx(qme,{...s,ref:t,forceMount:n}):i.type==="auto"?r.jsx(zL,{...s,ref:t,forceMount:n}):i.type==="always"?r.jsx(AS,{...s,ref:t}):null});UL.displayName=bi;var Hme=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=gs(bi,e.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const c=i.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),r.jsx(fn,{present:n||a,children:r.jsx(zL,{"data-state":a?"visible":"hidden",...s,ref:t})})}),qme=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=gs(bi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Cx(()=>d("SCROLL_END"),100),[c,d]=Vme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay,d]),x.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const g=()=>{const y=h[f];m!==y&&(d("SCROLL"),o()),m=y};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,a,d,o]),r.jsx(fn,{present:n||c!=="hidden",children:r.jsx(AS,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),zL=x.forwardRef((e,t)=>{const n=gs(bi,e.__scopeScrollArea),{forceMount:s,...i}=e,[a,o]=x.useState(!1),c=e.orientation==="horizontal",d=Cx(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?h:f)}},10);return Gc(n.viewport,d),Gc(n.content,d),r.jsx(fn,{present:s||a,children:r.jsx(AS,{"data-state":a?"visible":"hidden",...i,ref:t})})}),AS=x.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,i=gs(bi,e.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[c,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=qL(c.viewport,c.content),f={...s,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function m(g,y){return Qme(g,o.current,c,y)}return n==="horizontal"?r.jsx(Gme,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,y=mP(g,c,i.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):n==="vertical"?r.jsx(Kme,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,y=mP(g,c);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),Gme=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,a=gs(bi,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),h=He(t,d,a.onScrollbarXChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(VL,{"data-orientation":"horizontal",...i,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kx(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),KL(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:mg(o.paddingLeft),paddingEnd:mg(o.paddingRight)}})}})}),Kme=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,a=gs(bi,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),h=He(t,d,a.onScrollbarYChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(VL,{"data-orientation":"vertical",...i,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kx(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),KL(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:mg(o.paddingTop),paddingEnd:mg(o.paddingBottom)}})}})}),[Yme,BL]=DL(bi),VL=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...g}=e,y=gs(bi,n),[b,j]=x.useState(null),S=He(t,q=>j(q)),_=x.useRef(null),N=x.useRef(""),C=y.viewport,T=s.content-s.viewport,M=An(f),P=An(d),E=Cx(m,10);function R(q){if(_.current){const V=q.clientX-_.current.left,Q=q.clientY-_.current.top;h({x:V,y:Q})}}return x.useEffect(()=>{const q=V=>{const Q=V.target;b?.contains(Q)&&M(V,T)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[C,b,T,M]),x.useEffect(P,[s,P]),Gc(b,E),Gc(y.content,E),r.jsx(Yme,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:An(a),onThumbPointerUp:An(o),onThumbPositionChange:P,onThumbPointerDown:An(c),children:r.jsx(ke.div,{...g,ref:S,style:{position:"absolute",...g.style},onPointerDown:ye(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),_.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),R(q))}),onPointerMove:ye(e.onPointerMove,R),onPointerUp:ye(e.onPointerUp,q=>{const V=q.target;V.hasPointerCapture(q.pointerId)&&V.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=N.current,y.viewport&&(y.viewport.style.scrollBehavior=""),_.current=null})})})}),fg="ScrollAreaThumb",WL=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=BL(fg,e.__scopeScrollArea);return r.jsx(fn,{present:n||i.hasThumb,children:r.jsx(Jme,{ref:t,...s})})}),Jme=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...i}=e,a=gs(fg,n),o=BL(fg,n),{onThumbPositionChange:c}=o,d=He(t,m=>o.onThumbChange(m)),h=x.useRef(void 0),f=Cx(()=>{h.current&&(h.current(),h.current=void 0)},100);return x.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!h.current){const y=Zme(m,c);h.current=y,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,c]),r.jsx(ke.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ye(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),b=m.clientX-y.left,j=m.clientY-y.top;o.onThumbPointerDown({x:b,y:j})}),onPointerUp:ye(e.onPointerUp,o.onThumbPointerUp)})});WL.displayName=fg;var IS="ScrollAreaCorner",HL=x.forwardRef((e,t)=>{const n=gs(IS,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(Xme,{...e,ref:t}):null});HL.displayName=IS;var Xme=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,i=gs(IS,n),[a,o]=x.useState(0),[c,d]=x.useState(0),h=!!(a&&c);return Gc(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),d(f)}),Gc(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),o(f)}),h?r.jsx(ke.div,{...s,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mg(e){return e?parseInt(e,10):0}function qL(e,t){const n=e/t;return isNaN(n)?0:n}function kx(e){const t=qL(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function Qme(e,t,n,s="ltr"){const i=kx(n),a=i/2,o=t||a,c=i-o,d=n.scrollbar.paddingStart+o,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return GL([d,h],m)(e)}function mP(e,t,n="ltr"){const s=kx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,c=a-s,d=n==="ltr"?[0,o]:[o*-1,0],h=Sw(e,d);return GL([0,o],[0,c])(h)}function GL(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function KL(e,t){return e>0&&e<t}var Zme=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,c=n.top!==a.top;(o||c)&&t(),n=a,s=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(s)};function Cx(e,t){const n=An(e),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Gc(e,t){const n=An(t);kn(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}var epe=LL,tpe=FL,npe=HL;function rpe({className:e,children:t,...n}){return r.jsxs(epe,{"data-slot":"scroll-area",className:_e("relative",e),...n,children:[r.jsx(tpe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),r.jsx(spe,{}),r.jsx(npe,{})]})}function spe({className:e,orientation:t="vertical",...n}){return r.jsx(UL,{"data-slot":"scroll-area-scrollbar",orientation:t,className:_e("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:r.jsx(WL,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const ipe=({item:e,onQtyChange:t,onRemove:n})=>{const s=e.mods?.reduce((b,j)=>b+(j.price||0),0)||0,i=(e.price+s)*e.qty,a=hx(e.priceUnit),o=iS(e.priceUnit),c=fx(e.priceUnit),d=px(e.priceUnit),h=mx(e.priceUnit,e.unitLabel);a&&aS(e.priceUnit);const f=()=>{const b=Math.max(c,e.qty-o),j=d>0?Number(b.toFixed(d)):Math.round(b);t(e.id,j)},m=()=>{const b=e.qty+o,j=d>0?Number(b.toFixed(d)):Math.round(b);t(e.id,j)},g=a?"weight":"quantity",y=a?Aa(e.qty,e.priceUnit):e.qty;return r.jsxs(W.div,{className:"flex gap-3 py-3 border-b last:border-0",initial:{opacity:1},exit:{opacity:0,x:-20},transition:{duration:.2},children:[r.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:e.image?r.jsx(Kn,{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsx(Dn,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm mb-1 line-clamp-1",children:e.name}),r.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:[Fr(e.price),h&&r.jsx("span",{className:`text-gray-400 whitespace-nowrap ${h.startsWith("/")?"ml-0":"ml-1"}`.trim(),children:h})]}),e.mods&&e.mods.length>0&&r.jsx("div",{className:"text-xs text-gray-500 space-y-0.5 mb-2",children:e.mods.map((b,j)=>r.jsxs("div",{children:["+ ",b.name,b.price&&b.price>0&&` (${Fr(b.price)})`]},j))}),e.note&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mb-2",children:[r.jsx($I,{className:"w-3 h-3"}),r.jsx("span",{className:"line-clamp-1",children:e.note})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center border rounded-lg",children:[r.jsx("button",{onClick:f,disabled:e.qty<=c,className:"p-1.5 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":`Decrease ${g}`,children:r.jsx(Ph,{className:"w-3.5 h-3.5"})}),a?r.jsx(mS,{value:e.qty,unit:e.priceUnit,min:c,decimals:d,onCommit:b=>t(e.id,b)}):r.jsx("span",{className:"px-3 text-sm font-medium min-w-[3ch] text-center",children:y}),r.jsx("button",{onClick:m,className:"p-1.5 hover:bg-gray-100 transition-colors","aria-label":`Increase ${g}`,children:r.jsx(Us,{className:"w-3.5 h-3.5"})})]}),r.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove item",children:r.jsx(Rh,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"text-right flex-shrink-0",children:r.jsx("p",{className:"text-sm",children:Fr(i)})})]})},ape=({totals:e,children:t})=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:Fr(e.subtotal)})]}),e.tax>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:Fr(e.tax)})]}),e.fees>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Platform fee"}),r.jsx("span",{children:Fr(e.fees)})]}),e.deliveryFee&&e.deliveryFee>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:Fr(e.deliveryFee)})]}),e.tips>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:Fr(e.tips)})]}),r.jsx("div",{className:"border-t pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Total"}),r.jsx("span",{className:"font-medium",children:Fr(e.grand_total)})]})}),t&&r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t})]}),Km=[{label:"10%",value:10},{label:"15%",value:15},{label:"20%",value:20},{label:"No tip",value:0}],ope=({tipPercentage:e,onSelectTip:t,brandColor:n="#6B0F1A"})=>{const s=(i,a)=>{i.key==="ArrowRight"&&a<Km.length-1?t(Km[a+1].value):i.key==="ArrowLeft"&&a>0&&t(Km[a-1].value)};return r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-sm mb-3 block",children:"Support the team"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:Km.map((i,a)=>{const o=e===i.value;return r.jsx(W.button,{onClick:()=>t(i.value),onKeyDown:c=>s(c,a),whileTap:{scale:.95},className:`px-3 py-2.5 rounded-lg text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 ${o?"text-white shadow-md":"border border-gray-300 hover:border-gray-400 bg-white"}`,style:o?{backgroundColor:n,focusRingColor:n}:{},"aria-label":`Tip ${i.label}`,"aria-pressed":o,tabIndex:0,children:i.label},i.value)})})]})},lpe=({onBrowseMenu:e,onViewPopular:t,brandColor:n="#6B0F1A"})=>r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:`${n}15`},children:r.jsx(Dn,{className:"w-10 h-10",style:{color:n}})}),r.jsx("h3",{className:"mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 text-sm mb-6 max-w-sm",children:"Add some delicious items from our menu to get started"}),r.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-xs",children:[r.jsx(re,{onClick:e,size:"lg",className:"w-full text-white",style:{backgroundColor:n},children:"Browse Menu"}),t&&r.jsx(re,{onClick:t,variant:"ghost",size:"lg",className:"w-full",children:"See popular items"})]})]}),cpe=(e,t)=>{typeof window<"u"&&window.analytics&&window.analytics.track(e,t),console.log(`[Analytics] ${e}`,t)},dpe=({brandColor:e,allMenuItems:t=[],onCheckout:n,onItemEdit:s,onItemClick:i,isMobile:a=!1})=>{const{items:o,removeItem:c,setQty:d,totals:h,tipPercentage:f,setTipPercentage:m}=jl(),[g,y]=x.useState(""),[b,j]=x.useState(!1),[S,_]=x.useState(""),N=o.length===0,C=o.reduce((P,E)=>P+E.qty,0),T=()=>{g.toUpperCase()==="SAVE10"?(j(!0),_("")):g&&(_("Invalid promo code"),j(!1))},M=()=>{cpe("cart_checkout_clicked",{total:h.grand_total,fulfillment:"pickup",item_count:C,tip_amount:h.tips}),n()};return a?r.jsx(r.Fragment,{children:r.jsx(st,{children:!N&&r.jsx(W.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-4 left-4 right-4 z-40",children:r.jsxs(re,{onClick:()=>{},className:"w-full h-14 text-white font-semibold rounded-full shadow-2xl flex items-center justify-between px-6",style:{background:e},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nl,{className:"w-5 h-5"}),r.jsxs("span",{children:[C," ",C===1?"item":"items"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Fr(h.grand_total)}),r.jsx(Ma,{className:"w-5 h-5"})]})]})})})}):r.jsxs("div",{className:"w-[400px] border-l border-gray-200 bg-white flex flex-col h-screen sticky top-0",children:[r.jsx("div",{className:"p-5 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Cart"}),!N&&r.jsxs(_t,{variant:"secondary",className:"h-6 px-2",children:[C," ",C===1?"item":"items"]})]})}),N?r.jsx("div",{className:"flex-1 flex items-center justify-center p-5",children:r.jsx(lpe,{onBrowseMenu:()=>window.location.href="/products",brandColor:e})}):r.jsxs(r.Fragment,{children:[r.jsx(rpe,{className:"flex-1",children:r.jsxs("div",{className:"p-5 space-y-4",children:[r.jsx("div",{className:"space-y-3",children:o.map((P,E)=>r.jsx(ipe,{item:P,onRemove:R=>c(R),onQtyChange:(R,q)=>d(R,q)},`${P.id}-${E}`))}),t.length>0&&r.jsx(ML,{cartItems:o,allMenuItems:t,brandColor:e,onItemClick:i,context:"cart"}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx(ope,{tipPercentage:f,onSelectTip:m,brandColor:e})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"promo",className:"text-sm font-medium text-gray-700",children:"Promo Code"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{id:"promo",type:"text",value:g,onChange:P=>y(P.target.value.toUpperCase()),placeholder:"Enter code",className:"flex-1 h-10 px-3 border border-gray-300 rounded-lg text-sm",disabled:b}),b?r.jsx(re,{size:"sm",variant:"outline",onClick:()=>{j(!1),y("")},children:"Remove"}):r.jsx(re,{size:"sm",variant:"outline",onClick:T,disabled:!g,children:"Apply"})]}),S&&r.jsx("p",{className:"text-xs text-red-600",children:S}),b&&r.jsx("p",{className:"text-xs text-green-600",children:" Promo code applied"})]})]})}),r.jsxs("div",{className:"border-t border-gray-200 p-5 space-y-4 bg-white",children:[r.jsx(ape,{totals:h}),r.jsxs(re,{onClick:M,className:"w-full h-12 text-white font-semibold rounded-xl shadow-lg",style:{background:e},children:[r.jsx(dY,{className:"w-5 h-5 mr-2"}),"Checkout  ",Fr(h.grand_total)]}),r.jsx("p",{className:"text-xs text-center text-gray-500",children:"Secure payment by Stripe  Apple Pay / Google Pay available"})]})]})]})},Av=[{id:"avo_toast",name:"Avocado Toast",description:"Sourdough, avocado, cherry tomatoes, microgreens, poached egg",basePrice:{amountCents:1400,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?avocado-toast",tags:[{id:"veg",label:"Vegetarian",tone:"success",icon:""},{id:"popular",label:"Popular",tone:"warning",icon:""}],variantGroups:[{id:"size",title:"Size",type:"single",required:!0,choices:[{id:"std",label:"Standard",default:!0},{id:"lg",label:"Large",priceDeltaCents:300}]}],addonGroups:[{id:"extras",title:"Add extras",type:"multi",max:3,choices:[{id:"cheese",label:"Feta",priceDeltaCents:150},{id:"bacon",label:"Bacon",priceDeltaCents:250},{id:"avocado",label:"Extra Avocado",priceDeltaCents:200}]}],notesPlaceholder:"No onions, extra sauce, well done...",nutrition:{calories:520,protein:"16g",carbs:"48g",fat:"28g"},allergens:["eggs","wheat"]},{id:"latte",name:"Caffe Latte",description:"Espresso with steamed milk and light foam",basePrice:{amountCents:450,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?latte-coffee",tags:[{id:"hot",label:"Hot",tone:"info"}],variantGroups:[{id:"size",title:"Size",type:"single",required:!0,choices:[{id:"small",label:"Small (12oz)",priceDeltaCents:-50},{id:"medium",label:"Medium (16oz)",default:!0},{id:"large",label:"Large (20oz)",priceDeltaCents:75}]},{id:"milk",title:"Milk Choice",type:"single",required:!0,choices:[{id:"whole",label:"Whole Milk",default:!0},{id:"oat",label:"Oat Milk",priceDeltaCents:75},{id:"almond",label:"Almond Milk",priceDeltaCents:75}]}],addonGroups:[{id:"shots",title:"Extra Shots",type:"multi",max:3,choices:[{id:"espresso",label:"Espresso Shot",priceDeltaCents:75}]},{id:"flavors",title:"Flavor Shots",type:"multi",max:2,choices:[{id:"vanilla",label:"Vanilla",priceDeltaCents:50},{id:"caramel",label:"Caramel",priceDeltaCents:50}]}],notesPlaceholder:"e.g., Extra hot, light foam...",nutrition:{calories:190,protein:"9g",carbs:"18g",fat:"7g"},allergens:["milk"]},{id:"burger",name:"Classic Burger",description:"Angus beef, lettuce, tomato, onion, pickles, special sauce",basePrice:{amountCents:1200,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?burger",tags:[{id:"popular",label:"Best Seller",tone:"warning",icon:""}],variantGroups:[{id:"patty",title:"Patty",type:"single",required:!0,choices:[{id:"single",label:"Single (6oz)",default:!0},{id:"double",label:"Double (12oz)",priceDeltaCents:400}]}],addonGroups:[{id:"toppings",title:"Premium Toppings",type:"multi",max:5,choices:[{id:"bacon",label:"Bacon",priceDeltaCents:200},{id:"cheese",label:"Cheddar",priceDeltaCents:100},{id:"avocado",label:"Avocado",priceDeltaCents:150}]}],notesPlaceholder:"e.g., No pickles, well done...",nutrition:{calories:680,protein:"42g",carbs:"45g",fat:"32g"},allergens:["wheat","eggs","milk","soy"]},{id:"caesar",name:"Caesar Salad",description:"Romaine, parmesan, croutons, classic caesar dressing",basePrice:{amountCents:1100,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?caesar-salad",tags:[{id:"veg",label:"Vegetarian",tone:"success",icon:""}],addonGroups:[{id:"protein",title:"Add Protein",type:"single",choices:[{id:"falafel",label:"Falafel",priceDeltaCents:300},{id:"salmon",label:"Salmon",priceDeltaCents:600}]}],notesPlaceholder:"Dressing on the side, no croutons..."},{id:"fries",name:"French Fries",description:"Crispy golden fries with sea salt",basePrice:{amountCents:500,currency:"USD"},imageUrl:"https://source.unsplash.com/800x600/?french-fries",variantGroups:[{id:"size",title:"Size",type:"single",required:!0,choices:[{id:"regular",label:"Regular",default:!0},{id:"large",label:"Large",priceDeltaCents:200}]}]}];function upe(){const[e,t]=x.useState(null),{addItem:n}=jl(),s="#C54B34",i=a=>{n({sku:a.item_id,name:a.name,price:a.total_cents,priceUnit:"each",qty:a.qty,image:a.image||"",note:a.notes})};return r.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(re,{variant:"ghost",onClick:()=>window.history.back(),className:"mb-4",children:[r.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Back"]}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"New Ordering Flow Demo"}),r.jsx("p",{className:"text-lg text-gray-600 max-w-3xl",children:"Experience the redesigned high-conversion ordering system with the new ProductDrawer, AI suggestions, and persistent CartRail. Click any item to see the new flow in action!"})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-8 shadow-sm border",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:" What's New"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Right-side drawer (desktop) / full-screen (mobile)"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Live price updates with smooth animations"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"AI-powered menu suggestions"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Persistent cart rail (always visible)"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Real-time validation & helper text"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Sticky footer with qty + Add button"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Full accessibility (44px+ touch targets)"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsx("span",{className:"text-sm",children:"Complete analytics tracking"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Av.map(a=>r.jsxs("button",{onClick:()=>t(a),className:"bg-white rounded-2xl overflow-hidden shadow-sm border hover:shadow-lg transition-all text-left group",children:[r.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[r.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),a.tags&&a.tags.length>0&&r.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:a.tags.map(o=>r.jsxs("span",{className:"px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium",children:[o.icon," ",o.label]},o.id))})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:a.name}),r.jsxs("span",{className:"font-semibold",style:{color:s},children:["$",(a.basePrice.amountCents/100).toFixed(2)]})]}),a.description&&r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.description})]})]},a.id))})]})}),r.jsx("div",{className:"hidden md:block",children:r.jsx(dpe,{brandColor:s,allMenuItems:Av,onCheckout:()=>alert("Checkout clicked! (Would navigate to /checkout)"),onItemClick:a=>t(a),isMobile:!1})}),e&&r.jsx(Bme,{isOpen:!0,onClose:()=>t(null),item:e,brandColor:s,onAddToCart:i,cartItems:[],allMenuItems:Av,onItemClick:a=>t(a)})]})}const hpe=Pj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function pP({className:e,variant:t,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:_e(hpe({variant:t}),e),...n})}function gP({className:e,...t}){return r.jsx("div",{"data-slot":"alert-description",className:_e("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const Nw="/assets/c14dec2d5a19e922af70064320b84895029133d4-D9uDnTeY.png",fpe=qr;async function mpe(e,t){const n=new FormData;n.append("file",e),n.append("filename",t);const s=await fetch(`${fpe}/blog/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${Nt}`,apikey:Nt},body:n});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to upload image")}return(await s.json()).url}async function YL(e,t){const n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch figma asset");const s=await n.blob();return mpe(s,t)}function ppe(){const[e,t]=x.useState(!1),[n,s]=x.useState(null),[i,a]=x.useState(null),o=async()=>{t(!0),a(null);try{console.log("Starting upload of Kazan Kebab image...");const c=await YL(Nw,"kazan-kebab.png");console.log("Upload successful! URL:",c),s(c)}catch(c){console.error("Upload failed:",c),a(c instanceof Error?c.message:"Upload failed")}finally{t(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl mb-2",children:"Blog Image Uploader"}),r.jsx("p",{className:"text-gray-600",children:"Upload blog post images to Supabase Storage for permanent hosting"})]}),i&&r.jsxs(pP,{variant:"destructive",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx(gP,{children:i})]}),r.jsxs(we,{children:[r.jsxs(La,{children:[r.jsx($a,{children:"Kazan Kebab Image"}),r.jsx(Yo,{children:'Upload the beautiful Kazan Kebab image for the "Secrets to Make Delicious Kazan Kebab" blog post'})]}),r.jsxs(pt,{className:"space-y-4",children:[r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsx("img",{src:Nw,alt:"Kazan Kebab - beef with potatoes and onions",className:"w-full h-64 object-cover"})}),n?r.jsxs("div",{className:"space-y-3",children:[r.jsxs(pP,{children:[r.jsx(Hr,{className:"h-4 w-4 text-green-600"}),r.jsx(gP,{className:"text-green-800",children:"Upload successful! Image is now hosted in Supabase Storage."})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Signed URL:"}),r.jsx("code",{className:"text-xs break-all bg-white p-2 rounded border block",children:n})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Copy this URL and update the Kazan Kebab blog post in ",r.jsx("code",{children:"/hooks/useConfig.ts"})," and ",r.jsx("code",{children:"/data/sample/blog.json"})]})]}):r.jsx(re,{onClick:o,disabled:e,className:"w-full",size:"lg",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Ju,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading to Supabase..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ju,{className:"mr-2 h-4 w-4"}),"Upload to Supabase Storage"]})})]})]}),r.jsxs(we,{children:[r.jsx(La,{children:r.jsx($a,{children:"Instructions"})}),r.jsx(pt,{className:"space-y-2 text-sm text-gray-600",children:r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsx("li",{children:'Click "Upload to Supabase Storage" to upload the image'}),r.jsx("li",{children:"Copy the generated signed URL"}),r.jsx("li",{children:"Update the blog post configuration with the new URL"}),r.jsx("li",{children:"The image will be permanently hosted in your Supabase Storage bucket"})]})})]})]})})}async function OS(e,t,n){const s=await fetch(`${qr}${e}`,{method:n?.method??"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,apikey:Nt,...n?.headers||{}},credentials:"include",body:n?.body}),i=await s.text(),a=i?JSON.parse(i):null;if(!s.ok){const o=a?.error||a?.message||a?.details||`Request failed (${s.status})`;throw new Error(o)}return a??{}}async function gpe(e,t={}){const n=new URLSearchParams;t.status&&n.set("status",t.status),t.fulfillment&&n.set("fulfillment",t.fulfillment),t.limit&&n.set("limit",String(t.limit));const s=n.toString()?`?${n.toString()}`:"";return(await OS(`/admin/orders${s}`,e)).orders??[]}async function xpe(e,t){return(await OS(`/admin/orders/${t}/picked-up`,e,{method:"POST"})).order}async function ype(e,t,n){return(await OS(`/admin/orders/${t}/cancel`,e,{method:"POST",body:JSON.stringify({reason:n})})).order}const vpe=e=>_S(e),Ex=be(async()=>{const{data:e}=await Fe.auth.getSession(),t=e.session,n=t?.user??null,s=t?.access_token??null;return{user:n,token:s,isAdmin:vpe(n)}}),ph=be([]),_w=be(!1),kw=be(null),MS=be({status:"all",fulfillment:"all",search:""}),JL=yde(Ex),bpe=be(e=>{const t=e(ph),n=e(MS),s=n.search.trim().toLowerCase();return t.filter(i=>{const a=n.status==="all"||i.status===n.status,o=n.fulfillment==="all"||i.fulfillmentType===n.fulfillment,c=!s||i.shortCode.toLowerCase().includes(s)||(i.contact.name??"").toLowerCase().includes(s)||(i.contact.phone??"").toLowerCase().includes(s)||(i.contact.email??"").toLowerCase().includes(s);return a&&o&&c})}),wpe=be(null,async(e,t)=>{t(_w,!0),t(kw,null);try{const n=await e(Ex);if(!n.isAdmin||!n.token)throw new Error("Admin access required");const s=e(MS),i=await gpe(n.token,{status:s.status==="all"?void 0:s.status,fulfillment:s.fulfillment==="all"?void 0:s.fulfillment,limit:100});t(ph,i)}catch(n){t(kw,n?.message||"Failed to load orders"),t(ph,[])}finally{t(_w,!1)}}),jpe=be(null,async(e,t,n)=>{const s=await e(Ex);if(!s.isAdmin||!s.token)throw new Error("Admin access required");const i=await xpe(s.token,n);t(ph,a=>a.map(o=>o.id===i.id?i:o))}),Spe=be(null,async(e,t,n)=>{const s=await e(Ex);if(!s.isAdmin||!s.token)throw new Error("Admin access required");const i=await ype(s.token,n.orderId,n.reason);t(ph,a=>a.map(o=>o.id===i.id?i:o))});function Npe(e){const t=_pe(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(Cpe);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function _pe(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=Tpe(i),c=Epe(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kpe=Symbol("radix.slottable");function Cpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kpe}function Epe(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Tpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ppe=[" ","Enter","ArrowUp","ArrowDown"],Rpe=[" ","Enter"],ll="Select",[Tx,Px,Ape]=$g(ll),[jd]=Cn(ll,[Ape,ro]),Rx=ro(),[Ipe,oo]=jd(ll),[Ope,Mpe]=jd(ll),XL=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:g,required:y,form:b}=e,j=Rx(t),[S,_]=x.useState(null),[N,C]=x.useState(null),[T,M]=x.useState(!1),P=vl(h),[E,R]=_r({prop:s,defaultProp:i??!1,onChange:a,caller:ll}),[q,V]=_r({prop:o,defaultProp:c,onChange:d,caller:ll}),Q=x.useRef(null),G=S?b||!!S.closest("form"):!0,[A,J]=x.useState(new Set),$=Array.from(A).map(F=>F.props.value).join(";");return r.jsx(Hg,{...j,children:r.jsxs(Ipe,{required:y,scope:t,trigger:S,onTriggerChange:_,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:T,onValueNodeHasChildrenChange:M,contentId:hn(),value:q,onValueChange:V,open:E,onOpenChange:R,dir:P,triggerPointerDownPosRef:Q,disabled:g,children:[r.jsx(Tx.Provider,{scope:t,children:r.jsx(Ope,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{J(B=>new Set(B).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{J(B=>{const O=new Set(B);return O.delete(F),O})},[]),children:n})}),G?r.jsxs(v$,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:q,onChange:F=>V(F.target.value),disabled:g,form:b,children:[q===void 0?r.jsx("option",{value:""}):null,Array.from(A)]},$):null]})})};XL.displayName=ll;var QL="SelectTrigger",ZL=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=Rx(n),o=oo(QL,n),c=o.disabled||s,d=He(t,o.onTriggerChange),h=Px(n),f=x.useRef("touch"),[m,g,y]=w$(j=>{const S=h().filter(C=>!C.disabled),_=S.find(C=>C.value===o.value),N=j$(S,j,_);N!==void 0&&o.onValueChange(N.value)}),b=j=>{c||(o.onOpenChange(!0),y()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(Fh,{asChild:!0,...a,children:r.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":b$(o.value)?"":void 0,...i,ref:d,onClick:ye(i.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&b(j)}),onPointerDown:ye(i.onPointerDown,j=>{f.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:ye(i.onKeyDown,j=>{const S=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&g(j.key),!(S&&j.key===" ")&&Ppe.includes(j.key)&&(b(),j.preventDefault())})})})});ZL.displayName=QL;var e$="SelectValue",t$=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:o="",...c}=e,d=oo(e$,n),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=He(t,d.onValueNodeChange);return kn(()=>{h(f)},[h,f]),r.jsx(ke.span,{...c,ref:m,style:{pointerEvents:"none"},children:b$(d.value)?r.jsx(r.Fragment,{children:o}):a})});t$.displayName=e$;var Dpe="SelectIcon",n$=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(ke.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});n$.displayName=Dpe;var Lpe="SelectPortal",r$=e=>r.jsx(fd,{asChild:!0,...e});r$.displayName=Lpe;var cl="SelectContent",s$=x.forwardRef((e,t)=>{const n=oo(cl,e.__scopeSelect),[s,i]=x.useState();if(kn(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?Dh.createPortal(r.jsx(i$,{scope:e.__scopeSelect,children:r.jsx(Tx.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(a$,{...e,ref:t})});s$.displayName=cl;var Rs=10,[i$,lo]=jd(cl),$pe="SelectContentImpl",Fpe=Npe("SelectContent.RemoveScroll"),a$=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:S,..._}=e,N=oo(cl,n),[C,T]=x.useState(null),[M,P]=x.useState(null),E=He(t,K=>T(K)),[R,q]=x.useState(null),[V,Q]=x.useState(null),G=Px(n),[A,J]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(C)return Kg(C)},[C]),Fg();const F=x.useCallback(K=>{const[se,...ue]=G().map(je=>je.ref.current),[de]=ue.slice(-1),le=document.activeElement;for(const je of K)if(je===le||(je?.scrollIntoView({block:"nearest"}),je===se&&M&&(M.scrollTop=0),je===de&&M&&(M.scrollTop=M.scrollHeight),je?.focus(),document.activeElement!==le))return},[G,M]),B=x.useCallback(()=>F([R,C]),[F,R,C]);x.useEffect(()=>{A&&B()},[A,B]);const{onOpenChange:O,triggerPointerDownPosRef:Z}=N;x.useEffect(()=>{if(C){let K={x:0,y:0};const se=de=>{K={x:Math.abs(Math.round(de.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(de.pageY)-(Z.current?.y??0))}},ue=de=>{K.x<=10&&K.y<=10?de.preventDefault():C.contains(de.target)||O(!1),document.removeEventListener("pointermove",se),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ue,{capture:!0})}}},[C,O,Z]),x.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[H,U]=w$(K=>{const se=G().filter(le=>!le.disabled),ue=se.find(le=>le.ref.current===document.activeElement),de=j$(se,K,ue);de&&setTimeout(()=>de.ref.current.focus())}),D=x.useCallback((K,se,ue)=>{const de=!$.current&&!ue;(N.value!==void 0&&N.value===se||de)&&(q(K),de&&($.current=!0))},[N.value]),ee=x.useCallback(()=>C?.focus(),[C]),z=x.useCallback((K,se,ue)=>{const de=!$.current&&!ue;(N.value!==void 0&&N.value===se||de)&&Q(K)},[N.value]),L=s==="popper"?Cw:o$,X=L===Cw?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:S}:{};return r.jsx(i$,{scope:n,content:C,viewport:M,onViewportChange:P,itemRefCallback:D,selectedItem:R,onItemLeave:ee,itemTextRefCallback:z,focusSelectedItem:B,selectedItemText:V,position:s,isPositioned:A,searchRef:H,children:r.jsx(zh,{as:Fpe,allowPinchZoom:!0,children:r.jsx(Lh,{asChild:!0,trapped:N.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ye(i,K=>{N.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:r.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:r.jsx(L,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:K=>K.preventDefault(),..._,...X,onPlaced:()=>J(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ye(_.onKeyDown,K=>{const se=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!se&&K.key.length===1&&U(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let de=G().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(K.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const le=K.target,je=de.indexOf(le);de=de.slice(je+1)}setTimeout(()=>F(de)),K.preventDefault()}})})})})})})});a$.displayName=$pe;var Upe="SelectItemAlignedPosition",o$=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=oo(cl,n),o=lo(cl,n),[c,d]=x.useState(null),[h,f]=x.useState(null),m=He(t,E=>f(E)),g=Px(n),y=x.useRef(!1),b=x.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:_,focusSelectedItem:N}=o,C=x.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&j&&S&&_){const E=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),V=_.getBoundingClientRect();if(a.dir!=="rtl"){const le=V.left-R.left,je=q.left-le,qe=E.left-je,ot=E.width+qe,kt=Math.max(ot,R.width),rn=window.innerWidth-Rs,sn=Sw(je,[Rs,Math.max(Rs,rn-kt)]);c.style.minWidth=ot+"px",c.style.left=sn+"px"}else{const le=R.right-V.right,je=window.innerWidth-q.right-le,qe=window.innerWidth-E.right-je,ot=E.width+qe,kt=Math.max(ot,R.width),rn=window.innerWidth-Rs,sn=Sw(je,[Rs,Math.max(Rs,rn-kt)]);c.style.minWidth=ot+"px",c.style.right=sn+"px"}const Q=g(),G=window.innerHeight-Rs*2,A=j.scrollHeight,J=window.getComputedStyle(h),$=parseInt(J.borderTopWidth,10),F=parseInt(J.paddingTop,10),B=parseInt(J.borderBottomWidth,10),O=parseInt(J.paddingBottom,10),Z=$+F+A+O+B,H=Math.min(S.offsetHeight*5,Z),U=window.getComputedStyle(j),D=parseInt(U.paddingTop,10),ee=parseInt(U.paddingBottom,10),z=E.top+E.height/2-Rs,L=G-z,X=S.offsetHeight/2,K=S.offsetTop+X,se=$+F+K,ue=Z-se;if(se<=z){const le=Q.length>0&&S===Q[Q.length-1].ref.current;c.style.bottom="0px";const je=h.clientHeight-j.offsetTop-j.offsetHeight,qe=Math.max(L,X+(le?ee:0)+je+B),ot=se+qe;c.style.height=ot+"px"}else{const le=Q.length>0&&S===Q[0].ref.current;c.style.top="0px";const qe=Math.max(z,$+j.offsetTop+(le?D:0)+X)+ue;c.style.height=qe+"px",j.scrollTop=se-z+j.offsetTop}c.style.margin=`${Rs}px 0`,c.style.minHeight=H+"px",c.style.maxHeight=G+"px",s?.(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,c,h,j,S,_,a.dir,s]);kn(()=>C(),[C]);const[T,M]=x.useState();kn(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const P=x.useCallback(E=>{E&&b.current===!0&&(C(),N?.(),b.current=!1)},[C,N]);return r.jsx(Bpe,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:r.jsx(ke.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});o$.displayName=Upe;var zpe="SelectPopperPosition",Cw=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Rs,...a}=e,o=Rx(n);return r.jsx(qg,{...o,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cw.displayName=zpe;var[Bpe,DS]=jd(cl,{}),Ew="SelectViewport",l$=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=lo(Ew,n),o=DS(Ew,n),c=He(t,a.onViewportChange),d=x.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Tx.Slot,{scope:n,children:r.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g?.current&&m){const y=Math.abs(d.current-f.scrollTop);if(y>0){const b=window.innerHeight-Rs*2,j=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),_=Math.max(j,S);if(_<b){const N=_+y,C=Math.min(b,N),T=N-C;m.style.height=C+"px",m.style.bottom==="0px"&&(f.scrollTop=T>0?T:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});l$.displayName=Ew;var c$="SelectGroup",[Vpe,Wpe]=jd(c$),Hpe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=hn();return r.jsx(Vpe,{scope:n,id:i,children:r.jsx(ke.div,{role:"group","aria-labelledby":i,...s,ref:t})})});Hpe.displayName=c$;var d$="SelectLabel",qpe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Wpe(d$,n);return r.jsx(ke.div,{id:i.id,...s,ref:t})});qpe.displayName=d$;var pg="SelectItem",[Gpe,u$]=jd(pg),h$=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...o}=e,c=oo(pg,n),d=lo(pg,n),h=c.value===s,[f,m]=x.useState(a??""),[g,y]=x.useState(!1),b=He(t,N=>d.itemRefCallback?.(N,s,i)),j=hn(),S=x.useRef("touch"),_=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Gpe,{scope:n,value:s,disabled:i,textId:j,isSelected:h,onItemTextChange:x.useCallback(N=>{m(C=>C||(N?.textContent??"").trim())},[]),children:r.jsx(Tx.ItemSlot,{scope:n,value:s,disabled:i,textValue:f,children:r.jsx(ke.div,{role:"option","aria-labelledby":j,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:ye(o.onFocus,()=>y(!0)),onBlur:ye(o.onBlur,()=>y(!1)),onClick:ye(o.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:ye(o.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:ye(o.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:ye(o.onPointerMove,N=>{S.current=N.pointerType,i?d.onItemLeave?.():S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:ye(o.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(Rpe.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})})})})});h$.displayName=pg;var yu="SelectItemText",f$=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,o=oo(yu,n),c=lo(yu,n),d=u$(yu,n),h=Mpe(yu,n),[f,m]=x.useState(null),g=He(t,_=>m(_),d.onItemTextChange,_=>c.itemTextRefCallback?.(_,d.value,d.disabled)),y=f?.textContent,b=x.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=h;return kn(()=>(j(b),()=>S(b)),[j,S,b]),r.jsxs(r.Fragment,{children:[r.jsx(ke.span,{id:d.textId,...a,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Dh.createPortal(a.children,o.valueNode):null]})});f$.displayName=yu;var m$="SelectItemIndicator",p$=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return u$(m$,n).isSelected?r.jsx(ke.span,{"aria-hidden":!0,...s,ref:t}):null});p$.displayName=m$;var Tw="SelectScrollUpButton",g$=x.forwardRef((e,t)=>{const n=lo(Tw,e.__scopeSelect),s=DS(Tw,e.__scopeSelect),[i,a]=x.useState(!1),o=He(t,s.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(y$,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});g$.displayName=Tw;var Pw="SelectScrollDownButton",x$=x.forwardRef((e,t)=>{const n=lo(Pw,e.__scopeSelect),s=DS(Pw,e.__scopeSelect),[i,a]=x.useState(!1),o=He(t,s.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(y$,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});x$.displayName=Pw;var y$=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=lo("SelectScrollButton",n),o=x.useRef(null),c=Px(n),d=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),kn(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),r.jsx(ke.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ye(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{d()})})}),Kpe="SelectSeparator",Ype=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ke.div,{"aria-hidden":!0,...s,ref:t})});Ype.displayName=Kpe;var Rw="SelectArrow",Jpe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Rx(n),a=oo(Rw,n),o=lo(Rw,n);return a.open&&o.position==="popper"?r.jsx(Gg,{...i,...s,ref:t}):null});Jpe.displayName=Rw;var Xpe="SelectBubbleInput",v$=x.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=x.useRef(null),a=He(s,i),o=Sx(t);return x.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(m)}},[o,t]),r.jsx(ke.select,{...n,style:{...J3,...n.style},ref:a,defaultValue:t})});v$.displayName=Xpe;function b$(e){return e===""||e===void 0}function w$(e){const t=An(e),n=x.useRef(""),s=x.useRef(0),i=x.useCallback(o=>{const c=n.current+o;t(c),(function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),a=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function j$(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Qpe(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function Qpe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Zpe=XL,ege=ZL,tge=t$,nge=n$,rge=r$,sge=s$,ige=l$,age=h$,oge=f$,lge=p$,cge=g$,dge=x$;function dl({...e}){return r.jsx(Zpe,{"data-slot":"select",...e})}function ul({...e}){return r.jsx(tge,{"data-slot":"select-value",...e})}function hl({className:e,size:t="default",children:n,...s}){return r.jsxs(ege,{"data-slot":"select-trigger","data-size":t,className:_e("border-gray-300 data-[placeholder]:text-gray-400 [&_svg:not([class*='text-'])]:text-gray-400 focus-visible:border-brand focus-visible:ring-brand/20 aria-invalid:ring-red-500/20 aria-invalid:border-red-500 flex w-full items-center justify-between gap-2 rounded-md border bg-white text-gray-900 px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(nge,{asChild:!0,children:r.jsx(Mi,{className:"size-4 opacity-50"})})]})}function fl({className:e,children:t,position:n="popper",...s}){return r.jsx(rge,{children:r.jsxs(sge,{"data-slot":"select-content",className:_e("bg-white text-gray-900 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-gray-200 shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(uge,{}),r.jsx(ige,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(hge,{})]})})}function Gt({className:e,children:t,...n}){return r.jsxs(age,{"data-slot":"select-item",className:_e("focus:bg-gray-100 focus:text-gray-900 [&_svg:not([class*='text-'])]:text-gray-400 relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(lge,{children:r.jsx(In,{className:"size-4"})})}),r.jsx(oge,{children:t})]})}function uge({className:e,...t}){return r.jsx(cge,{"data-slot":"select-scroll-up-button",className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(EK,{className:"size-4"})})}function hge({className:e,...t}){return r.jsx(dge,{"data-slot":"select-scroll-down-button",className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Mi,{className:"size-4"})})}const Jo=["delivered","canceled","failed","rejected"],LS=e=>e.replace(/_/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),Ym=["Item unavailable / sold out","Unable to fulfill today","Closed early or staffing issue","Payment or verification issue","Customer requested cancellation"],S$=({status:e})=>{const t=x.useMemo(()=>{switch(e){case"ready":case"accepted":return{bg:"bg-emerald-100",text:"text-emerald-800",icon:Hr};case"in_kitchen":case"preparing":return{bg:"bg-amber-100",text:"text-amber-800",icon:Jt};case"courier_requested":case"driver_en_route":return{bg:"bg-blue-100",text:"text-blue-800",icon:zs};case"picked_up":return{bg:"bg-indigo-100",text:"text-indigo-800",icon:nn};case"delivered":return{bg:"bg-green-100",text:"text-green-800",icon:Hr};case"canceled":case"failed":case"rejected":return{bg:"bg-red-100",text:"text-red-800",icon:ms};default:return{bg:"bg-slate-100",text:"text-slate-800",icon:Jt}}},[e]),n=t.icon;return r.jsxs(_t,{className:`${t.bg} ${t.text} gap-1.5 font-medium px-2.5 py-1`,children:[r.jsx(n,{className:"w-3 h-3"}),LS(e)]})},N$=({type:e})=>r.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-medium px-2.5 py-1 rounded-full ${e==="delivery"?"bg-blue-50 text-blue-700":"bg-purple-50 text-purple-700"}`,children:[e==="delivery"?r.jsx(zs,{className:"w-3 h-3"}):r.jsx(nn,{className:"w-3 h-3"}),LS(e)]}),Jm=e=>e?new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",fge=({order:e,open:t,onClose:n,onPickedUp:s,onCancel:i,isLoading:a})=>{if(!e)return null;const o=e.deliveryAddress,c=o?`${o.line1}${o.line2?", "+o.line2:""}, ${o.city}, ${o.state} ${o.postalCode}`:null;return r.jsx(Kr,{open:t,onOpenChange:d=>!d&&n(),children:r.jsxs(kr,{className:"sm:max-w-2xl max-h-[85vh] sm:max-h-[90vh] p-0 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b bg-gradient-to-r from-gray-50 to-white flex-shrink-0",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Order #",e.orderNumber??e.shortCode]}),r.jsx(N$,{type:e.fulfillmentType})]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:Jm(e.createdAt)})]}),r.jsx(S$,{status:e.status})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:r.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(rl,{className:"w-4 h-4"}),"Customer"]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.contact.name||"Guest"})]}),e.contact.phone&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Phone"}),r.jsxs("a",{href:`tel:${e.contact.phone}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center gap-1",children:[e.contact.phone,r.jsx(Wu,{className:"w-3 h-3"})]})]}),e.contact.email&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Email"}),r.jsxs("a",{href:`mailto:${e.contact.email}`,className:"text-sm font-medium text-blue-600 hover:underline flex items-center gap-1",children:[e.contact.email,r.jsx(Wu,{className:"w-3 h-3"})]})]})]})]}),e.fulfillmentType==="delivery"&&o&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(bn,{className:"w-4 h-4"}),"Delivery Address"]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.line1}),o.line2&&r.jsx("p",{className:"text-sm text-gray-600",children:o.line2}),r.jsxs("p",{className:"text-sm text-gray-600",children:[o.city,", ",o.state," ",o.postalCode]}),o.instructions&&r.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Delivery Instructions"}),r.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',o.instructions,'"']})]}),c&&r.jsxs("a",{href:`https://maps.google.com/?q=${encodeURIComponent(c)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-blue-600 hover:underline mt-2",children:[r.jsx(Ku,{className:"w-3 h-3"}),"Open in Google Maps"]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Dn,{className:"w-4 h-4"}),"Items (",e.items?.length||0,")"]}),r.jsx("div",{className:"bg-gray-50 rounded-lg divide-y divide-gray-200 overflow-hidden",children:e.items?.map((d,h)=>r.jsxs("div",{className:"p-4 flex gap-3",children:[d.imageUrl&&r.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-14 h-14 rounded-lg object-cover flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.name}),d.quantityDisplay&&r.jsx("p",{className:"text-xs text-gray-500",children:d.quantityDisplay}),!d.quantityDisplay&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",d.quantity]})]}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:lt(d.totalPriceCents/100)})]}),d.modifiers&&d.modifiers.length>0&&r.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:d.modifiers.map((f,m)=>r.jsxs("span",{className:"text-xs bg-gray-200 text-gray-700 px-1.5 py-0.5 rounded",children:[f.name,f.price?` (+${lt(f.price/100)})`:""]},m))}),d.note&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1 italic",children:["Note: ",d.note]})]})]},d.id||h))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Tj,{className:"w-4 h-4"}),"Payment Summary"]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"text-gray-900",children:lt(e.totals.subtotalCents/100)})]}),e.totals.deliveryFeeCents>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{className:"text-gray-900",children:lt(e.totals.deliveryFeeCents/100)})]}),e.totals.serviceFeeCents>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Service Fee"}),r.jsx("span",{className:"text-gray-900",children:lt(e.totals.serviceFeeCents/100)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{className:"text-gray-900",children:lt(e.totals.taxCents/100)})]}),e.totals.tipCents>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{className:"text-green-600 font-medium",children:lt(e.totals.tipCents/100)})]}),e.totals.discountCents>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Promo Discount"}),r.jsxs("span",{className:"text-green-600 font-medium",children:["-",lt(e.totals.discountCents/100)]})]}),r.jsx(vr,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),r.jsx("span",{className:"font-bold text-lg text-gray-900",children:lt(e.totals.totalCents/100)})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(Th,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${e.paymentStatus==="paid"?"bg-green-100 text-green-700":e.paymentStatus==="refunded"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:LS(e.paymentStatus)})]})]})]}),e.events&&e.events.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Jt,{className:"w-4 h-4"}),"Timeline"]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("div",{className:"space-y-3",children:e.events.slice().reverse().map((d,h)=>r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-brand mt-1.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.title}),d.detail&&r.jsx("p",{className:"text-xs text-gray-500",children:d.detail}),r.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[Jm(d.createdAt),"  ",d.actor]})]})]},d.id||h))})})]}),e.scheduledFor&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[r.jsx(tl,{className:"w-4 h-4"}),"Scheduled For"]}),r.jsx("div",{className:"bg-amber-50 rounded-lg p-4",children:r.jsx("p",{className:"text-sm font-medium text-amber-800",children:Jm(e.scheduledFor)})})]}),(e.pickupEta||e.deliveryEta)&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Jt,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 uppercase tracking-wider",children:"Estimated Time"}),r.jsx("p",{className:"text-sm font-medium text-blue-800",children:Jm(e.fulfillmentType==="delivery"?e.deliveryEta:e.pickupEta)})]})]})]})}),r.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t bg-gray-50 flex-shrink-0 flex flex-wrap items-center justify-end gap-2",children:[e.fulfillmentType==="pickup"&&!Jo.includes(e.status)&&r.jsxs(re,{size:"sm",onClick:s,disabled:a,className:"gap-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4"}),"Mark Picked Up"]}),!Jo.includes(e.status)&&r.jsxs(re,{size:"sm",onClick:i,disabled:a,className:"gap-2 text-red-600 bg-red-50 hover:bg-red-100",children:[r.jsx(ms,{className:"w-4 h-4"}),"Cancel Order"]}),r.jsx(re,{size:"sm",onClick:n,className:"gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Close"})]})]})})},xP=e=>e.fulfillmentType==="pickup"&&!Jo.includes(e.status),yP=e=>!Jo.includes(e.status),mge=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",pge=({order:e,onPickedUp:t,onCancel:n,onClick:s,isLoading:i,actionState:a})=>r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden cursor-pointer",onClick:s,children:[r.jsx("div",{className:"px-4 sm:px-5 py-3 sm:py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-transparent",children:r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:["#",e.orderNumber??e.shortCode]}),r.jsx(N$,{type:e.fulfillmentType})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[r.jsx(tl,{className:"w-3 h-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:mge(e.createdAt)})]})]}),r.jsx(S$,{status:e.status})]})}),r.jsxs("div",{className:"px-4 sm:px-5 py-3 sm:py-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 sm:hidden mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold text-gray-900",children:lt(e.totals.totalCents/100)}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.items?.length||0," item",e.items?.length!==1?"s":""]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.contact.name||"Guest"}),e.contact.phone&&r.jsx("a",{href:`tel:${e.contact.phone}`,className:"text-xs text-blue-600",onClick:o=>o.stopPropagation(),children:e.contact.phone})]})]}),r.jsxs("div",{className:"hidden sm:grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[r.jsx(rl,{className:"w-3.5 h-3.5 text-gray-400"}),e.contact.name||"Guest"]}),e.contact.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(sr,{className:"w-3.5 h-3.5 text-gray-400"}),e.contact.phone]}),e.contact.email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 truncate",children:[r.jsx(Mn,{className:"w-3.5 h-3.5 text-gray-400"}),e.contact.email]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Order"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:lt(e.totals.totalCents/100)}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.items?.length||0," item",e.items?.length!==1?"s":""]})]})]}),e.fulfillmentType==="delivery"&&e.deliveryAddress&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Delivery To"}),r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx(bn,{className:"w-3.5 h-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("span",{className:"line-clamp-2",children:[e.deliveryAddress.streetLine1,e.deliveryAddress.city&&`, ${e.deliveryAddress.city}`]})]})]})]}),e.fulfillmentType==="delivery"&&e.deliveryAddress&&r.jsxs("div",{className:"sm:hidden flex items-start gap-2 text-sm text-gray-600 pt-2 border-t border-gray-100",children:[r.jsx(bn,{className:"w-3.5 h-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("span",{className:"line-clamp-1",children:[e.deliveryAddress.streetLine1,e.deliveryAddress.city&&`, ${e.deliveryAddress.city}`]})]})]}),r.jsxs("div",{className:"px-4 sm:px-5 py-3 bg-gray-50 border-t border-gray-100 flex flex-wrap items-center justify-end gap-2",children:[xP(e)&&r.jsxs(re,{size:"sm",onClick:o=>{o.stopPropagation(),t()},disabled:i,className:"gap-2 bg-emerald-600 hover:bg-emerald-700 text-white disabled:opacity-50 flex-1 sm:flex-none",children:[r.jsx(Hr,{className:"w-4 h-4"}),r.jsx("span",{className:"sm:inline",children:a==="pickup"?"Saving...":"Picked Up"})]}),yP(e)&&r.jsxs(re,{size:"sm",className:"text-red-600 bg-red-50 hover:bg-red-100 gap-2 flex-1 sm:flex-none",onClick:o=>{o.stopPropagation(),n()},disabled:i,children:[r.jsx(ms,{className:"w-4 h-4"}),r.jsx("span",{children:a==="cancel"?"Cancelling...":"Cancel"})]}),!xP(e)&&!yP(e)&&r.jsx("span",{className:"text-xs text-gray-400 italic",children:"Completed"})]})]}),vP=()=>{const[e,t]=Hn(MS),n=Je(bpe),s=Je(_w),i=Je(kw),a=Je(JL),o=wt(wpe),c=wt(jpe),d=wt(Spe),[h,f]=x.useState({}),[m,g]=x.useState(null),[y,b]=x.useState(Ym[0]),[j,S]=x.useState(""),[_,N]=x.useState(null),C=a.state==="hasData"&&a.data?.isAdmin;x.useEffect(()=>{C&&o()},[e.status,e.fulfillment,C,o]),x.useEffect(()=>{if(!C)return;const V=Fe.channel("admin-orders-stream").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>o()).subscribe();return()=>{Fe.removeChannel(V)}},[C,o]);const T=async V=>{f(Q=>({...Q,[V]:"pickup"}));try{await c(V),Ne.success("Order marked as picked up")}catch(Q){Ne.error(Q?.message||"Failed to update order")}finally{f(Q=>({...Q,[V]:null}))}},M=V=>{g(V),b(Ym[0]),S("")},P=()=>{g(null),b(Ym[0]),S("")},E=async()=>{if(!m)return;const V=(j.trim()||y||"Canceled by merchant").trim();f(Q=>({...Q,[m.id]:"cancel"}));try{await d({orderId:m.id,reason:V}),Ne.success(`Order #${m.orderNumber??m.shortCode} canceled`),P()}catch(Q){Ne.error(Q?.message||"Failed to cancel order")}finally{f(Q=>({...Q,[m.id]:null}))}},R=V=>!!h[V],q=x.useMemo(()=>{const V=n.filter(A=>!Jo.includes(A.status)),Q=n.filter(A=>A.fulfillmentType==="pickup"&&!Jo.includes(A.status)),G=n.filter(A=>A.fulfillmentType==="delivery"&&!Jo.includes(A.status));return{active:V.length,pickups:Q.length,deliveries:G.length}},[n]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage pickup and delivery orders"})]}),r.jsxs(re,{onClick:()=>o(),disabled:s,className:"gap-2 bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 disabled:opacity-50",children:[r.jsx(Da,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[r.jsx("div",{className:"bg-amber-50 rounded-xl p-3 sm:p-4 border border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center flex-shrink-0",children:r.jsx(Jt,{className:"w-5 h-5 text-amber-700"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:q.active}),r.jsx("p",{className:"text-xs text-amber-700",children:"Active Orders"})]})]})}),r.jsx("div",{className:"bg-purple-50 rounded-xl p-3 sm:p-4 border border-purple-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0",children:r.jsx(nn,{className:"w-5 h-5 text-purple-700"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:q.pickups}),r.jsx("p",{className:"text-xs text-purple-700",children:"Pickups"})]})]})}),r.jsx("div",{className:"bg-blue-50 rounded-xl p-3 sm:p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:r.jsx(zs,{className:"w-5 h-5 text-blue-700"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:q.deliveries}),r.jsx("p",{className:"text-xs text-blue-700",children:"Deliveries"})]})]})})]}),r.jsx(we,{children:r.jsx(pt,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative",style:{flex:"1 1 0%",minWidth:0},children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),r.jsx(Me,{placeholder:"Search by name, phone, email, or order #",value:e.search,onChange:V=>t(Q=>({...Q,search:V.target.value})),paddingLeft:44,className:"w-full"})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs(dl,{value:e.status,onValueChange:V=>t(Q=>({...Q,status:V})),children:[r.jsx(hl,{className:"w-full sm:w-[180px] h-11",children:r.jsx(ul,{placeholder:"Status"})}),r.jsxs(fl,{align:"end",children:[r.jsx(Gt,{value:"all",children:"All Statuses"}),r.jsx(Gt,{value:"created",children:"Created"}),r.jsx(Gt,{value:"accepted",children:"Accepted"}),r.jsx(Gt,{value:"in_kitchen",children:"In Kitchen"}),r.jsx(Gt,{value:"ready",children:"Ready"}),r.jsx(Gt,{value:"courier_requested",children:"Courier Requested"}),r.jsx(Gt,{value:"driver_en_route",children:"Driver En Route"}),r.jsx(Gt,{value:"picked_up",children:"Picked Up"}),r.jsx(Gt,{value:"delivered",children:"Delivered"}),r.jsx(Gt,{value:"canceled",children:"Canceled"})]})]})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs(dl,{value:e.fulfillment,onValueChange:V=>t(Q=>({...Q,fulfillment:V})),children:[r.jsx(hl,{className:"w-full sm:w-[160px] h-11",children:r.jsx(ul,{placeholder:"Fulfillment"})}),r.jsxs(fl,{align:"end",children:[r.jsx(Gt,{value:"all",children:"All Types"}),r.jsx(Gt,{value:"pickup",children:"Pickup Only"}),r.jsx(Gt,{value:"delivery",children:"Delivery Only"})]})]})})]})})}),i&&r.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 flex items-center gap-2",children:[r.jsx(On,{className:"w-4 h-4"}),i]}),r.jsx(st,{mode:"popLayout",children:s&&n.length===0?r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-brand rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading orders..."})]}):n.length===0?r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-300",children:[r.jsx(nn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No orders found"}),r.jsx("p",{className:"text-gray-500 text-sm",children:e.search||e.status!=="all"||e.fulfillment!=="all"?"Try adjusting your filters":"New orders will appear here"})]}):r.jsx("div",{className:"space-y-4",children:n.map(V=>r.jsx(pge,{order:V,onPickedUp:()=>T(V.id),onCancel:()=>M(V),onClick:()=>N(V),isLoading:R(V.id),actionState:h[V.id]||null},V.id))})}),r.jsx(Kr,{open:!!m,onOpenChange:V=>!V&&P(),children:r.jsxs(kr,{className:"sm:max-w-md",children:[r.jsxs(Ws,{children:[r.jsx(ps,{children:"Cancel Order & Issue Refund"}),r.jsx(Hs,{children:"The customer will be notified via SMS/email. Refunds are processed automatically through Stripe."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Select a reason:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Ym.map(V=>r.jsx(re,{type:"button",size:"sm",onClick:()=>{b(V),S("")},className:y===V?"bg-brand hover:bg-brand-hover text-white":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200",children:V},V))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Custom note (optional):"}),r.jsx(ao,{value:j,onChange:V=>S(V.target.value),placeholder:"Add a custom message for the customer...",rows:3})]}),r.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 text-xs text-amber-800 flex items-start gap-2",children:[r.jsx(On,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),r.jsx("p",{children:"Refunds are sent to the original payment method. Customers are notified automatically."})]})]}),r.jsxs(sh,{className:"gap-2",children:[r.jsx(re,{type:"button",onClick:P,className:"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200",children:"Keep Order"}),r.jsx(re,{type:"button",className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50",onClick:E,disabled:!m||R(m?.id||""),children:m&&R(m.id)?"Cancelling...":"Cancel Order"})]})]})}),r.jsx(fge,{order:_,open:!!_,onClose:()=>N(null),onPickedUp:()=>{_&&T(_.id)},onCancel:()=>{_&&(N(null),M(_))},isLoading:_?R(_.id):!1})]})},gge="make-a05c3297-product-images";function xge(){return gge}var Ax="Switch",[yge]=Cn(Ax),[vge,bge]=yge(Ax),_$=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[g,y]=x.useState(null),b=He(t,C=>y(C)),j=x.useRef(!1),S=g?f||!!g.closest("form"):!0,[_,N]=_r({prop:i,defaultProp:a??!1,onChange:h,caller:Ax});return r.jsxs(vge,{scope:n,checked:_,disabled:c,children:[r.jsx(ke.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":T$(_),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:b,onClick:ye(e.onClick,C=>{N(T=>!T),S&&(j.current=C.isPropagationStopped(),j.current||C.stopPropagation())})}),S&&r.jsx(E$,{control:g,bubbles:!j.current,name:s,value:d,checked:_,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});_$.displayName=Ax;var k$="SwitchThumb",C$=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=bge(k$,n);return r.jsx(ke.span,{"data-state":T$(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});C$.displayName=k$;var wge="SwitchBubbleInput",E$=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},a)=>{const o=x.useRef(null),c=He(o,a),d=Sx(n),h=Wg(t);return x.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&y){const b=new Event("click",{bubbles:s});y.call(f,n),f.dispatchEvent(b)}},[d,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E$.displayName=wge;function T$(e){return e?"checked":"unchecked"}var jge=_$,Sge=C$;function jp({className:e,...t}){return r.jsx(jge,{"data-slot":"switch",className:_e("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Sge,{"data-slot":"switch-thumb",className:_e("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Nge(e){const t=_ge(e),n=x.forwardRef((s,i)=>{const{children:a,...o}=s,c=x.Children.toArray(a),d=c.find(Cge);if(d){const h=d.props.children,f=c.map(m=>m===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:m);return r.jsx(t,{...o,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,f):null})}return r.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function _ge(e){const t=x.forwardRef((n,s)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=Tge(i),c=Ege(a,i.props);return i.type!==x.Fragment&&(c.ref=s?ar(s,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kge=Symbol("radix.slottable");function Cge(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kge}function Ege(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Tge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ix="Popover",[P$]=Cn(Ix,[ro]),ef=ro(),[Pge,co]=P$(Ix),R$=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,c=ef(t),d=x.useRef(null),[h,f]=x.useState(!1),[m,g]=_r({prop:s,defaultProp:i??!1,onChange:a,caller:Ix});return r.jsx(Hg,{...c,children:r.jsx(Pge,{scope:t,contentId:hn(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:h,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:o,children:n})})};R$.displayName=Ix;var A$="PopoverAnchor",Rge=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=co(A$,n),a=ef(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return x.useEffect(()=>(o(),()=>c()),[o,c]),r.jsx(Fh,{...a,...s,ref:t})});Rge.displayName=A$;var I$="PopoverTrigger",O$=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=co(I$,n),a=ef(n),o=He(t,i.triggerRef),c=r.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F$(i.open),...s,ref:o,onClick:ye(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:r.jsx(Fh,{asChild:!0,...a,children:c})});O$.displayName=I$;var $S="PopoverPortal",[Age,Ige]=P$($S,{forceMount:void 0}),M$=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,a=co($S,t);return r.jsx(Age,{scope:t,forceMount:n,children:r.jsx(fn,{present:n||a.open,children:r.jsx(fd,{asChild:!0,container:i,children:s})})})};M$.displayName=$S;var Kc="PopoverContent",D$=x.forwardRef((e,t)=>{const n=Ige(Kc,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,a=co(Kc,e.__scopePopover);return r.jsx(fn,{present:s||a.open,children:a.modal?r.jsx(Mge,{...i,ref:t}):r.jsx(Dge,{...i,ref:t})})});D$.displayName=Kc;var Oge=Nge("PopoverContent.RemoveScroll"),Mge=x.forwardRef((e,t)=>{const n=co(Kc,e.__scopePopover),s=x.useRef(null),i=He(t,s),a=x.useRef(!1);return x.useEffect(()=>{const o=s.current;if(o)return Kg(o)},[]),r.jsx(zh,{as:Oge,allowPinchZoom:!0,children:r.jsx(L$,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dge=x.forwardRef((e,t)=>{const n=co(Kc,e.__scopePopover),s=x.useRef(!1),i=x.useRef(!1);return r.jsx(L$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),L$=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,...m}=e,g=co(Kc,n),y=ef(n);return Fg(),r.jsx(Lh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(dd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:r.jsx(qg,{"data-state":F$(g.open),role:"dialog",id:g.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$$="PopoverClose",Lge=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=co($$,n);return r.jsx(ke.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>i.onOpenChange(!1))})});Lge.displayName=$$;var $ge="PopoverArrow",Fge=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=ef(n);return r.jsx(Gg,{...i,...s,ref:t})});Fge.displayName=$ge;function F$(e){return e?"open":"closed"}var Uge=R$,zge=O$,Bge=M$,U$=D$;const bP=Uge,wP=zge,Aw=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Bge,{children:r.jsx(U$,{ref:i,"data-slot":"popover-content",align:t,sideOffset:n,className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})}));Aw.displayName=U$.displayName;var jP=1,Vge=.9,Wge=.8,Hge=.17,Iv=.1,Ov=.999,qge=.9999,Gge=.99,Kge=/[\\\/_+.#"@\[\(\{&]/,Yge=/[\\\/_+.#"@\[\(\{&]/g,Jge=/[\s-]/,z$=/[\s-]/g;function Iw(e,t,n,s,i,a,o){if(a===t.length)return i===e.length?jP:Gge;var c=`${i},${a}`;if(o[c]!==void 0)return o[c];for(var d=s.charAt(a),h=n.indexOf(d,i),f=0,m,g,y,b;h>=0;)m=Iw(e,t,n,s,h+1,a+1,o),m>f&&(h===i?m*=jP:Kge.test(e.charAt(h-1))?(m*=Wge,y=e.slice(i,h-1).match(Yge),y&&i>0&&(m*=Math.pow(Ov,y.length))):Jge.test(e.charAt(h-1))?(m*=Vge,b=e.slice(i,h-1).match(z$),b&&i>0&&(m*=Math.pow(Ov,b.length))):(m*=Hge,i>0&&(m*=Math.pow(Ov,h-i))),e.charAt(h)!==t.charAt(a)&&(m*=qge)),(m<Iv&&n.charAt(h-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(h-1)!==s.charAt(a))&&(g=Iw(e,t,n,s,h+1,a+2,o),g*Iv>m&&(m=g*Iv)),m>f&&(f=m),h=n.indexOf(d,h+1);return o[c]=f,f}function SP(e){return e.toLowerCase().replace(z$," ")}function Xge(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Iw(e,t,SP(e),SP(t),0,0,{})}var mu='[cmdk-group=""]',Mv='[cmdk-group-items=""]',Qge='[cmdk-group-heading=""]',B$='[cmdk-item=""]',NP=`${B$}:not([aria-disabled="true"])`,Ow="cmdk-item-select",lc="data-value",Zge=(e,t,n)=>Xge(e,t,n),V$=x.createContext(void 0),tf=()=>x.useContext(V$),W$=x.createContext(void 0),FS=()=>x.useContext(W$),H$=x.createContext(void 0),q$=x.forwardRef((e,t)=>{let n=cc(()=>{var D,ee;return{search:"",value:(ee=(D=e.value)!=null?D:e.defaultValue)!=null?ee:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=cc(()=>new Set),i=cc(()=>new Map),a=cc(()=>new Map),o=cc(()=>new Set),c=G$(e),{label:d,children:h,value:f,onValueChange:m,filter:g,shouldFilter:y,loop:b,disablePointerSelection:j=!1,vimBindings:S=!0,..._}=e,N=hn(),C=hn(),T=hn(),M=x.useRef(null),P=dxe();ml(()=>{if(f!==void 0){let D=f.trim();n.current.value=D,E.emit()}},[f]),ml(()=>{P(6,A)},[]);let E=x.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>n.current,setState:(D,ee,z)=>{var L,X,K,se;if(!Object.is(n.current[D],ee)){if(n.current[D]=ee,D==="search")G(),V(),P(1,Q);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ue=document.getElementById(T);ue?ue.focus():(L=document.getElementById(N))==null||L.focus()}if(P(7,()=>{var ue;n.current.selectedItemId=(ue=J())==null?void 0:ue.id,E.emit()}),z||P(5,A),((X=c.current)==null?void 0:X.value)!==void 0){let ue=ee??"";(se=(K=c.current).onValueChange)==null||se.call(K,ue);return}}E.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),R=x.useMemo(()=>({value:(D,ee,z)=>{var L;ee!==((L=a.current.get(D))==null?void 0:L.value)&&(a.current.set(D,{value:ee,keywords:z}),n.current.filtered.items.set(D,q(ee,z)),P(2,()=>{V(),E.emit()}))},item:(D,ee)=>(s.current.add(D),ee&&(i.current.has(ee)?i.current.get(ee).add(D):i.current.set(ee,new Set([D]))),P(3,()=>{G(),V(),n.current.value||Q(),E.emit()}),()=>{a.current.delete(D),s.current.delete(D),n.current.filtered.items.delete(D);let z=J();P(4,()=>{G(),z?.getAttribute("id")===D&&Q(),E.emit()})}),group:D=>(i.current.has(D)||i.current.set(D,new Set),()=>{a.current.delete(D),i.current.delete(D)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:N,inputId:T,labelId:C,listInnerRef:M}),[]);function q(D,ee){var z,L;let X=(L=(z=c.current)==null?void 0:z.filter)!=null?L:Zge;return D?X(D,n.current.search,ee):0}function V(){if(!n.current.search||c.current.shouldFilter===!1)return;let D=n.current.filtered.items,ee=[];n.current.filtered.groups.forEach(L=>{let X=i.current.get(L),K=0;X.forEach(se=>{let ue=D.get(se);K=Math.max(ue,K)}),ee.push([L,K])});let z=M.current;$().sort((L,X)=>{var K,se;let ue=L.getAttribute("id"),de=X.getAttribute("id");return((K=D.get(de))!=null?K:0)-((se=D.get(ue))!=null?se:0)}).forEach(L=>{let X=L.closest(Mv);X?X.appendChild(L.parentElement===X?L:L.closest(`${Mv} > *`)):z.appendChild(L.parentElement===z?L:L.closest(`${Mv} > *`))}),ee.sort((L,X)=>X[1]-L[1]).forEach(L=>{var X;let K=(X=M.current)==null?void 0:X.querySelector(`${mu}[${lc}="${encodeURIComponent(L[0])}"]`);K?.parentElement.appendChild(K)})}function Q(){let D=$().find(z=>z.getAttribute("aria-disabled")!=="true"),ee=D?.getAttribute(lc);E.setState("value",ee||void 0)}function G(){var D,ee,z,L;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let X=0;for(let K of s.current){let se=(ee=(D=a.current.get(K))==null?void 0:D.value)!=null?ee:"",ue=(L=(z=a.current.get(K))==null?void 0:z.keywords)!=null?L:[],de=q(se,ue);n.current.filtered.items.set(K,de),de>0&&X++}for(let[K,se]of i.current)for(let ue of se)if(n.current.filtered.items.get(ue)>0){n.current.filtered.groups.add(K);break}n.current.filtered.count=X}function A(){var D,ee,z;let L=J();L&&(((D=L.parentElement)==null?void 0:D.firstChild)===L&&((z=(ee=L.closest(mu))==null?void 0:ee.querySelector(Qge))==null||z.scrollIntoView({block:"nearest"})),L.scrollIntoView({block:"nearest"}))}function J(){var D;return(D=M.current)==null?void 0:D.querySelector(`${B$}[aria-selected="true"]`)}function $(){var D;return Array.from(((D=M.current)==null?void 0:D.querySelectorAll(NP))||[])}function F(D){let ee=$()[D];ee&&E.setState("value",ee.getAttribute(lc))}function B(D){var ee;let z=J(),L=$(),X=L.findIndex(se=>se===z),K=L[X+D];(ee=c.current)!=null&&ee.loop&&(K=X+D<0?L[L.length-1]:X+D===L.length?L[0]:L[X+D]),K&&E.setState("value",K.getAttribute(lc))}function O(D){let ee=J(),z=ee?.closest(mu),L;for(;z&&!L;)z=D>0?lxe(z,mu):cxe(z,mu),L=z?.querySelector(NP);L?E.setState("value",L.getAttribute(lc)):B(D)}let Z=()=>F($().length-1),H=D=>{D.preventDefault(),D.metaKey?Z():D.altKey?O(1):B(1)},U=D=>{D.preventDefault(),D.metaKey?F(0):D.altKey?O(-1):B(-1)};return x.createElement(ke.div,{ref:t,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:D=>{var ee;(ee=_.onKeyDown)==null||ee.call(_,D);let z=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||z))switch(D.key){case"n":case"j":{S&&D.ctrlKey&&H(D);break}case"ArrowDown":{H(D);break}case"p":case"k":{S&&D.ctrlKey&&U(D);break}case"ArrowUp":{U(D);break}case"Home":{D.preventDefault(),F(0);break}case"End":{D.preventDefault(),Z();break}case"Enter":{D.preventDefault();let L=J();if(L){let X=new Event(Ow);L.dispatchEvent(X)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:hxe},d),Ox(e,D=>x.createElement(W$.Provider,{value:E},x.createElement(V$.Provider,{value:R},D))))}),exe=x.forwardRef((e,t)=>{var n,s;let i=hn(),a=x.useRef(null),o=x.useContext(H$),c=tf(),d=G$(e),h=(s=(n=d.current)==null?void 0:n.forceMount)!=null?s:o?.forceMount;ml(()=>{if(!h)return c.item(i,o?.id)},[h]);let f=K$(i,a,[e.value,e.children,a],e.keywords),m=FS(),g=Ja(P=>P.value&&P.value===f.current),y=Ja(P=>h||c.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);x.useEffect(()=>{let P=a.current;if(!(!P||e.disabled))return P.addEventListener(Ow,b),()=>P.removeEventListener(Ow,b)},[y,e.onSelect,e.disabled]);function b(){var P,E;j(),(E=(P=d.current).onSelect)==null||E.call(P,f.current)}function j(){m.setState("value",f.current,!0)}if(!y)return null;let{disabled:S,value:_,onSelect:N,forceMount:C,keywords:T,...M}=e;return x.createElement(ke.div,{ref:ar(a,t),...M,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!g,"data-disabled":!!S,"data-selected":!!g,onPointerMove:S||c.getDisablePointerSelection()?void 0:j,onClick:S?void 0:b},e.children)}),txe=x.forwardRef((e,t)=>{let{heading:n,children:s,forceMount:i,...a}=e,o=hn(),c=x.useRef(null),d=x.useRef(null),h=hn(),f=tf(),m=Ja(y=>i||f.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);ml(()=>f.group(o),[]),K$(o,c,[e.value,e.heading,d]);let g=x.useMemo(()=>({id:o,forceMount:i}),[i]);return x.createElement(ke.div,{ref:ar(c,t),...a,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&x.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Ox(e,y=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},x.createElement(H$.Provider,{value:g},y))))}),nxe=x.forwardRef((e,t)=>{let{alwaysRender:n,...s}=e,i=x.useRef(null),a=Ja(o=>!o.search);return!n&&!a?null:x.createElement(ke.div,{ref:ar(i,t),...s,"cmdk-separator":"",role:"separator"})}),rxe=x.forwardRef((e,t)=>{let{onValueChange:n,...s}=e,i=e.value!=null,a=FS(),o=Ja(h=>h.search),c=Ja(h=>h.selectedItemId),d=tf();return x.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),x.createElement(ke.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:i?e.value:o,onChange:h=>{i||a.setState("search",h.target.value),n?.(h.target.value)}})}),sxe=x.forwardRef((e,t)=>{let{children:n,label:s="Suggestions",...i}=e,a=x.useRef(null),o=x.useRef(null),c=Ja(h=>h.selectedItemId),d=tf();return x.useEffect(()=>{if(o.current&&a.current){let h=o.current,f=a.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let y=h.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return g.observe(h),()=>{cancelAnimationFrame(m),g.unobserve(h)}}},[]),x.createElement(ke.div,{ref:ar(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:d.listId},Ox(e,h=>x.createElement("div",{ref:ar(o,d.listInnerRef),"cmdk-list-sizer":""},h)))}),ixe=x.forwardRef((e,t)=>{let{open:n,onOpenChange:s,overlayClassName:i,contentClassName:a,container:o,...c}=e;return x.createElement(ex,{open:n,onOpenChange:s},x.createElement(tx,{container:o},x.createElement(Wh,{"cmdk-overlay":"",className:i}),x.createElement(Hh,{"aria-label":e.label,"cmdk-dialog":"",className:a},x.createElement(q$,{ref:t,...c}))))}),axe=x.forwardRef((e,t)=>Ja(n=>n.filtered.count===0)?x.createElement(ke.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oxe=x.forwardRef((e,t)=>{let{progress:n,children:s,label:i="Loading...",...a}=e;return x.createElement(ke.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Ox(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Sd=Object.assign(q$,{List:sxe,Item:exe,Input:rxe,Group:txe,Separator:nxe,Dialog:ixe,Empty:axe,Loading:oxe});function lxe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function cxe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function G$(e){let t=x.useRef(e);return ml(()=>{t.current=e}),t}var ml=typeof window>"u"?x.useEffect:x.useLayoutEffect;function cc(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Ja(e){let t=FS(),n=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,n,n)}function K$(e,t,n,s=[]){let i=x.useRef(),a=tf();return ml(()=>{var o;let c=(()=>{var h;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),d=s.map(h=>h.trim());a.value(e,c,d),(o=t.current)==null||o.setAttribute(lc,c),i.current=c}),i}var dxe=()=>{let[e,t]=x.useState(),n=cc(()=>new Map);return ml(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,i)=>{n.current.set(s,i),t({})}};function uxe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ox({asChild:e,children:t},n){return e&&x.isValidElement(t)?x.cloneElement(uxe(t),{ref:t.ref},n(t.props.children)):n(t)}var hxe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function fxe({className:e,...t}){return r.jsx(Sd,{"data-slot":"command",className:_e("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function mxe({className:e,...t}){return r.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[r.jsx(gi,{className:"size-4 shrink-0 opacity-50"}),r.jsx(Sd.Input,{"data-slot":"command-input",className:_e("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function pxe({className:e,...t}){return r.jsx(Sd.List,{"data-slot":"command-list",className:_e("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function gxe({...e}){return r.jsx(Sd.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function _P({className:e,...t}){return r.jsx(Sd.Group,{"data-slot":"command-group",className:_e("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function kP({className:e,...t}){return r.jsx(Sd.Item,{"data-slot":"command-item",className:_e("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const CP=e=>{if(!e)return null;const t=/^(\p{Emoji_Presentation}|\p{Emoji}\uFE0F)/u,n=e.match(t);return n?n[0]:null},Xm=e=>{if(!e)return"";const t=/^(\p{Emoji_Presentation}|\p{Emoji}\uFE0F)\s*/u;return e.replace(t,"").trim()},rc=e=>e.toLowerCase().trim().replace(/\s+/g," "),xxe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function yxe({value:e,onChange:t,existingCategories:n,placeholder:s="Select or create category",icon:i,onIconChange:a,categoryIconMap:o={}}){const[c,d]=x.useState(!1),[h,f]=x.useState(""),[m,g]=x.useState(!1),y=i||(e?CP(e):null)||"",b=x.useMemo(()=>Array.from(new Set(n.filter(Boolean))).sort((P,E)=>P.localeCompare(E,void 0,{sensitivity:"base"})),[n]),j=x.useMemo(()=>b.filter(P=>P.toLowerCase().includes(h.toLowerCase())),[b,h]),S=h.trim(),_=S.length>0&&!b.some(P=>{const E=Xm(P)||P;return rc(E)===rc(S)}),N=P=>{const E=Xm(P)||P;t(E),d(!1)},C=()=>{_&&(t(S),d(!1))};x.useEffect(()=>{c||f("")},[c]);const T=e?Xm(e):"",M=P=>{a?.(P),g(!1)};return r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(bP,{open:m,onOpenChange:g,children:[r.jsx(wP,{asChild:!0,children:r.jsx(re,{variant:"outline",type:"button",className:"h-10 w-12 rounded-xl p-0 text-xl hover:bg-gray-50 transition-colors shrink-0",title:"Click to change category icon",children:y})}),r.jsxs(Aw,{className:"w-[280px] p-3 rounded-2xl shadow-xl border-gray-200",align:"start",sideOffset:4,style:{zIndex:9999},children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Select category icon"}),r.jsx("div",{className:"grid grid-cols-6 gap-1",children:xxe.map(P=>r.jsx("button",{type:"button",onClick:()=>M(P),className:_e("w-9 h-9 flex items-center justify-center text-xl rounded-lg hover:bg-gray-100 transition-colors",y===P&&"bg-amber-100 ring-2 ring-amber-500"),children:P},P))})]})]}),r.jsxs(bP,{open:c,onOpenChange:d,children:[r.jsx(wP,{asChild:!0,children:r.jsxs(re,{variant:"outline",type:"button",role:"combobox","aria-expanded":c,className:_e("flex-1 justify-between rounded-xl h-10 font-normal","hover:bg-gray-50 transition-colors",!e&&"text-gray-500"),children:[r.jsx("span",{className:"truncate",children:e?T||e:s}),r.jsx(PK,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsx(Aw,{className:"p-0 rounded-2xl shadow-xl border-gray-200",align:"start",sideOffset:4,style:{zIndex:9999,width:"var(--radix-popover-trigger-width)"},onOpenAutoFocus:P=>P.preventDefault(),children:r.jsxs(fxe,{shouldFilter:!1,className:"rounded-2xl",children:[r.jsx(mxe,{placeholder:"Search or create category...",value:h,onValueChange:f,onKeyDown:P=>{P.key==="Enter"&&_&&(P.preventDefault(),C())},className:"h-11"}),r.jsxs(pxe,{className:"max-h-[300px]",children:[r.jsxs(gxe,{className:"py-6 text-center text-sm space-y-2",children:[r.jsx("p",{className:"text-gray-500",children:"No category found"}),_&&r.jsxs(re,{size:"sm",onClick:C,className:"gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[r.jsx(Us,{className:"w-4 h-4"}),'Create "',S,'"']})]}),!h&&j.length>0&&r.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(fi,{className:"w-3.5 h-3.5 text-amber-500"}),r.jsx("span",{children:"Type to create a new category"})]})}),_&&r.jsxs(_P,{children:[r.jsx("div",{className:"px-3 pt-2 pb-1",children:r.jsx("span",{className:"text-[11px] font-semibold text-amber-600 uppercase tracking-wider",children:"Create New"})}),r.jsx(kP,{value:`create-${S}`,onSelect:C,className:"cursor-pointer py-2.5 px-3 rounded-xl mx-1 my-0.5 bg-amber-50/50 hover:bg-amber-100/70",children:r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("span",{className:"w-7 h-7 flex items-center justify-center bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-lg shadow-sm",children:r.jsx(Us,{className:"w-4 h-4"})}),r.jsxs("span",{className:"font-medium text-amber-900",children:['Create "',S,'"']})]})})]}),j.length>0&&r.jsxs(_P,{children:[r.jsx("div",{className:"px-3 pt-3 pb-1",children:r.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:h?"Matching Categories":"Existing Categories"})}),j.map(P=>{const E=Xm(P)||P,R=o[E]||o[P]||CP(P)||"",q=rc(e)===rc(E)||rc(e)===rc(P);return r.jsxs(kP,{value:P,onSelect:()=>N(P),className:"cursor-pointer py-2.5 px-3 rounded-xl mx-1 my-0.5",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("span",{className:"text-xl w-7 h-7 flex items-center justify-center bg-gray-100 rounded-lg",children:R}),r.jsx("span",{className:"font-medium",children:E})]}),q&&r.jsx(In,{className:"w-4 h-4 text-green-600"})]},P)})]})]})]})})]})]})}const EP=[{value:"each",label:"Each",description:"Per item"},{value:"lb",label:"Per Pound (lb)",description:"Weight-based"},{value:"oz",label:"Per Ounce (oz)",description:"Weight-based"},{value:"kg",label:"Per Kilogram (kg)",description:"Weight-based"},{value:"g",label:"Per Gram (g)",description:"Weight-based"},{value:"pack",label:"Per Pack",description:"Bundled items"},{value:"dozen",label:"Per Dozen",description:"12 items"},{value:"bunch",label:"Per Bunch",description:"Grouped items"},{value:"piece",label:"Per Piece",description:"Individual piece"}],vxe=["halal","vegan","vegetarian","gluten-free","dairy-free","organic","kosher"],Dv={name:"",category:"",categoryIcon:"",description:"",image_url:"",price_dollars:"",price_unit:"each",dietary_tags:[],is_active:!0},TP=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(!0),[i,a]=x.useState(!1),[o,c]=x.useState(""),[d,h]=x.useState("all"),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,j]=x.useState(null),[S,_]=x.useState(null),[N,C]=x.useState(Dv),[T,M]=x.useState(!1),[P,E]=x.useState(null),R=x.useRef(null),q=Array.from(new Set(e.map(L=>L.category).filter(Boolean))),V=x.useMemo(()=>{const L={};for(const X of e)X.category&&X.metadata?.categoryIcon&&(L[X.category]=X.metadata.categoryIcon);return L},[e]),Q=L=>{const X=V[L];C(K=>({...K,category:L,categoryIcon:X||K.categoryIcon}))},G=x.useCallback(async()=>{s(!0);try{const{data:L,error:X}=await Fe.from("menu_items").select("*").order("category",{ascending:!0}).order("name",{ascending:!0});if(X)throw X;t(L||[])}catch(L){Ne.error("Failed to load products: "+(L.message||"Unknown error")),console.error("Failed to load products:",L)}finally{s(!1)}},[]);x.useEffect(()=>{G()},[G]);const A=e.filter(L=>{const X=!o||L.name.toLowerCase().includes(o.toLowerCase())||L.description?.toLowerCase().includes(o.toLowerCase())||L.category?.toLowerCase().includes(o.toLowerCase()),K=d==="all"||L.category===d;return X&&K}),J=()=>{j(null),C(Dv),E(null),m(!0)},$=L=>{j(L),C({name:L.name,category:L.category||"",categoryIcon:L.metadata?.categoryIcon||"",description:L.description||"",image_url:L.image_url||"",price_dollars:(L.price_cents/100).toFixed(2),price_unit:L.price_unit,dietary_tags:L.dietary_tags||[],is_active:L.is_active}),E(L.image_url||null),m(!0)},F=async L=>{try{const{error:X}=await Fe.from("menu_items").update({is_active:!L.is_active,updated_at:new Date().toISOString()}).eq("id",L.id);if(X)throw X;t(K=>K.map(se=>se.id===L.id?{...se,is_active:!se.is_active}:se)),Ne.success(`${L.name} is now ${L.is_active?"hidden":"visible"}`)}catch(X){Ne.error("Failed to update visibility: "+(X.message||"Unknown error"))}},B=L=>{_(L),y(!0)},O=async()=>{if(S)try{const{error:L}=await Fe.from("menu_items").delete().eq("id",S.id);if(L)throw L;t(X=>X.filter(K=>K.id!==S.id)),Ne.success(`${S.name} deleted`)}catch(L){Ne.error("Failed to delete product: "+(L.message||"Unknown error"))}finally{y(!1),_(null)}},Z=async()=>{if(!N.name.trim()){Ne.error("Product name is required");return}if(!N.category.trim()){Ne.error("Category is required");return}const L=parseFloat(N.price_dollars);if(isNaN(L)||L<0){Ne.error("Please enter a valid price");return}a(!0);try{const X=N.category.trim()||null,K=N.categoryIcon||"",ue={...b?.metadata||{},categoryIcon:K},de={name:N.name.trim(),category:X,description:N.description.trim()||null,image_url:N.image_url.trim()||null,price_cents:Math.round(L*100),price_unit:N.price_unit,dietary_tags:N.dietary_tags,is_active:N.is_active,metadata:ue,updated_at:new Date().toISOString()};if(b){const{error:le}=await Fe.from("menu_items").update(de).eq("id",b.id);if(le)throw le;t(je=>je.map(qe=>qe.id===b.id?{...qe,...de}:qe)),Ne.success("Product updated")}else{const{data:le}=await Fe.from("tenants").select("id").limit(1).single();if(!le)throw new Error("No tenant found");const{data:je,error:qe}=await Fe.from("menu_items").insert({...de,tenant_id:le.id,created_at:new Date().toISOString()}).select().single();if(qe)throw qe;t(ot=>[...ot,je]),Ne.success("Product created")}if(X){const le=e.filter(je=>je.category===X&&je.id!==b?.id);for(const je of le){const qe={...je.metadata||{},categoryIcon:K};await Fe.from("menu_items").update({metadata:qe}).eq("id",je.id)}t(je=>je.map(qe=>qe.category===X?{...qe,metadata:{...qe.metadata||{},categoryIcon:K}}:qe))}m(!1),j(null),C(Dv)}catch(X){Ne.error("Failed to save product: "+(X.message||"Unknown error")),console.error("Failed to save product:",X)}finally{a(!1)}},H=L=>{C(X=>({...X,dietary_tags:X.dietary_tags.includes(L)?X.dietary_tags.filter(K=>K!==L):[...X.dietary_tags,L]}))},U=async L=>{const X=L.target.files?.[0];if(X){if(!X.type.startsWith("image/")){Ne.error("Please upload an image file");return}if(X.size>10*1024*1024){Ne.error("Image size must be less than 10MB");return}M(!0);try{const K=new FileReader;K.onloadend=()=>{E(K.result)},K.readAsDataURL(X);const se=X.name.split(".").pop()||"jpg",le=`${(b?.id||`new-${Date.now()}`).replace(/[^a-zA-Z0-9-_]/g,"")}-${Date.now()}.${se}`,je=xge(),{data:qe,error:ot}=await Fe.storage.from(je).upload(le,X,{contentType:X.type,upsert:!0});if(ot)throw console.error(`Upload failed to bucket "${je}" on project "${e5}":`,ot),new Error(`${ot.message||"Upload failed"} (bucket: ${je})`);const{data:kt}=Fe.storage.from(je).getPublicUrl(le);if(kt?.publicUrl)C(rn=>({...rn,image_url:kt.publicUrl})),Ne.success("Image uploaded successfully!");else throw new Error("Failed to get image URL")}catch(K){console.error("Image upload error:",K),Ne.error(K.message||"Failed to upload image"),E(N.image_url||null)}finally{M(!1)}}},D=()=>{C(L=>({...L,image_url:""})),E(null),R.current&&(R.current.value="")},ee=L=>{L.preventDefault();const X=L.dataTransfer.files?.[0];if(X&&R.current){const K=new DataTransfer;K.items.add(X),R.current.files=K.files,U({target:{files:K.files}})}},z=(L,X)=>{const K=(L/100).toFixed(2);EP.find(ue=>ue.value===X);const se=X==="each"?"":` /${X}`;return`$${K}${se}`};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Products"}),r.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Manage your store inventory (",e.length," items)"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(re,{variant:"outline",size:"sm",onClick:G,disabled:n,className:"gap-2 rounded-xl",children:[r.jsx(Da,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]}),r.jsxs(re,{onClick:J,className:"gap-2 rounded-xl",children:[r.jsx(Us,{className:"w-4 h-4"}),"Add Product"]})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05},className:"flex gap-3",children:[r.jsxs("div",{className:"relative",style:{flex:"1 1 0%",minWidth:0},children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),r.jsx(Me,{placeholder:"Search products...",value:o,onChange:L=>c(L.target.value),paddingLeft:44,className:"rounded-xl w-full"})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs(dl,{value:d,onValueChange:h,children:[r.jsx(hl,{className:"rounded-xl h-11 w-[180px]",children:r.jsx(ul,{placeholder:"All Categories"})}),r.jsxs(fl,{align:"end",children:[r.jsx(Gt,{value:"all",children:"All Categories"}),q.map(L=>r.jsx(Gt,{value:L,children:L},L))]})]})})]}),n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(et,{className:"w-8 h-8 animate-spin text-gray-400"})}):A.length===0?r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[r.jsx(nn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No products found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:o||d!=="all"?"Try adjusting your filters":"Add your first product to get started"}),!o&&d==="all"&&r.jsxs(re,{onClick:J,className:"gap-2 rounded-xl",children:[r.jsx(Us,{className:"w-4 h-4"}),"Add Product"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.jsx(st,{children:A.map((L,X)=>r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:X*.03},children:r.jsx(we,{className:`rounded-2xl border-gray-100 shadow-sm hover:shadow-md transition-shadow ${L.is_active?"":"opacity-60"}`,children:r.jsxs(pt,{className:"p-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 flex-shrink-0 overflow-hidden",children:L.image_url?r.jsx("img",{src:L.image_url,alt:L.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(ZK,{className:"w-8 h-8 text-gray-300"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:L.name}),L.category&&r.jsx("p",{className:"text-xs text-gray-500",children:L.category})]}),!L.is_active&&r.jsx(_t,{variant:"secondary",className:"text-xs flex-shrink-0",children:"Hidden"})]}),r.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:z(L.price_cents,L.price_unit)}),L.dietary_tags?.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[L.dietary_tags.slice(0,3).map(K=>r.jsx(_t,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:K},K)),L.dietary_tags.length>3&&r.jsxs(_t,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:["+",L.dietary_tags.length-3]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 pt-4 border-t border-gray-100",children:[r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>F(L),className:"h-8 w-8 p-0 rounded-lg",title:L.is_active?"Hide product":"Show product",children:L.is_active?r.jsx(jc,{className:"w-4 h-4 text-gray-500"}):r.jsx(wc,{className:"w-4 h-4 text-gray-400"})}),r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>$(L),className:"h-8 w-8 p-0 rounded-lg",title:"Edit product",children:r.jsx(zI,{className:"w-4 h-4 text-gray-500"})}),r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>B(L),className:"h-8 w-8 p-0 rounded-lg text-red-500 hover:text-red-600 hover:bg-red-50",title:"Delete product",children:r.jsx(Rh,{className:"w-4 h-4"})})]})]})})},L.id))})}),r.jsx(Kr,{open:f,onOpenChange:m,children:r.jsxs(kr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ws,{children:[r.jsx(ps,{children:b?"Edit Product":"Add New Product"}),r.jsx(Hs,{children:b?"Update the product details below":"Fill in the details to create a new product"})]}),r.jsxs("div",{className:"space-y-5 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{htmlFor:"name",className:"text-xs font-medium text-gray-500",children:"Product Name *"}),r.jsx(Me,{id:"name",placeholder:"e.g. Ribeye Steak",value:N.name,onChange:L=>C(X=>({...X,name:L.target.value})),className:"rounded-xl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Category *"}),r.jsx(yxe,{value:N.category,onChange:Q,existingCategories:q,placeholder:"Select or create category",icon:N.categoryIcon,onIconChange:L=>C(X=>({...X,categoryIcon:L})),categoryIconMap:V})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{htmlFor:"description",className:"text-xs font-medium text-gray-500",children:"Description"}),r.jsx(ao,{id:"description",placeholder:"Brief description of the product...",value:N.description,onChange:L=>C(X=>({...X,description:L.target.value})),className:"rounded-xl resize-none",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{htmlFor:"price",className:"text-xs font-medium text-gray-500",children:"Price ($) *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ii,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),r.jsx(Me,{id:"price",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:N.price_dollars,onChange:L=>C(X=>({...X,price_dollars:L.target.value})),paddingLeft:44,className:"rounded-xl"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Price Unit *"}),r.jsxs(dl,{value:N.price_unit,onValueChange:L=>C(X=>({...X,price_unit:L})),children:[r.jsx(hl,{className:"rounded-xl",children:r.jsx(ul,{placeholder:"Select unit"})}),r.jsx(fl,{children:EP.map(L=>r.jsx(Gt,{value:L.value,children:r.jsx("span",{className:"flex items-center gap-2",children:L.label})},L.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Product Image"}),P||N.image_url?r.jsxs("div",{className:"relative rounded-xl border-2 border-gray-200 overflow-hidden bg-gray-50",children:[r.jsx("img",{src:P||N.image_url,alt:"Product preview",className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r.jsxs(re,{type:"button",size:"sm",variant:"secondary",onClick:()=>R.current?.click(),disabled:T,className:"shadow-lg rounded-lg",children:[r.jsx(Ju,{className:"w-4 h-4 mr-1"}),"Replace"]}),r.jsx(re,{type:"button",size:"sm",variant:"destructive",onClick:D,disabled:T,className:"shadow-lg rounded-lg",children:r.jsx(ir,{className:"w-4 h-4"})})]}),T&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx(et,{className:"w-8 h-8 animate-spin text-white"})})]}):r.jsxs("div",{onClick:()=>R.current?.click(),onDragOver:L=>L.preventDefault(),onDrop:ee,className:"relative rounded-xl border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors cursor-pointer bg-gray-50 hover:bg-gray-100 p-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Ju,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]}),T&&r.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center rounded-xl",children:r.jsx(et,{className:"w-8 h-8 animate-spin text-gray-600"})})]}),r.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:U,className:"hidden"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Dietary Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:vxe.map(L=>r.jsx(_t,{variant:N.dietary_tags.includes(L)?"default":"outline",className:"cursor-pointer capitalize transition-colors",onClick:()=>H(L),children:L},L))})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"visibility",className:"font-medium text-gray-900",children:"Visible in Store"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.is_active?"Product is visible to customers":"Product is hidden from customers"})]}),r.jsx(jp,{id:"visibility",checked:N.is_active,onCheckedChange:L=>C(X=>({...X,is_active:L}))})]})]}),r.jsxs(sh,{className:"gap-2 sm:gap-0",children:[r.jsx(re,{variant:"outline",onClick:()=>m(!1),className:"rounded-xl",children:"Cancel"}),r.jsxs(re,{onClick:Z,disabled:i,className:"rounded-xl gap-2",children:[i&&r.jsx(et,{className:"w-4 h-4 animate-spin"}),b?"Save Changes":"Create Product"]})]})]})}),r.jsx(Kr,{open:g,onOpenChange:y,children:r.jsxs(kr,{className:"max-w-sm",children:[r.jsxs(Ws,{children:[r.jsxs(ps,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(On,{className:"w-5 h-5"}),"Delete Product"]}),r.jsxs(Hs,{children:["Are you sure you want to delete ",r.jsx("strong",{children:S?.name}),"? This action cannot be undone."]})]}),r.jsxs(sh,{className:"gap-2 sm:gap-0",children:[r.jsx(re,{variant:"outline",onClick:()=>y(!1),className:"rounded-xl",children:"Cancel"}),r.jsx(re,{variant:"destructive",onClick:O,className:"rounded-xl",children:"Delete"})]})]})})]})},PP={code:"",name:"",description:"",discount_type:"percentage",discount_value:"",min_subtotal_dollars:"",max_discount_dollars:"",first_time_only:!1,one_per_customer:!0,start_date:new Date().toISOString().split("T")[0],expire_date:"",usage_limit:"",is_active:!0},RP=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(!0),[i,a]=x.useState(!1),[o,c]=x.useState(""),[d,h]=x.useState("all"),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,j]=x.useState(null),[S,_]=x.useState(null),[N,C]=x.useState(PP),T=x.useCallback(async()=>{s(!0);try{const{data:A}=await Fe.auth.getSession(),J=A?.session?.access_token,$=await fetch("undefined/functions/v1/market-server/admin/promos",{headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to fetch promos");const F=await $.json();t(F.promos||[])}catch(A){console.error("Failed to fetch promos:",A),Ne.error("Failed to load promos")}finally{s(!1)}},[]);x.useEffect(()=>{T()},[T]);const M=e.filter(A=>{const J=A.code.toLowerCase().includes(o.toLowerCase())||A.name.toLowerCase().includes(o.toLowerCase()),$=d==="all"||d==="active"&&A.is_active||d==="inactive"&&!A.is_active;return J&&$}),P=()=>{j(null),C(PP),m(!0)},E=A=>{j(A),C({code:A.code,name:A.name,description:A.description||"",discount_type:A.discount_type,discount_value:A.discount_type==="percentage"?A.discount_value.toString():(A.discount_value/100).toFixed(2),min_subtotal_dollars:(A.min_subtotal_cents/100).toFixed(2),max_discount_dollars:A.max_discount_cents?(A.max_discount_cents/100).toFixed(2):"",first_time_only:A.first_time_only,one_per_customer:A.one_per_customer,start_date:A.start_date.split("T")[0],expire_date:A.expire_date?A.expire_date.split("T")[0]:"",usage_limit:A.usage_limit?.toString()||"",is_active:A.is_active}),m(!0)},R=async()=>{if(!N.code.trim()||!N.name.trim()||!N.discount_value){Ne.error("Please fill in all required fields");return}a(!0);try{const{data:A}=await Fe.auth.getSession(),J=A?.session?.access_token,$={code:N.code.toUpperCase().trim(),name:N.name.trim(),description:N.description.trim()||null,discount_type:N.discount_type,discount_value:N.discount_type==="percentage"?parseInt(N.discount_value):Math.round(parseFloat(N.discount_value)*100),min_subtotal_cents:N.min_subtotal_dollars?Math.round(parseFloat(N.min_subtotal_dollars)*100):0,max_discount_cents:N.max_discount_dollars?Math.round(parseFloat(N.max_discount_dollars)*100):null,first_time_only:N.first_time_only,one_per_customer:N.one_per_customer,start_date:N.start_date,expire_date:N.expire_date||null,usage_limit:N.usage_limit?parseInt(N.usage_limit):null,is_active:N.is_active},F=b?`undefined/functions/v1/market-server/admin/promos/${b.id}`:"undefined/functions/v1/market-server/admin/promos",B=await fetch(F,{method:b?"PUT":"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify($)});if(!B.ok){const O=await B.json();throw new Error(O.error||"Failed to save promo")}Ne.success(b?"Promo updated":"Promo created"),m(!1),T()}catch(A){console.error("Failed to save promo:",A),Ne.error(A.message||"Failed to save promo")}finally{a(!1)}},q=async()=>{if(S){a(!0);try{const{data:A}=await Fe.auth.getSession(),J=A?.session?.access_token;if(!(await fetch(`undefined/functions/v1/market-server/admin/promos/${S.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).ok)throw new Error("Failed to delete promo");Ne.success("Promo deleted"),y(!1),_(null),T()}catch(A){console.error("Failed to delete promo:",A),Ne.error("Failed to delete promo")}finally{a(!1)}}},V=A=>A.expire_date?new Date(A.expire_date)<new Date:!1,Q=A=>A.usage_limit?A.usage_count>=A.usage_limit:!1,G=A=>A.discount_type==="percentage"?`${A.discount_value}% off`:`$${(A.discount_value/100).toFixed(2)} off`;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Promo Codes"}),r.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:"Manage discount codes and promotions"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(re,{variant:"outline",size:"sm",onClick:T,disabled:n,className:"gap-2 rounded-xl",children:[r.jsx(Da,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]}),r.jsxs(re,{size:"sm",onClick:P,className:"gap-2 rounded-xl bg-brand hover:bg-brand/90",children:[r.jsx(Us,{className:"w-4 h-4"}),"Add Promo"]})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05},className:"flex gap-3",children:[r.jsxs("div",{className:"relative",style:{flex:"1 1 0%",minWidth:0},children:[r.jsx(gi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none z-10"}),r.jsx(Me,{placeholder:"Search promos...",value:o,onChange:A=>c(A.target.value),paddingLeft:44,className:"rounded-xl w-full"})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs(dl,{value:d,onValueChange:A=>h(A),children:[r.jsx(hl,{className:"rounded-xl h-11 w-[180px]",children:r.jsx(ul,{placeholder:"Status"})}),r.jsxs(fl,{align:"end",children:[r.jsx(Gt,{value:"all",children:"All Status"}),r.jsx(Gt,{value:"active",children:"Active"}),r.jsx(Gt,{value:"inactive",children:"Inactive"})]})]})})]}),n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(et,{className:"w-8 h-8 animate-spin text-gray-400"})}):M.length===0?r.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 flex items-center justify-center mx-auto mb-4",children:r.jsx(hp,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"No promos found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try a different search term":"Create your first promo code"}),!o&&r.jsxs(re,{onClick:P,className:"rounded-xl gap-2",children:[r.jsx(Us,{className:"w-4 h-4"}),"Add Promo"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.jsx(st,{mode:"popLayout",children:M.map((A,J)=>r.jsx(W.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:J*.03},children:r.jsx(we,{className:`rounded-2xl border-gray-100 shadow-sm hover:shadow-md transition-shadow ${!A.is_active||V(A)||Q(A)?"opacity-60":""}`,children:r.jsxs(pt,{className:"p-5",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${A.discount_type==="percentage"?"bg-blue-100":"bg-green-100"}`,children:A.discount_type==="percentage"?r.jsx(Yu,{className:"w-5 h-5 text-blue-600"}):r.jsx(ii,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-mono font-bold text-gray-900",children:A.code}),r.jsx("p",{className:"text-xs text-gray-500",children:A.name})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(re,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg",onClick:()=>E(A),children:r.jsx(zI,{className:"w-4 h-4"})}),r.jsx(re,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>{_(A),y(!0)},children:r.jsx(Rh,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_t,{variant:"secondary",className:`rounded-lg ${A.discount_type==="percentage"?"bg-blue-50 text-blue-700":"bg-green-50 text-green-700"}`,children:G(A)}),A.max_discount_cents&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(max $",(A.max_discount_cents/100).toFixed(0),")"]})]}),A.min_subtotal_cents>0&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Min order: $",(A.min_subtotal_cents/100).toFixed(0)]}),r.jsxs("div",{className:"flex flex-wrap gap-1.5 pt-1",children:[A.is_active?r.jsxs(_t,{variant:"secondary",className:"rounded-lg bg-emerald-50 text-emerald-700 gap-1",children:[r.jsx(Ra,{className:"w-3 h-3"}),"Active"]}):r.jsxs(_t,{variant:"secondary",className:"rounded-lg bg-gray-100 text-gray-600 gap-1",children:[r.jsx(ms,{className:"w-3 h-3"}),"Inactive"]}),V(A)&&r.jsxs(_t,{variant:"secondary",className:"rounded-lg bg-red-50 text-red-700 gap-1",children:[r.jsx(Jt,{className:"w-3 h-3"}),"Expired"]}),Q(A)&&r.jsxs(_t,{variant:"secondary",className:"rounded-lg bg-amber-50 text-amber-700 gap-1",children:[r.jsx(Nr,{className:"w-3 h-3"}),"Limit Reached"]}),A.first_time_only&&r.jsx(_t,{variant:"secondary",className:"rounded-lg bg-purple-50 text-purple-700",children:"First-time only"})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100 mt-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Used: ",A.usage_count,A.usage_limit?`/${A.usage_limit}`:""]}),A.expire_date&&r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(tl,{className:"w-3 h-3"}),new Date(A.expire_date).toLocaleDateString()]})]})]})]})})},A.id))})}),r.jsx(Kr,{open:f,onOpenChange:m,children:r.jsxs(kr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ws,{children:[r.jsx(ps,{children:b?"Edit Promo":"Create Promo"}),r.jsx(Hs,{children:b?"Update promo code details":"Create a new promo code for your customers"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Code *"}),r.jsx(Me,{placeholder:"FRESH20",value:N.code,onChange:A=>C({...N,code:A.target.value.toUpperCase()}),className:"rounded-xl font-mono",disabled:!!b})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Name *"}),r.jsx(Me,{placeholder:"Summer Sale",value:N.name,onChange:A=>C({...N,name:A.target.value}),className:"rounded-xl"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Description"}),r.jsx(ao,{placeholder:"20% off for first-time customers",value:N.description,onChange:A=>C({...N,description:A.target.value}),className:"rounded-xl resize-none",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Discount Type *"}),r.jsxs(dl,{value:N.discount_type,onValueChange:A=>C({...N,discount_type:A,discount_value:""}),children:[r.jsx(hl,{className:"rounded-xl",children:r.jsx(ul,{})}),r.jsxs(fl,{children:[r.jsx(Gt,{value:"percentage",children:"Percentage (%)"}),r.jsx(Gt,{value:"fixed_amount",children:"Fixed Amount ($)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Le,{className:"text-xs font-medium text-gray-500",children:[(N.discount_type==="percentage","Discount")," *"]}),r.jsxs("div",{className:"relative",children:[N.discount_type==="fixed_amount"&&r.jsx(ii,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),r.jsx(Me,{type:"number",placeholder:N.discount_type==="percentage"?"20":"5.00",value:N.discount_value,onChange:A=>C({...N,discount_value:A.target.value}),className:`rounded-xl ${N.discount_type==="fixed_amount"?"pl-10":"pr-10"}`,min:"0",step:N.discount_type==="percentage"?"1":"0.01"}),N.discount_type==="percentage"&&r.jsx(Yu,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Min Subtotal"}),r.jsxs("div",{className:"relative",children:[r.jsx(ii,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),r.jsx(Me,{type:"number",placeholder:"30.00",value:N.min_subtotal_dollars,onChange:A=>C({...N,min_subtotal_dollars:A.target.value}),className:"rounded-xl pl-10",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Max Discount"}),r.jsxs("div",{className:"relative",children:[r.jsx(ii,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),r.jsx(Me,{type:"number",placeholder:"10.00",value:N.max_discount_dollars,onChange:A=>C({...N,max_discount_dollars:A.target.value}),className:"rounded-xl pl-10",min:"0",step:"0.01"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Start Date *"}),r.jsx(Me,{type:"date",value:N.start_date,onChange:A=>C({...N,start_date:A.target.value}),className:"rounded-xl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Expire Date"}),r.jsx(Me,{type:"date",value:N.expire_date,onChange:A=>C({...N,expire_date:A.target.value}),className:"rounded-xl"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Usage Limit (leave empty for unlimited)"}),r.jsx(Me,{type:"number",placeholder:"100",value:N.usage_limit,onChange:A=>C({...N,usage_limit:A.target.value}),className:"rounded-xl",min:"0"})]}),r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"First-time customers only"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Only users who haven't ordered before"})]}),r.jsx(jp,{checked:N.first_time_only,onCheckedChange:A=>C({...N,first_time_only:A})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"One per customer"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Each customer can only use once"})]}),r.jsx(jp,{checked:N.one_per_customer,onCheckedChange:A=>C({...N,one_per_customer:A})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Promo can be used by customers"})]}),r.jsx(jp,{checked:N.is_active,onCheckedChange:A=>C({...N,is_active:A})})]})]})]}),r.jsxs(sh,{className:"gap-2",children:[r.jsx(re,{variant:"outline",onClick:()=>m(!1),className:"rounded-xl",children:"Cancel"}),r.jsxs(re,{onClick:R,disabled:i,className:"rounded-xl gap-2",children:[i&&r.jsx(et,{className:"w-4 h-4 animate-spin"}),b?"Update":"Create"]})]})]})}),r.jsx(Kr,{open:g,onOpenChange:y,children:r.jsxs(kr,{className:"max-w-sm",children:[r.jsxs(Ws,{children:[r.jsxs(ps,{className:"flex items-center gap-2",children:[r.jsx(On,{className:"w-5 h-5 text-red-500"}),"Delete Promo"]}),r.jsxs(Hs,{children:["Are you sure you want to delete ",r.jsx("strong",{children:S?.code}),"? This action cannot be undone."]})]}),r.jsxs(sh,{className:"gap-2",children:[r.jsx(re,{variant:"outline",onClick:()=>y(!1),className:"rounded-xl",children:"Cancel"}),r.jsxs(re,{variant:"destructive",onClick:q,disabled:i,className:"rounded-xl gap-2",children:[i&&r.jsx(et,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})},bxe=qr,wxe=async()=>{const{data:e,error:t}=await Fe.auth.getSession();if(t)throw new Error(t.message||"Unable to load session");const n=e.session,s=n?.user??null;if(!n||!s)throw new Error("Sign in required");if(!_S(s))throw new Error("Admin role required");return{token:n.access_token}};async function Y$(e,t){const{token:n}=await wxe(),s=await fetch(`${bxe}${e}`,{method:t?.method??"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,apikey:Nt,...t?.headers||{}},body:t?.body}),i=await s.text(),a=i?JSON.parse(i):null;if(!s.ok){const o=a?.error||a?.message||a?.details||`Request failed (${s.status})`;throw new Error(o)}return a??{}}async function jxe(e){return Y$("/admin/users/assign-role",{method:"POST",body:JSON.stringify(e)})}async function Sxe(e){return Y$("/admin/users/reset-password",{method:"POST",body:JSON.stringify(e)})}const Nxe="onesignal-sdk",_xe="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js";let AP=!1,$n=!1;typeof window<"u"&&(window.OneSignalDeferred=window.OneSignalDeferred||[],Cxe());function kxe(){$n=!0}function Cxe(){const e=document.createElement("script");e.id=Nxe,e.defer=!0,e.src=_xe,e.onerror=()=>{kxe()},document.head.appendChild(e)}function Exe(){return Rxe()||Pxe()}function Txe(){return window.top!==window&&navigator.vendor==="Apple Computer, Inc."&&navigator.platform==="MacIntel"}function Pxe(){return window.safari&&typeof window.safari.pushNotification<"u"||Txe()}function Rxe(){return typeof PushSubscriptionOptions<"u"&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")}const Axe=()=>Exe(),Ixe=e=>{var t;return AP?Promise.reject("OneSignal is already initialized."):!e||!e.appId?Promise.reject("You need to provide your OneSignal appId."):document?(((t=e.welcomeNotification)==null?void 0:t.disabled)!==void 0&&(e.welcomeNotification.disable=e.welcomeNotification.disabled),new Promise((n,s)=>{var i;(i=window.OneSignalDeferred)==null||i.push(a=>{a.init(e).then(()=>{AP=!0,n()}).catch(s)})})):Promise.reject("Document is not defined.")};function Oxe(e,t){return new Promise((n,s)=>{var i;if($n){s(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(a=>{a.login(e,t).then(()=>n()).catch(o=>s(o))})})}function Mxe(){return new Promise((e,t)=>{var n;if($n){t(new Error("OneSignal script failed to load."));return}(n=window.OneSignalDeferred)==null||n.push(s=>{s.logout().then(()=>e()).catch(i=>t(i))})})}function Dxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.setConsentGiven(e).then(()=>t()).catch(a=>n(a))})})}function Lxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.setConsentRequired(e).then(()=>t()).catch(a=>n(a))})})}function $xe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Slidedown.promptPush(e).then(()=>t()).catch(a=>n(a))})})}function Fxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Slidedown.promptPushCategories(e).then(()=>t()).catch(a=>n(a))})})}function Uxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Slidedown.promptSms(e).then(()=>t()).catch(a=>n(a))})})}function zxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Slidedown.promptEmail(e).then(()=>t()).catch(a=>n(a))})})}function Bxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Slidedown.promptSmsAndEmail(e).then(()=>t()).catch(a=>n(a))})})}function Vxe(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.Slidedown.addEventListener(e,t)})}function Wxe(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.Slidedown.removeEventListener(e,t)})}function Hxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Notifications.setDefaultUrl(e).then(()=>t()).catch(a=>n(a))})})}function qxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Notifications.setDefaultTitle(e).then(()=>t()).catch(a=>n(a))})})}function Gxe(){return new Promise((e,t)=>{var n;if($n){t(new Error("OneSignal script failed to load."));return}(n=window.OneSignalDeferred)==null||n.push(s=>{s.Notifications.requestPermission().then(i=>e(i)).catch(i=>t(i))})})}function Kxe(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.Notifications.addEventListener(e,t)})}function Yxe(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.Notifications.removeEventListener(e,t)})}function Jxe(e,t){return new Promise((n,s)=>{var i;if($n){s(new Error("OneSignal script failed to load."));return}(i=window.OneSignalDeferred)==null||i.push(a=>{a.Session.sendOutcome(e,t).then(()=>n()).catch(o=>s(o))})})}function Xxe(e){return new Promise((t,n)=>{var s;if($n){n(new Error("OneSignal script failed to load."));return}(s=window.OneSignalDeferred)==null||s.push(i=>{i.Session.sendUniqueOutcome(e).then(()=>t()).catch(a=>n(a))})})}function Qxe(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.addAlias(e,t)})}function Zxe(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.addAliases(e)})}function eye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeAlias(e)})}function tye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeAliases(e)})}function nye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.addEmail(e)})}function rye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeEmail(e)})}function sye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.addSms(e)})}function iye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeSms(e)})}function aye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.addTag(e,t)})}function oye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.addTags(e)})}function lye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeTag(e)})}function cye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.removeTags(e)})}async function dye(){var e;let t;return await((e=window.OneSignalDeferred)==null?void 0:e.push(n=>{t=n.User.getTags()})),t}function uye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.addEventListener(e,t)})}function hye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.removeEventListener(e,t)})}function fye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.User.setLanguage(e)})}async function mye(){var e;let t;return await((e=window.OneSignalDeferred)==null?void 0:e.push(n=>{t=n.User.getLanguage()})),t}function pye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.trackEvent(e,t)})}function gye(){return new Promise((e,t)=>{var n;if($n){t(new Error("OneSignal script failed to load."));return}(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.PushSubscription.optIn().then(()=>e()).catch(i=>t(i))})})}function xye(){return new Promise((e,t)=>{var n;if($n){t(new Error("OneSignal script failed to load."));return}(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.PushSubscription.optOut().then(()=>e()).catch(i=>t(i))})})}function yye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.PushSubscription.addEventListener(e,t)})}function vye(e,t){var n;(n=window.OneSignalDeferred)==null||n.push(s=>{s.User.PushSubscription.removeEventListener(e,t)})}function bye(e){var t;(t=window.OneSignalDeferred)==null||t.push(n=>{n.Debug.setLogLevel(e)})}const wye={get id(){var e,t,n;return(n=(t=(e=window.OneSignal)==null?void 0:e.User)==null?void 0:t.PushSubscription)==null?void 0:n.id},get token(){var e,t,n;return(n=(t=(e=window.OneSignal)==null?void 0:e.User)==null?void 0:t.PushSubscription)==null?void 0:n.token},get optedIn(){var e,t,n;return(n=(t=(e=window.OneSignal)==null?void 0:e.User)==null?void 0:t.PushSubscription)==null?void 0:n.optedIn},optIn:gye,optOut:xye,addEventListener:yye,removeEventListener:vye},jye={get onesignalId(){var e,t;return(t=(e=window.OneSignal)==null?void 0:e.User)==null?void 0:t.onesignalId},get externalId(){var e,t;return(t=(e=window.OneSignal)==null?void 0:e.User)==null?void 0:t.externalId},addAlias:Qxe,addAliases:Zxe,removeAlias:eye,removeAliases:tye,addEmail:nye,removeEmail:rye,addSms:sye,removeSms:iye,addTag:aye,addTags:oye,removeTag:lye,removeTags:cye,getTags:dye,addEventListener:uye,removeEventListener:hye,setLanguage:fye,getLanguage:mye,trackEvent:pye,PushSubscription:wye},Sye={sendOutcome:Jxe,sendUniqueOutcome:Xxe},Nye={setLogLevel:bye},_ye={promptPush:$xe,promptPushCategories:Fxe,promptSms:Uxe,promptEmail:zxe,promptSmsAndEmail:Bxe,addEventListener:Vxe,removeEventListener:Wxe},kye={get permissionNative(){var e,t;return((t=(e=window.OneSignal)==null?void 0:e.Notifications)==null?void 0:t.permissionNative)??"default"},get permission(){var e,t;return((t=(e=window.OneSignal)==null?void 0:e.Notifications)==null?void 0:t.permission)??!1},setDefaultUrl:Hxe,setDefaultTitle:qxe,isPushSupported:Axe,requestPermission:Gxe,addEventListener:Kxe,removeEventListener:Yxe},Cye={login:Oxe,logout:Mxe,init:Ixe,setConsentGiven:Dxe,setConsentRequired:Lxe,Slidedown:_ye,Notifications:kye,Session:Sye,User:jye,Debug:Nye},Ia=Cye,Eye="02131d59-ddb7-42f0-a1f7-0cb8b2d512e7";let Yc=!1;async function US(){if(Yc){console.log("[OneSignal] Already initialized");return}if(!(typeof window>"u"))try{await Ia.init({appId:Eye,allowLocalhostAsSecureOrigin:!0,notifyButton:{enable:!1},serviceWorkerParam:{scope:"/"},serviceWorkerPath:"/OneSignalSDKWorker.js"}),Yc=!0,console.log("[OneSignal] Initialized successfully")}catch(e){throw console.error("[OneSignal] Initialization failed:",e),e}}async function Tye(e,t){Yc||(console.warn("[OneSignal] Not initialized, initializing now..."),await US());try{await Ia.login(e),t&&await Ia.User.addEmail(t),await Ia.User.addTag("role","admin");const n=await Ia.Notifications.requestPermission();return console.log("[OneSignal] Admin subscribed, permission:",n),n}catch(n){throw console.error("[OneSignal] Failed to subscribe admin:",n),n}}async function Pye(){if(Yc)try{await Ia.logout(),console.log("[OneSignal] User logged out")}catch(e){throw console.error("[OneSignal] Failed to unsubscribe:",e),e}}async function J$(){if(!Yc||typeof window>"u")return"default";try{return await Ia.Notifications.permission?"granted":"default"}catch{return"default"}}function Rye(){return typeof window>"u"?!1:"Notification"in window&&"serviceWorker"in navigator}async function X$(){if(!Yc)return!1;try{return await Ia.Notifications.permission===!0}catch{return!1}}const Mx=be("default"),Q$=be(!1),nf=be(!1),gh=be(!1),Jc=be(null),Z$=be(!1),e6=be(null,async(e,t)=>{try{const n=Rye();if(t(Q$,n),!n){console.log("[Push] Not supported in this browser");return}await US(),t(Z$,!0);const s=await J$();t(Mx,s);const i=await X$();t(nf,i),console.log("[Push] Initialized, permission:",s,"subscribed:",i)}catch(n){console.error("[Push] Initialization error:",n),t(Jc,"Failed to initialize notifications")}}),Aye=be(null,async(e,t,n)=>{e(Z$)||await t(e6),t(gh,!0),t(Jc,null);try{const i=await Tye(n.userId,n.email);return t(Mx,i?"granted":"denied"),t(nf,i),console.log(i?"[Push] Admin subscribed successfully":"[Push] Permission denied by user"),i}catch(i){const a=i instanceof Error?i.message:"Failed to enable notifications";return t(Jc,a),console.error("[Push] Subscription error:",i),!1}finally{t(gh,!1)}}),Iye=be(null,async(e,t)=>{t(gh,!0),t(Jc,null);try{await Pye(),t(nf,!1),console.log("[Push] Unsubscribed successfully")}catch(n){const s=n instanceof Error?n.message:"Failed to disable notifications";t(Jc,s),console.error("[Push] Unsubscribe error:",n)}finally{t(gh,!1)}});be(null,async(e,t)=>{try{const n=await J$(),s=await X$();t(Mx,n),t(nf,s)}catch(n){console.error("[Push] Status refresh error:",n)}});function Oye({userId:e,email:t,brandColor:n="#6B0F1A"}){const s=Je(Mx),i=Je(Q$),a=Je(nf),o=Je(gh),c=Je(Jc),d=wt(e6),h=wt(Aye),f=wt(Iye);x.useEffect(()=>{d()},[d]);const m=async()=>{await h({userId:e,email:t})},g=async()=>{await f()};return i?s==="denied"?r.jsxs(we,{className:"border-red-200 bg-red-50",children:[r.jsx(La,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(jm,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Push Notifications Blocked"}),r.jsx(Yo,{className:"text-red-700",children:"You've blocked notifications for this site"})]})]})}),r.jsxs(pt,{className:"pt-0",children:[r.jsx("p",{className:"text-sm text-red-800 mb-3",children:"To receive new order alerts, you need to allow notifications in your browser settings:"}),r.jsxs("ol",{className:"text-sm text-red-700 space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Click the lock icon in your browser's address bar"}),r.jsx("li",{children:'Find "Notifications" and change it to "Allow"'}),r.jsx("li",{children:"Refresh this page"})]})]})]}):r.jsxs(we,{children:[r.jsx(La,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:`${n}15`},children:a?r.jsx(bK,{className:"w-5 h-5",style:{color:n}}):r.jsx(hE,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Order Notifications"}),r.jsx(Yo,{children:"Get notified instantly when new orders arrive"})]})]}),r.jsx(st,{mode:"wait",children:a?r.jsx(W.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:r.jsxs(_t,{className:"gap-1.5",style:{backgroundColor:`${n}15`,color:n},children:[r.jsx(Hr,{className:"w-3 h-3"}),"Enabled"]})},"enabled"):r.jsx(W.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:r.jsxs(_t,{variant:"outline",className:"gap-1.5 text-gray-500",children:[r.jsx(jm,{className:"w-3 h-3"}),"Disabled"]})},"disabled")})]})}),r.jsxs(pt,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 text-blue-800",children:[r.jsx(FI,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:a?"You'll receive push notifications for new orders even when this tab is closed or minimized.":"Enable notifications to receive instant alerts when customers place orders."})]}),r.jsx(st,{children:c&&r.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 p-3 rounded-lg bg-red-50 text-red-700",children:[r.jsx(On,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:c})]})}),a?r.jsxs(re,{variant:"outline",className:"w-full gap-2",onClick:g,disabled:o,children:[o?r.jsx(et,{className:"w-4 h-4 animate-spin"}):r.jsx(jm,{className:"w-4 h-4"}),"Disable Notifications"]}):r.jsxs(re,{className:"w-full gap-2 text-white",style:{backgroundColor:n},onClick:m,disabled:o,children:[o?r.jsx(et,{className:"w-4 h-4 animate-spin"}):r.jsx(hE,{className:"w-4 h-4"}),"Enable Push Notifications"]}),a&&r.jsx(W.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-gray-500 text-center",children:"Notifications will be sent to this device. Enable on other devices to receive alerts there too."})]})]}):r.jsxs(we,{className:"border-amber-200 bg-amber-50",children:[r.jsx(La,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:r.jsx(jm,{className:"w-5 h-5 text-amber-600"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Push Notifications"}),r.jsx(Yo,{className:"text-amber-700",children:"Not supported in this browser"})]})]})}),r.jsx(pt,{className:"pt-0",children:r.jsx("p",{className:"text-sm text-amber-800",children:"Your browser doesn't support push notifications. Try using Chrome, Firefox, or Edge for the best experience."})})]})}const Mye=[{value:"admin",label:"Admin",description:"Full access to manage store"},{value:"client",label:"Client",description:"Customer account"}],Dye={"/admin":"dashboard","/admin/dashboard":"dashboard","/admin/orders":"orders","/admin/products":"products","/admin/promos":"promos","/admin/settings":"settings"},Lye={dashboard:"/admin",orders:"/admin/orders",products:"/admin/products",promos:"/admin/promos",settings:"/admin/settings"},$ye=()=>{const[e,t]=x.useState({totalOrders:0,activeOrders:0,todayOrders:0,totalRevenue:0,todayRevenue:0,totalCustomers:0,avgOrderValue:0}),[n,s]=x.useState(!0),i=async()=>{s(!0);try{const{data:a}=await Fe.auth.getSession(),o=a?.session?.access_token,c=await fetch("undefined/functions/v1/market-server/admin/stats",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(c.ok){const d=await c.json();t({totalOrders:d.totalOrders||0,activeOrders:d.activeOrders||0,todayOrders:d.todayOrders||0,totalRevenue:d.totalRevenue||0,todayRevenue:d.todayRevenue||0,totalCustomers:d.totalCustomers||0,avgOrderValue:d.avgOrderValue||0})}else{const{data:d}=await Fe.from("orders").select("total_cents, payment_status, status, created_at"),{data:h}=await Fe.from("customers").select("id");if(d){const f=new Date().toISOString().split("T")[0],m=d.filter(b=>b.payment_status==="paid"),g=m.filter(b=>b.created_at?.startsWith(f)),y=d.filter(b=>!["delivered","canceled","failed","rejected"].includes(b.status));t({totalOrders:d.length,activeOrders:y.length,todayOrders:d.filter(b=>b.created_at?.startsWith(f)).length,totalRevenue:m.reduce((b,j)=>b+(j.total_cents||0),0)/100,todayRevenue:g.reduce((b,j)=>b+(j.total_cents||0),0)/100,totalCustomers:h?.length||0,avgOrderValue:m.length>0?m.reduce((b,j)=>b+(j.total_cents||0),0)/m.length/100:0})}}}catch(a){console.error("Failed to load dashboard stats:",a)}finally{s(!1)}};return x.useEffect(()=>{i()},[]),{stats:e,loading:n,refresh:i}},Qm=({title:e,value:t,subtitle:n,icon:s,trend:i,delay:a=0})=>r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:a,ease:[.25,.46,.45,.94]},whileHover:{y:-2,transition:{duration:.2}},className:"group relative bg-white rounded-xl sm:rounded-2xl p-3 sm:p-5 border border-gray-100 shadow-sm hover:shadow-lg hover:border-gray-200 transition-all duration-300 cursor-default overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"relative flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"space-y-1 sm:space-y-2 min-w-0 flex-1",children:[r.jsx("p",{className:"text-[10px] sm:text-[11px] font-semibold text-gray-400 uppercase tracking-wider truncate",children:e}),r.jsx("p",{className:"text-xl sm:text-3xl font-bold text-gray-900 tracking-tight truncate",children:t}),n&&r.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500 flex items-center gap-1 truncate",children:[i==="up"&&r.jsx(Og,{className:"w-3 h-3 text-emerald-500 flex-shrink-0"}),n]})]}),r.jsx("div",{className:"w-8 h-8 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl bg-gray-900 flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform duration-300 flex-shrink-0",children:r.jsx(s,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]})]}),ri=({icon:e,label:t,active:n,onClick:s,badge:i,collapsed:a})=>r.jsxs(W.button,{onClick:s,title:a?t:void 0,whileTap:{scale:.97},className:`relative w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left transition-all duration-200 ${n?"bg-white text-gray-900 shadow-md":"text-gray-400 hover:text-white hover:bg-white/8"} ${a?"justify-center":""}`,children:[n&&r.jsx(W.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white rounded-xl shadow-md",transition:{type:"spring",bounce:.2,duration:.6}}),r.jsx("span",{className:`relative z-10 ${n?"text-gray-900":""}`,children:r.jsx(e,{className:"w-5 h-5 flex-shrink-0"})}),!a&&r.jsx("span",{className:`relative z-10 flex-1 font-medium text-sm ${n?"text-gray-900":""}`,children:t}),!a&&i!==void 0&&i>0&&r.jsx("span",{className:`relative z-10 text-[10px] font-bold min-w-[20px] h-5 px-1.5 rounded-full flex items-center justify-center ${n?"bg-amber-100 text-amber-700":"bg-amber-500 text-white"}`,children:i>99?"99+":i}),a&&i!==void 0&&i>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 text-[10px] font-bold bg-amber-500 text-white rounded-full flex items-center justify-center shadow-sm",children:i>9?"9+":i})]}),IP=({onViewOrders:e})=>{const{stats:t,loading:n,refresh:s}=$ye();return r.jsxs("div",{className:"space-y-6 sm:space-y-10 max-w-6xl",children:[r.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),r.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Store performance overview"})]}),r.jsxs(re,{size:"sm",onClick:s,disabled:n,variant:"outline",className:"gap-2 rounded-xl hover:bg-gray-50 active:scale-95 transition-all flex-shrink-0",children:[r.jsx(Da,{className:`w-4 h-4 ${n?"animate-spin":""}`}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 lg:gap-8",children:[r.jsx(Qm,{title:"Revenue",value:`$${t.totalRevenue.toLocaleString("en-US",{minimumFractionDigits:0})}`,subtitle:`+$${t.todayRevenue.toFixed(0)} today`,icon:ii,trend:"up",delay:0}),r.jsx(Qm,{title:"Orders",value:t.totalOrders,subtitle:`${t.todayOrders} today`,icon:Dn,delay:.05}),r.jsx(Qm,{title:"Active",value:t.activeOrders,subtitle:"Pending orders",icon:oK,delay:.1}),r.jsx(Qm,{title:"Avg Order",value:`$${t.avgOrderValue.toFixed(0)}`,subtitle:`${t.totalCustomers} customers`,icon:Th,delay:.15})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6 lg:gap-8",children:[r.jsxs(W.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},whileHover:{scale:1.01,transition:{duration:.2}},whileTap:{scale:.99},onClick:e,className:"relative text-left rounded-2xl p-6 overflow-hidden group",style:{background:"linear-gradient(135deg, #6B0F1A 0%, #8B1A2A 50%, #4A0A12 100%)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 to-amber-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-5",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10 group-hover:bg-white/15 transition-colors duration-300",children:r.jsx(nn,{className:"w-7 h-7 text-white"})}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 group-hover:translate-x-1 transition-all duration-300",children:r.jsx(Ma,{className:"w-4 h-4 text-white"})})]}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Manage Orders"}),r.jsx("p",{className:"text-white/70 text-sm flex items-center gap-2",children:t.activeOrders>0?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),t.activeOrders," orders need attention"]}):r.jsxs(r.Fragment,{children:[r.jsx(In,{className:"w-4 h-4 text-emerald-400"}),"All caught up!"]})})]})]}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.25},className:"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between mb-5",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-100 flex items-center justify-center",children:r.jsx(up,{className:"w-7 h-7 text-gray-600"})}),r.jsxs(re,{size:"sm",variant:"outline",onClick:()=>window.open("/","_blank"),className:"gap-1.5 rounded-xl hover:bg-gray-50 active:scale-95 transition-all",children:["Open ",r.jsx(Wu,{className:"w-3.5 h-3.5"})]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Your Store"}),r.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-2",children:[r.jsx(bn,{className:"w-4 h-4"}),"Naperville, IL"]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center gap-3 text-xs text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jt,{className:"w-3.5 h-3.5"}),"Open now"]}),r.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),r.jsx("span",{children:"Closes 9 PM"})]})]})]})]})},OP=()=>{const[e,t]=x.useState(""),[n,s]=x.useState("admin"),[i,a]=x.useState("add"),[o,c]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(null),[g,y]=x.useState(!1),[b,j]=x.useState(""),[S,_]=x.useState(""),[N,C]=x.useState(""),[T,M]=x.useState(!1),[P,E]=x.useState(!1),[R,q]=x.useState(!1),[V,Q]=x.useState(null),[G,A]=x.useState(null);x.useEffect(()=>{Fe.auth.getUser().then(({data:{user:$}})=>{$&&A({id:$.id,email:$.email||""})})},[]);const J=async $=>{if($.preventDefault(),S!==N){Q("Passwords do not match");return}if(S.length<8){Q("Password must be at least 8 characters");return}Q(null),q(!0);try{const{data:{user:F}}=await Fe.auth.getUser();if(!F?.email)throw new Error("Unable to verify your account");const{error:B}=await Fe.auth.signInWithPassword({email:F.email,password:b});if(B)throw new Error("Current password is incorrect");const{error:O}=await Fe.auth.updateUser({password:S});if(O)throw O;Ne.success("Your password has been updated"),j(""),_(""),C("")}catch(F){Q(F.message||"Failed to update password")}finally{q(!1)}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Settings"}),r.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:"Manage admin users and security"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},children:r.jsxs(we,{className:"rounded-2xl border-gray-100 shadow-sm",children:[r.jsx(La,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-11 h-11 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(Nr,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Assign Role"}),r.jsx(Yo,{children:"Add or remove admin access"})]})]})}),r.jsxs(pt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"User Email"}),r.jsx(Me,{placeholder:"user@example.com",value:e,onChange:$=>t($.target.value),className:"rounded-xl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Role"}),r.jsxs(dl,{value:n,onValueChange:s,children:[r.jsx(hl,{className:"rounded-xl",children:r.jsx(ul,{placeholder:"Select role"})}),r.jsx(fl,{children:Mye.map($=>r.jsx(Gt,{value:$.value,children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:$.label}),r.jsxs("span",{className:"text-xs text-gray-400",children:["- ",$.description]})]})},$.value))})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(re,{type:"button",size:"sm",variant:i==="add"?"default":"outline",onClick:()=>a("add"),className:"flex-1 rounded-xl",children:"Add"}),r.jsx(re,{type:"button",size:"sm",variant:i==="remove"?"destructive":"outline",onClick:()=>a("remove"),className:"flex-1 rounded-xl",children:"Remove"})]}),r.jsx(re,{className:"w-full rounded-xl active:scale-[0.98] transition-transform",disabled:g||!e,onClick:async()=>{m(null),y(!0);try{const $=await jxe({email:e,role:n,action:i});m(`Success. Roles: ${$.roles.join(", ")||"none"}`),Ne.success("Role updated")}catch($){m($.message||"Failed"),Ne.error($.message||"Failed")}finally{y(!1)}},children:g?r.jsx(et,{className:"w-4 h-4 animate-spin"}):"Save Role"})]})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(we,{className:"rounded-2xl border-gray-100 shadow-sm",children:[r.jsx(La,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-11 h-11 rounded-xl bg-amber-100 flex items-center justify-center",children:r.jsx(qI,{className:"w-5 h-5 text-amber-600"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Reset User Password"}),r.jsx(Yo,{children:"Set new password for any user"})]})]})}),r.jsxs(pt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"User Email"}),r.jsx(Me,{placeholder:"user@example.com",value:o,onChange:$=>c($.target.value),className:"rounded-xl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"New Password"}),r.jsx(Me,{type:"password",placeholder:"New password",value:d,onChange:$=>h($.target.value),className:"rounded-xl"})]}),r.jsx(re,{className:"w-full rounded-xl bg-amber-500 hover:bg-amber-600 active:scale-[0.98] transition-all",disabled:g||!o||!d,onClick:async()=>{m(null),y(!0);try{await Sxe({email:o,password:d}),m("Password reset successfully"),Ne.success("Password reset"),h("")}catch($){m($.message||"Failed"),Ne.error($.message||"Failed")}finally{y(!1)}},children:g?r.jsx(et,{className:"w-4 h-4 animate-spin"}):"Reset Password"})]})]})}),G&&r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:r.jsx(Oye,{userId:G.id,email:G.email,brandColor:"#6B0F1A"})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2",children:r.jsxs(we,{className:"rounded-2xl border-gray-100 shadow-sm",children:[r.jsx(La,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-11 h-11 rounded-xl bg-gray-900 flex items-center justify-center",children:r.jsx(Sc,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx($a,{className:"text-base",children:"Change My Password"}),r.jsx(Yo,{children:"Update your admin password"})]})]})}),r.jsx(pt,{children:r.jsxs("form",{onSubmit:J,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Me,{type:T?"text":"password",placeholder:"Current password",value:b,onChange:$=>{j($.target.value),Q(null)},className:"pr-10 rounded-xl",required:!0}),r.jsx("button",{type:"button",onClick:()=>M(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:T?r.jsx(wc,{className:"w-4 h-4"}):r.jsx(jc,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Me,{type:P?"text":"password",placeholder:"Min 8 characters",value:S,onChange:$=>{_($.target.value),Q(null)},className:"pr-10 rounded-xl",required:!0}),r.jsx("button",{type:"button",onClick:()=>E(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:P?r.jsx(wc,{className:"w-4 h-4"}):r.jsx(jc,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Le,{className:"text-xs font-medium text-gray-500",children:"Confirm Password"}),r.jsx(Me,{type:"password",placeholder:"Confirm password",value:N,onChange:$=>{C($.target.value),Q(null)},className:"rounded-xl",required:!0}),N&&S&&r.jsxs("p",{className:`text-xs flex items-center gap-1 ${S===N?"text-emerald-600":"text-amber-600"}`,children:[S===N&&r.jsx(In,{className:"w-3 h-3"}),S===N?"Passwords match":"Passwords do not match"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[V&&r.jsxs("p",{className:"flex-1 text-sm text-red-600 flex items-center gap-1.5",children:[r.jsx(On,{className:"w-4 h-4"}),V]}),r.jsx(re,{type:"submit",className:"ml-auto rounded-xl active:scale-[0.98] transition-transform",disabled:R||!b||!S||S!==N,children:R?r.jsx(et,{className:"w-4 h-4 animate-spin"}):"Update Password"})]})]})})]})})]}),f&&r.jsx(W.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-sm text-center text-gray-600 bg-gray-100 rounded-xl px-4 py-3",children:f})]})},MP=()=>{const e=Je(JL),[t,n]=x.useState(()=>typeof window<"u"?window.location.pathname:"/admin"),[s,i]=x.useState(0),[a,o]=x.useState(!1),[c,d]=x.useState(!1),h=Dye[t]||"dashboard",f=x.useCallback(g=>{const y=Lye[g];window.history.pushState({},"",y),n(y),d(!1)},[]);x.useEffect(()=>{const g=()=>{n(window.location.pathname)};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[]),x.useEffect(()=>{const g=async()=>{try{const{count:b}=await Fe.from("orders").select("*",{count:"exact",head:!0}).not("status","in",'("delivered","canceled","failed","rejected")');i(b||0)}catch(b){console.error("Failed to fetch active orders:",b)}};g();const y=Fe.channel("orders-count").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>g()).subscribe();return()=>{Fe.removeChannel(y)}},[]);const m=async()=>{await Fe.auth.signOut(),window.location.reload()};return e.state==="loading"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-3 border-gray-200 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Checking access..."})]})}):e.state==="hasError"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:r.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-sm w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-100 flex items-center justify-center mx-auto mb-6",children:r.jsx(On,{className:"w-8 h-8 text-amber-600"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Session Error"}),r.jsx("p",{className:"text-gray-500 mb-6",children:e.error?.message||"Please try again."}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(re,{onClick:()=>window.location.assign("/login"),className:"rounded-xl",children:"Go to Login"}),r.jsx(re,{variant:"outline",onClick:()=>window.location.reload(),className:"rounded-xl",children:"Retry"})]})]})}):e.data?.isAdmin?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-[#0f172a] border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>d(!0),className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white",children:r.jsx(UI,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-sm font-bold text-white",children:[h==="dashboard"&&"Dashboard",h==="orders"&&"Orders",h==="products"&&"Products",h==="promos"&&"Promos",h==="settings"&&"Settings"]}),r.jsx("p",{className:"text-[10px] text-gray-400",children:"Merchant Console"})]})]}),r.jsx(re,{variant:"ghost",size:"sm",onClick:()=>window.open("/","_blank"),className:"text-white hover:bg-white/10 rounded-lg h-9 px-3",children:r.jsx(up,{className:"w-4 h-4"})})]}),r.jsx(st,{children:c&&r.jsxs(r.Fragment,{children:[r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-50"}),r.jsxs(W.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"lg:hidden fixed top-0 left-0 bottom-0 w-72 bg-[#0f172a] z-50 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Cu,{brandName:"Shahirizada",size:"sm",className:"h-7 brightness-0 invert"}),r.jsx("p",{className:"text-[10px] text-gray-500 mt-1 font-medium tracking-wide",children:"MERCHANT CONSOLE"})]}),r.jsx("button",{onClick:()=>d(!1),className:"w-9 h-9 rounded-lg bg-white/10 flex items-center justify-center text-white",children:r.jsx(ir,{className:"w-4 h-4"})})]}),r.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:[r.jsx(ri,{icon:V0,label:"Dashboard",active:h==="dashboard",onClick:()=>f("dashboard"),collapsed:!1}),r.jsx(ri,{icon:Dn,label:"Orders",active:h==="orders",onClick:()=>f("orders"),badge:s,collapsed:!1}),r.jsx(ri,{icon:nn,label:"Products",active:h==="products",onClick:()=>f("products"),collapsed:!1}),r.jsx(ri,{icon:hp,label:"Promos",active:h==="promos",onClick:()=>f("promos"),collapsed:!1}),r.jsx(ri,{icon:dp,label:"Settings",active:h==="settings",onClick:()=>f("settings"),collapsed:!1})]}),r.jsx("div",{className:"p-3 border-t border-white/10",children:r.jsxs(W.button,{whileTap:{scale:.95},onClick:m,className:"w-full flex items-center gap-2 px-3 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/8 transition-all duration-200",children:[r.jsx(Gu,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]})]})}),r.jsxs("div",{className:"min-h-screen max-lg:hidden",style:{display:"grid",gridTemplateColumns:a?"72px 1fr":"256px 1fr",transition:"grid-template-columns 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[r.jsxs("aside",{className:"bg-[#0f172a] min-h-screen flex flex-col relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/10 to-transparent pointer-events-none"}),r.jsx("div",{className:`relative z-10 p-5 border-b border-white/10 ${a?"flex justify-center":""}`,children:a?r.jsx(W.div,{initial:{scale:.8},animate:{scale:1},className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}):r.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},children:[r.jsx(Cu,{brandName:"Shahirizada",size:"sm",className:"h-8 brightness-0 invert"}),r.jsx("p",{className:"text-[11px] text-gray-500 mt-2 font-medium tracking-wide",children:"MERCHANT CONSOLE"})]})}),r.jsxs("nav",{className:"relative z-10 flex-1 p-3 space-y-1",children:[r.jsx(ri,{icon:V0,label:"Dashboard",active:h==="dashboard",onClick:()=>f("dashboard"),collapsed:a}),r.jsx(ri,{icon:Dn,label:"Orders",active:h==="orders",onClick:()=>f("orders"),badge:s,collapsed:a}),r.jsx(ri,{icon:nn,label:"Products",active:h==="products",onClick:()=>f("products"),collapsed:a}),r.jsx(ri,{icon:hp,label:"Promos",active:h==="promos",onClick:()=>f("promos"),collapsed:a}),r.jsx(ri,{icon:dp,label:"Settings",active:h==="settings",onClick:()=>f("settings"),collapsed:a})]}),r.jsx("div",{className:"relative z-10 p-3 border-t border-white/10",children:r.jsx(W.button,{whileTap:{scale:.95},onClick:()=>o(!a),className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/8 transition-all duration-200",title:a?"Expand sidebar":"Collapse sidebar",children:a?r.jsx(CY,{className:"w-5 h-5"}):r.jsxs(r.Fragment,{children:[r.jsx(_Y,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Collapse"})]})})}),r.jsx("div",{className:`relative z-10 p-3 border-t border-white/10 ${a?"flex flex-col items-center":""}`,children:r.jsxs(W.button,{whileTap:{scale:.95},onClick:m,title:a?"Sign Out":void 0,className:`flex items-center gap-2 px-3 py-2.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/8 transition-all duration-200 ${a?"w-full justify-center":"w-full"}`,children:[r.jsx(Gu,{className:"w-4 h-4"}),!a&&r.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]}),r.jsxs("main",{className:"flex flex-col min-h-screen overflow-hidden",children:[r.jsxs("header",{className:"bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between flex-shrink-0 shadow-sm",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:[h==="dashboard"&&"Dashboard",h==="orders"&&"Orders",h==="products"&&"Products",h==="promos"&&"Promos",h==="settings"&&"Settings"]}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),r.jsxs(re,{variant:"outline",onClick:()=>window.open("/","_blank"),className:"gap-2 rounded-xl hover:bg-gray-50 active:scale-95 transition-all",children:[r.jsx(up,{className:"w-4 h-4"}),"View Store"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50",children:r.jsxs(st,{mode:"wait",children:[h==="dashboard"&&r.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:r.jsx(IP,{onViewOrders:()=>f("orders")})},"dashboard"),h==="orders"&&r.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:r.jsx(vP,{})},"orders"),h==="products"&&r.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:r.jsx(TP,{})},"products"),h==="promos"&&r.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:r.jsx(RP,{})},"promos"),h==="settings"&&r.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:r.jsx(OP,{})},"settings")]})})]})]}),r.jsx("main",{className:"lg:hidden pt-16 pb-20 min-h-screen",children:r.jsx("div",{className:"p-4",children:r.jsxs(st,{mode:"wait",children:[h==="dashboard"&&r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(IP,{onViewOrders:()=>f("orders")})},"dashboard-mobile"),h==="orders"&&r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(vP,{})},"orders-mobile"),h==="products"&&r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(TP,{})},"products-mobile"),h==="promos"&&r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(RP,{})},"promos-mobile"),h==="settings"&&r.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(OP,{})},"settings-mobile")]})})}),r.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 px-2 py-2 safe-area-pb",children:r.jsx("div",{className:"flex items-center justify-around",children:[{tab:"dashboard",icon:V0,label:"Home"},{tab:"orders",icon:Dn,label:"Orders",badge:s},{tab:"products",icon:nn,label:"Products"},{tab:"promos",icon:hp,label:"Promos"},{tab:"settings",icon:dp,label:"Settings"}].map(({tab:g,icon:y,label:b,badge:j})=>r.jsxs("button",{onClick:()=>f(g),className:`relative flex flex-col items-center gap-0.5 px-3 py-1.5 rounded-xl transition-colors ${h===g?"text-brand":"text-gray-400 active:text-gray-600"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(y,{className:"w-5 h-5"}),j!==void 0&&j>0&&r.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-4 px-1 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:j>9?"9+":j})]}),r.jsx("span",{className:"text-[10px] font-medium",children:b}),h===g&&r.jsx(W.div,{layoutId:"bottomNavIndicator",className:"absolute -bottom-1 w-8 h-0.5 bg-brand rounded-full",transition:{type:"spring",bounce:.2,duration:.4}})]},g))})})]}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col",children:[r.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[r.jsx(Cu,{brandName:"Shahirizada",size:"sm",className:"h-10"}),r.jsxs(re,{variant:"outline",onClick:()=>window.location.assign("/"),className:"gap-2 rounded-xl",children:[r.jsx(up,{className:"w-4 h-4"}),"Visit Store"]})]})}),r.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(W.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,type:"spring",bounce:.4},className:"w-16 h-16 rounded-2xl bg-brand flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(qI,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Merchant Console"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Sign in to manage your store"})]}),r.jsx(kS,{adminOnly:!0,brandColor:"#6B0F1A",onSuccess:()=>window.location.reload()}),r.jsx("p",{className:"text-center text-xs text-gray-400 mt-6",children:"Admin access required. Contact support if you need help."})]})})})]})},Fye=()=>(console.log("AdminSimple rendering..."),r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",padding:"20px"},children:r.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",maxWidth:"600px",width:"100%"},children:[r.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#111827"},children:"Admin Page Test"}),r.jsx("div",{style:{backgroundColor:"#10b981",color:"white",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:" If you can see this, the admin route is working!"}),r.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[r.jsx("strong",{children:"Next Steps:"}),r.jsxs("ol",{style:{marginTop:"12px",paddingLeft:"20px"},children:[r.jsx("li",{children:"Open browser console (F12)"}),r.jsx("li",{children:"Check for any JavaScript errors"}),r.jsx("li",{children:"If no errors, the full Admin component has an issue"}),r.jsx("li",{children:"If there ARE errors, that's the problem to fix"})]})]}),r.jsxs("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",fontSize:"14px"},children:[r.jsx("strong",{children:"Console Log:"}),r.jsx("pre",{style:{marginTop:"8px",padding:"12px",backgroundColor:"#1f2937",color:"#10b981",borderRadius:"4px",overflow:"auto",fontSize:"12px"},children:`// Should see this in console:
"AdminSimple rendering..."`})]}),r.jsxs("div",{style:{marginTop:"24px"},children:[r.jsx("a",{href:"/admin-health",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#8B0000",color:"white",textDecoration:"none",borderRadius:"8px",marginRight:"12px"},children:"Run Health Check"}),r.jsx("a",{href:"/",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#6b7280",color:"white",textDecoration:"none",borderRadius:"8px"},children:"Go Home"})]})]})})),Lv=[{id:"uzbek-plov-recipe",slug:"uzbek-plov-recipe",title:"Uzbek Plov: A Hearty Classic Made with Shahirzada Beef",subtitle:"Traditional Central Asian rice dish perfected with halal beef",category:"Recipe",author:"Chef Otabek",date:"2025-01-15",image:"https://images.unsplash.com/photo-1649777476920-0eef34169cdb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx1emJlayUyMHBsb3YlMjByaWNlJTIwYmVlZnxlbnwxfHx8fDE3NjEzNjQxMTB8MA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Discover how authentic Uzbek Plov comes alive with tender halal beef from Shahirzada Fresh Market. Our never-frozen cuts bring unmatched flavor to this timeless Central Asian dish.",featured:!1,content:`Plov is more than a rice dishit's a symbol of hospitality. Start by browning Shahirzada halal beef cubes until golden.

Add onions, carrots, and the signature blend of cumin and barberries before layering fragrant basmati rice.

Steam slowly in a kazan for the perfect pull-apart texture and serve warm for a family feast.`,tags:[],meta_title:"",meta_description:"",keywords:[]},{id:"best-shashlik-recipe",slug:"best-shashlik-recipe",title:"How to Cook the Best Shashlik with Halal Lamb",subtitle:"Juicy, smoky kebabs grilled to perfection",category:"Recipe",author:"Chef Zamira",date:"2025-01-18",image:"https://images.unsplash.com/photo-1660262849063-63c52a1fa2e5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsYW1iJTIwc2hhc2hsaWslMjBrZWJhYiUyMGdyaWxsfGVufDF8fHx8MTc2MTM2NDExMXww&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Juicy, smoky, and perfectly tender  learn the secrets to real Shashlik using Shahirzada's halal lamb, cut fresh daily in Naperville.",featured:!1,content:`Marinate lamb chunks in onion puree, black pepper, salt, and vinegar for at least four hours.

Grill over open coals until edges are lightly charred and meat is tender inside.

Serve with flatbread, tomato sauce, and sliced onions  the Uzbek way.`,tags:[],meta_title:"",meta_description:"",keywords:[]},{id:"kazan-kebab",slug:"kazan-kebab",title:"Secrets to Make Delicious Kazan Kebab",subtitle:"Rich and flavorful slow-cooked beef perfection",category:"Recipe",author:"Chef Adil",date:"2025-01-22",image:"figma:asset/c14dec2d5a19e922af70064320b84895029133d4.png",excerpt:"If there's one dish that captures the heart of Central Asian comfort food, it's Kazan Kebab  a slow-cooked masterpiece of tender beef, caramelized vegetables, and deep, aromatic spices simmered together in a cast-iron cauldron known as the kazan.",featured:!1,readTime:8,tags:["Kazan Kebab","Central Asian Cuisine","Beef Recipes","Slow Cooking","Food Culture"],content:`This dish is not just a meal  it's an experience built around patience, fire, and flavor.

##  What is Kazan Kebab?

Originating from the nomadic traditions of Central Asia, Kazan Kebab (also called Qozon Kabob) is a one-pot dish that brings together chunks of marinated beef or lamb, potatoes, onions, and sometimes carrots  all slow-cooked over an open flame.

Unlike grilled kebabs, the meat in Kazan Kebab is braised in its own juices and oil, resulting in melt-in-your-mouth tenderness and deep, smoky richness.

##  The Secret Ingredients

### 1. The Right Cut of Meat
Use beef brisket, short ribs, or lamb shoulder  cuts with a balance of fat and connective tissue. These pieces turn silky and tender during slow cooking.

### 2. Onion and Garlic Base
Onions caramelize in oil before the meat goes in. This forms a sweet foundation for the dish. Garlic cloves are often left whole to roast gently in the steam.

### 3. Spices That Matter
Traditionally, Kazan Kebab includes black pepper, cumin, coriander, paprika, and bay leaves. Some regional variations add chili flakes or ground sumac for tang.

### 4. Potatoes  the Flavor Absorbers
The sliced potatoes soak up all that rendered fat and spice-infused broth, becoming golden, crispy, and buttery-soft inside.

##  How to Make Kazan Kebab at Home

### Ingredients

- 2 lbs (1 kg) beef or lamb, cut into large chunks
- 45 medium potatoes, thickly sliced
- 2 large onions, sliced into rings
- 56 whole garlic cloves
- 1 tsp ground cumin
- 1 tsp paprika
- 1 tsp black pepper
- 1 bay leaf
- Salt to taste
- 1/3 cup vegetable or sunflower oil

### Method

1. Heat your kazan or heavy cast-iron pot over medium flame and pour in the oil.
2. Add onions and fry until golden brown and slightly crisp. Remove and set aside.
3. Place meat chunks into the hot oil. Sear all sides until browned and a crust forms.
4. Add garlic, cumin, paprika, salt, pepper, and bay leaf. Stir well.
5. Return onions to the pot and layer sliced potatoes on top.
6. Cover tightly and reduce heat to low. Cook for 1.5 to 2 hours, checking occasionally.
7. Serve directly from the kazan  hot, rich, and deeply aromatic.

##  Pro Tips

- Use a heavy cast-iron pot if you don't have a traditional kazan. The key is even, long heat retention.
- Don't rush the browning step. Deep caramelization = deep flavor.
- Some cooks add a splash of beef broth halfway through if the pot gets too dry.

##  What to Serve It With

- Fresh Uzbek bread (Lepyoshka)
- Pickled vegetables (achchiq or turshi)
- A side of salted tomatoes or onions
- A cold glass of ayran or black tea

---

Kazan Kebab is the ultimate dish for gathering around the table with family and friends. It's hearty, it's bold, and it's unforgettable.`,meta_title:"",meta_description:"",keywords:[]},{id:"manti-recipe",slug:"manti-recipe",title:"Manti: The Ultimate Uzbek Dumplings",subtitle:"Steamed perfection wrapped in homemade dough",category:"Recipe",author:"Chef Madina",date:"2025-01-25",image:"https://images.unsplash.com/photo-1563245372-f21724e3856d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYW50aSUyMGR1bXBsaW5ncyUyMHN0ZWFtZWR8ZW58MXx8fHwxNzYxMzY0MTExfDA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Master the art of making soft, fluffy Manti dumplings filled with Shahirzada halal beef and onions, steamed to perfection.",featured:!1,content:`Manti is a beloved dumpling dish across Central Asia. Start by preparing a simple dough from flour, water, eggs, and salt.

Roll thin and cut into squares. Fill each square with ground halal beef, chopped onions, and a pinch of cumin.

Fold into neat parcels and steam for 40 minutes. Serve with sour cream and fresh herbs.`,tags:[],meta_title:"",meta_description:"",keywords:[]},{id:"lagman-noodles",slug:"lagman-noodles",title:"Hand-Pulled Lagman Noodles with Beef",subtitle:"Rich and savory Uzbek noodle soup",category:"Recipe",author:"Chef Rustam",date:"2025-01-28",image:"https://images.unsplash.com/photo-1617093727343-374698b1b08d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsYWdtYW4lMjBub29kbGVzJTIwYmVlZiUyMHNvdXB8ZW58MXx8fHwxNzYxMzY0MTExfDA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Thick hand-pulled noodles swim in a rich beef and vegetable broth seasoned with star anise and soy. A full meal in every bowl.",featured:!1,content:`Lagman is the ultimate comfort noodle soup. Start with hand-pulled or thick wheat noodles.

Prepare a stir-fried beef and vegetable base with onions, bell peppers, radish, and garlic.

Add beef broth, soy sauce, and star anise. Simmer until fragrant, then pour over cooked noodles. Top with fresh cilantro and chili oil.`,tags:[],meta_title:"",meta_description:"",keywords:[]},{id:"samsa-pastries",slug:"samsa-pastries",title:"Crispy Baked Samsa Pastries",subtitle:"Flaky meat-filled pockets, fresh from the oven",category:"Recipe",author:"Chef Gulnara",date:"2025-02-01",image:"https://images.unsplash.com/photo-1601050690597-df0568f70950?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzYW1zYSUyMHBhc3RyeSUyMGJha2VkfGVufDF8fHx8MTc2MTM2NDExMXww&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Triangular pastries filled with spiced halal lamb and onions, brushed with egg wash and baked until golden  perfect as a snack or appetizer.",featured:!1,content:`Samsa is the Central Asian answer to savory pies. Use puff pastry or yeast dough, rolled thin.

Fill with ground lamb, onions, cumin, salt, and black pepper. Fold into triangles and crimp the edges.

Brush with egg yolk and bake at 375F until golden and flaky. Serve hot with tea.`,tags:[],meta_title:"",meta_description:"",keywords:[]},{id:"halal-meat-guide",slug:"halal-meat-guide",title:"What Makes Meat Halal? A Complete Guide",subtitle:"Understanding halal certification and quality",category:"Education",author:"Shahirzada Team",date:"2025-02-05",image:"https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxoYWxhbCUyMG1lYXQlMjBidXRjaGVyJTIwZnJlc2h8ZW58MXx8fHwxNzYxMzY0MTExfDA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Learn what halal means, how it differs from conventional meat, and why Shahirzada Fresh Market is your trusted source in Naperville.",featured:!1,content:`Halal refers to what is permissible under Islamic law. For meat, this means the animal must be slaughtered by a trained Muslim, with a prayer said and the blood fully drained.

At Shahirzada Fresh Market, all our meat is certified halal and never frozen, ensuring both faith compliance and peak freshness.

Whether it's beef, lamb, goat, or specialty cuts, you can shop with confidence knowing every product meets the highest halal standards.`,tags:[],meta_title:"",meta_description:"",keywords:[]}],Uye=()=>{const[e,t]=x.useState(!1),[n,s]=x.useState(null),[i,a]=x.useState(!1),[o,c]=x.useState([]),d=async()=>{a(!0);try{const f=await fetch(`${qr}/blog/posts`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt}});if(f.ok){const m=await f.json();c(m.posts||[]),Ne.success(`Found ${m.posts?.length||0} posts in database`)}else Ne.error("Failed to fetch current posts")}catch(f){console.error("Check error:",f),Ne.error("Error checking posts")}finally{a(!1)}},h=async()=>{t(!0),s(null);try{const f=await fetch(`${qr}/migrate-blog-posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt}`,apikey:Nt},body:JSON.stringify({posts:Lv})}),m=await f.json();f.ok?(s(m),Ne.success(`Migration complete! ${m.added} posts added, ${m.skipped} skipped`),await d()):(s({error:m.error}),Ne.error(`Migration failed: ${m.error}`))}catch(f){console.error("Migration error:",f),s({error:f.message}),Ne.error("Migration failed")}finally{t(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs(we,{className:"p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl mb-2",children:"Blog Post Migration"}),r.jsxs("p",{className:"text-gray-600",children:["Migrate ",Lv.length," hardcoded blog posts to the database"]})]}),r.jsxs("div",{className:"flex gap-3 mb-8",children:[r.jsxs(re,{onClick:d,disabled:i,variant:"outline",className:"gap-2",children:[i&&r.jsx(et,{className:"w-4 h-4 animate-spin"}),"Check Current Posts"]}),r.jsx(re,{onClick:h,disabled:e,className:"gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 animate-spin"}),"Migrating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ju,{className:"w-4 h-4"}),"Migrate Posts"]})})]}),o.length>0&&r.jsx("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(On,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-blue-900 mb-1",children:["Database currently has ",o.length," post",o.length!==1?"s":""]}),r.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.slice(0,5).map(f=>r.jsxs("div",{children:[" ",f.title]},f.id)),o.length>5&&r.jsxs("div",{className:"text-blue-600",children:["... and ",o.length-5," more"]})]})]})]})}),n&&r.jsx("div",{className:"space-y-4",children:n.error?r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ms,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-red-900 mb-1",children:"Migration Failed"}),r.jsx("p",{className:"text-sm text-red-700",children:n.error})]})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Hr,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-green-900 mb-1",children:"Migration Complete!"}),r.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[r.jsxs("div",{children:[" ",n.added," posts added"]}),r.jsxs("div",{children:[" ",n.skipped," posts skipped (already exist)"]}),r.jsxs("div",{children:[" Total processed: ",n.total]})]})]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Detailed Results"}),r.jsx("div",{className:"space-y-2",children:n.results.map((f,m)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[r.jsx("span",{className:"text-sm",children:f.slug}),r.jsxs(_t,{variant:f.status==="success"?"default":"secondary",className:"gap-1",children:[f.status==="success"?r.jsx(Hr,{className:"w-3 h-3"}):r.jsx(ms,{className:"w-3 h-3"}),f.status]})]},m))})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Next Steps"}),r.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsx("a",{href:"/blog",className:"underline hover:text-blue-900",children:"View migrated posts on the blog"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsx("a",{href:"/admin",className:"underline hover:text-blue-900",children:"Manage posts in the admin dashboard"})]})]})]})]})}),!n&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Posts Ready to Migrate"}),r.jsx("div",{className:"space-y-2",children:Lv.map(f=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:f.title}),r.jsx("div",{className:"text-xs text-gray-500",children:f.slug})]}),r.jsx(_t,{variant:"outline",children:f.category})]},f.id))})]})]})})})},Zm=qr,zye=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(!1);x.useEffect(()=>{i()},[]);const i=async()=>{s(!0);const c=[];c.push({name:"Server Reachable",status:"checking",message:"Testing..."}),t([...c]);try{const d=await fetch(`${Zm}/health`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt}});if(d.ok){const h=await d.json();c[0]={name:"Server Reachable",status:"success",message:"Server is up and running",details:h}}else c[0]={name:"Server Reachable",status:"error",message:`Server returned ${d.status}`,details:{status:d.status,statusText:d.statusText}}}catch(d){c[0]={name:"Server Reachable",status:"error",message:"Cannot reach server",details:{error:d.message}}}t([...c]),c.push({name:"Public Blog API",status:"checking",message:"Testing..."}),t([...c]);try{const d=await fetch(`${Zm}/blog/posts`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt}});if(d.ok){const h=await d.json();c[1]={name:"Public Blog API",status:"success",message:`Found ${h.posts?.length||0} posts`,details:h}}else c[1]={name:"Public Blog API",status:"error",message:`Failed with status ${d.status}`,details:await d.text()}}catch(d){c[1]={name:"Public Blog API",status:"error",message:"Request failed",details:{error:d.message}}}t([...c]),c.push({name:"Admin Login Endpoint",status:"checking",message:"Testing..."}),t([...c]);try{const d=await fetch(`${Zm}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt}`,apikey:Nt},credentials:"include",body:JSON.stringify({password:"test"})});d.status===401?c[2]={name:"Admin Login Endpoint",status:"success",message:"Endpoint is working (rejected test password)",details:{status:d.status}}:d.ok?c[2]={name:"Admin Login Endpoint",status:"success",message:"Endpoint is working",details:{status:d.status}}:c[2]={name:"Admin Login Endpoint",status:"error",message:`Unexpected status ${d.status}`,details:await d.text()}}catch(d){c[2]={name:"Admin Login Endpoint",status:"error",message:"Request failed",details:{error:d.message}}}t([...c]),c.push({name:"Admin Auth Check",status:"checking",message:"Testing..."}),t([...c]);try{const d=await fetch(`${Zm}/admin/check`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt},credentials:"include"});if(d.status===401)c[3]={name:"Admin Auth Check",status:"success",message:"Endpoint working (not authenticated)",details:await d.json()};else if(d.ok){const h=await d.json();c[3]={name:"Admin Auth Check",status:"success",message:h.authenticated?"Authenticated!":"Not authenticated",details:h}}else c[3]={name:"Admin Auth Check",status:"error",message:`Failed with status ${d.status}`,details:await d.text()}}catch(d){c[3]={name:"Admin Auth Check",status:"error",message:"Request failed",details:{error:d.message}}}t([...c]),s(!1)},a=({status:c})=>c==="checking"?r.jsx(Da,{className:"w-5 h-5 animate-spin text-blue-500"}):c==="success"?r.jsx(Hr,{className:"w-5 h-5 text-green-500"}):r.jsx(ms,{className:"w-5 h-5 text-red-500"}),o=e.every(c=>c.status==="success")?"success":e.some(c=>c.status==="error")?"error":"checking";return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs(we,{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl mb-2",children:"Admin System Health Check"}),r.jsx("p",{className:"text-gray-600",children:"Diagnostic tool for the blog admin system"})]}),r.jsxs(re,{onClick:i,disabled:n,variant:"outline",children:[r.jsx(Da,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Retest"]})]}),e.length>0&&r.jsx("div",{className:`p-4 rounded-lg mb-6 ${o==="success"?"bg-green-50 border border-green-200":o==="error"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[o==="checking"&&r.jsx(Da,{className:"w-5 h-5 animate-spin text-blue-600"}),o==="success"&&r.jsx(Hr,{className:"w-5 h-5 text-green-600"}),o==="error"&&r.jsx(On,{className:"w-5 h-5 text-red-600"}),r.jsxs("div",{children:[r.jsxs("h3",{className:`font-medium ${o==="success"?"text-green-900":o==="error"?"text-red-900":"text-blue-900"}`,children:[o==="success"&&" All Systems Operational",o==="error"&&" Some Issues Detected",o==="checking"&&" Running Tests..."]}),r.jsxs("p",{className:`text-sm ${o==="success"?"text-green-700":o==="error"?"text-red-700":"text-blue-700"}`,children:[o==="success"&&"Admin system is working correctly",o==="error"&&"Check the details below to diagnose issues",o==="checking"&&"Please wait..."]})]})]})}),r.jsx("div",{className:"space-y-4",children:e.map((c,d)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx(a,{status:c.status}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:c.name}),r.jsx("p",{className:`text-sm ${c.status==="success"?"text-green-600":c.status==="error"?"text-red-600":"text-blue-600"}`,children:c.message})]})]}),r.jsx(_t,{variant:c.status==="success"?"default":c.status==="error"?"destructive":"secondary",children:c.status})]}),c.details&&r.jsxs("details",{className:"mt-3",children:[r.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"View technical details"}),r.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-3 rounded overflow-auto",children:JSON.stringify(c.details,null,2)})]})]},d))}),r.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Need Help?"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[r.jsxs("li",{children:[" If server is unreachable: Deploy with ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"supabase functions deploy server"})]}),r.jsx("li",{children:" If blog API fails: Check KV store has data at key 'blog_posts'"}),r.jsx("li",{children:" If admin endpoints fail: Verify server code is deployed correctly"}),r.jsxs("li",{children:[" If all tests pass: Try logging in at ",r.jsx("a",{href:"/admin",className:"underline",children:"/admin"})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-4",children:[r.jsx(re,{onClick:()=>window.location.href="/admin",variant:"default",children:"Go to Admin Login"}),r.jsx(re,{onClick:()=>window.location.href="/admin-debug",variant:"outline",children:"Connection Debug Tool"}),r.jsxs(re,{onClick:()=>window.open(`https://supabase.com/dashboard/project/${e5}/functions`,"_blank"),variant:"outline",children:[r.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Supabase Dashboard"]})]})]})})})},Bye=({open:e,onClose:t,onSelectMode:n,brandColor:s="#6B0F1A"})=>{const i=[{mode:"pickup",icon:Dn,title:"Pickup",subtitle:"Fast & easy",description:"Ready in ~1520 min"},{mode:"delivery",icon:zs,title:"Delivery",subtitle:"To your door",description:"Delivered to your address"}],a=o=>{n(o),t()};return r.jsx(Kr,{open:e,onOpenChange:t,children:r.jsxs(kr,{className:"sm:max-w-2xl p-0 overflow-hidden",children:[r.jsx(ps,{className:"sr-only",children:"Choose Order Method"}),r.jsx(Hs,{className:"sr-only",children:"Select whether you'd like to order for pickup or delivery"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"How would you like to order?"}),r.jsx("p",{className:"text-gray-600",children:"Choose your preferred ordering method"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map((o,c)=>{const d=o.icon;return r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:r.jsx(we,{className:"p-6 hover:shadow-lg transition-all cursor-pointer border-2 hover:border-current group",style:{"--hover-color":s},onClick:()=>a(o.mode),role:"button",tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),a(o.mode))},children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center transition-colors group-hover:bg-current group-hover:text-white",style:{backgroundColor:`${s}15`},children:r.jsx(d,{className:"w-8 h-8 transition-colors",style:{color:s}})}),r.jsx("h3",{className:"text-xl font-bold mb-1",children:o.title}),r.jsx("p",{className:"text-sm font-medium mb-2",style:{color:s},children:o.subtitle}),r.jsx("p",{className:"text-sm text-gray-600",children:o.description})]})})},o.mode)})}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"You can always change your selection later"})]})]})})},Vye={name:"Shahirizada Fresh Market",tagline:"Halal, never-frozen meats  freshly cut daily in Naperville.",logo:"/data/sample/logo.svg",theme:{brand:"#6B0F1A",accent:"#E8D5BA",bg:"#FFFFFF",text:"#1B1B1B"},contact:{phone:"+1 (772) 773-7680",email:"shahirzadafreshmarket@gmail.com"},address:{line1:"3124 Illinois Rte 59 Suite 154",city:"Naperville",state:"IL",zip:"60564",coordinates:{lat:41.7508,lng:-88.1535}},integrations:{pos:"toast",ordering:{enabled:!0,mode:"stripe"},pickup:{enabled:!0},delivery:{enabled:!0,provider:"doordash",max_distance_miles:8},reservations:{type:"opentable",url:"https://www.opentable.com/sample-bistro"}},social:{instagram:"shahirizadafreshmarket",facebook:""},seo:{title:"Shahirizada Fresh Market | Premium Halal Meats & Groceries | Online Ordering",description:"Shop Shahirizada Fresh Market for premium halal meats and groceries. Halal, never-frozen meats  freshly cut daily in Naperville. Order online for pickup or delivery today.",keywords:"halal meat, halal grocery, online ordering, food delivery, pickup, fresh market, halal butcher, naperville, shahirizada"},announcement:" Fresh halal meats delivered daily! Order online for pickup or delivery.",newsletter:!0,loyalty:{enabled:!0,earnPerDollar:10,rewardThreshold:500,loyaltyHref:"/loyalty"},features:{catering:!0,events:!0,giftCards:!0,careers:!0},stripe:{publishableKey:"",connectAccountId:"",applicationFeePercent:1}},Wye={timezone:"America/Chicago",schedule:{monday:{open:"11:00",close:"21:00",closed:!1},tuesday:{open:"11:00",close:"21:00",closed:!1},wednesday:{open:"11:00",close:"21:00",closed:!1},thursday:{open:"11:00",close:"22:00",closed:!1},friday:{open:"11:00",close:"23:00",closed:!1},saturday:{open:"10:00",close:"23:00",closed:!1},sunday:{open:"10:00",close:"20:00",closed:!1}}},Hye={categories:[],dietaryFilters:[]},DP={posts:[{id:"uzbek-plov-recipe",slug:"uzbek-plov-recipe",title:"Uzbek Plov: A Hearty Classic Made with Shahirzada Beef",subtitle:"Traditional Central Asian rice dish perfected with halal beef",category:"Recipe",author:"Chef Otabek",date:"2025-01-15",image:"https://images.unsplash.com/photo-1649777476920-0eef34169cdb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx1emJlayUyMHBsb3YlMjByaWNlJTIwYmVlZnxlbnwxfHx8fDE3NjEzNjQxMTB8MA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Discover how authentic Uzbek Plov comes alive with tender halal beef from Shahirzada Fresh Market. Our never-frozen cuts bring unmatched flavor to this timeless Central Asian dish.",featured:!1,content:["Plov is more than a rice dishit's a symbol of hospitality. Start by browning Shahirzada halal beef cubes until golden.","Add onions, carrots, and the signature blend of cumin and barberries before layering fragrant basmati rice.","Steam slowly in a kazan for the perfect pull-apart texture and serve warm for a family feast."]},{id:"best-shashlik-recipe",slug:"best-shashlik-recipe",title:"How to Cook the Best Shashlik with Halal Lamb",subtitle:"Juicy, smoky kebabs grilled to perfection",category:"Recipe",author:"Chef Zamira",date:"2025-01-18",image:"https://images.unsplash.com/photo-1660262849063-63c52a1fa2e5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsYW1iJTIwc2hhc2hsaWslMjBrZWJhYiUyMGdyaWxsfGVufDF8fHx8MTc2MTM2NDExMXww&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Juicy, smoky, and perfectly tender  learn the secrets to real Shashlik using Shahirzada's halal lamb, cut fresh daily in Naperville.",featured:!1,content:["Marinate lamb chunks in onion puree, black pepper, salt, and vinegar for at least four hours.","Grill over open coals until edges are lightly charred and meat is tender inside.","Serve with flatbread, tomato sauce, and sliced onions  the Uzbek way."]},{id:"kazan-kebab",slug:"kazan-kebab",title:"Secrets to Make Delicious Kazan Kebab",subtitle:"Rich and flavorful slow-cooked beef perfection",category:"Recipe",author:"Chef Adil",date:"2025-01-22",image:"figma:asset/c14dec2d5a19e922af70064320b84895029133d4.png",excerpt:"If there's one dish that captures the heart of Central Asian comfort food, it's Kazan Kebab  a slow-cooked masterpiece of tender beef, caramelized vegetables, and deep, aromatic spices simmered together in a cast-iron cauldron known as the kazan.",featured:!1,readTime:8,tags:["Kazan Kebab","Central Asian Cuisine","Beef Recipes","Slow Cooking","Food Culture"],content:`This dish is not just a meal  it's an experience built around patience, fire, and flavor.

##  What is Kazan Kebab?

Originating from the nomadic traditions of Central Asia, Kazan Kebab (also called Qozon Kabob) is a one-pot dish that brings together chunks of marinated beef or lamb, potatoes, onions, and sometimes carrots  all slow-cooked over an open flame.

Unlike grilled kebabs, the meat in Kazan Kebab is braised in its own juices and oil, resulting in melt-in-your-mouth tenderness and deep, smoky richness.

##  The Secret Ingredients

### 1. The Right Cut of Meat
Use beef brisket, short ribs, or lamb shoulder  cuts with a balance of fat and connective tissue. These pieces turn silky and tender during slow cooking.

### 2. Onion and Garlic Base
Onions caramelize in oil before the meat goes in. This forms a sweet foundation for the dish. Garlic cloves are often left whole to roast gently in the steam.

### 3. Spices That Matter
Traditionally, Kazan Kebab includes black pepper, cumin, coriander, paprika, and bay leaves. Some regional variations add chili flakes or ground sumac for tang.

### 4. Potatoes  the Flavor Absorbers
The sliced potatoes soak up all that rendered fat and spice-infused broth, becoming golden, crispy, and buttery-soft inside.

##  How to Make Kazan Kebab at Home

### Ingredients

- 2 lbs (1 kg) beef or lamb, cut into large chunks
- 45 medium potatoes, thickly sliced
- 2 large onions, sliced into rings
- 56 whole garlic cloves
- 1 tsp ground cumin
- 1 tsp paprika
- 1 tsp black pepper
- 1 bay leaf
- Salt to taste
- 1/3 cup vegetable or sunflower oil

### Method

1. Heat your kazan or heavy cast-iron pot over medium flame and pour in the oil.
2. Add onions and fry until golden brown and slightly crisp. Remove and set aside.
3. Place meat chunks into the hot oil. Sear all sides until browned and a crust forms.
4. Add garlic, cumin, paprika, salt, pepper, and bay leaf. Stir well.
5. Return onions to the pot and layer sliced potatoes on top.
6. Reduce heat to low, cover tightly, and let it cook slowly for 1.5 to 2 hours. Don't stir  the layers will cook evenly in the trapped steam and oil.
7. When ready, gently toss everything to coat potatoes in the flavorful oil.
8. Serve hot, garnished with parsley or fresh cilantro.

##  Pro Tips for Authentic Flavor

- **Use animal fat** (tallow or lamb fat) instead of oil for deeper aroma.
- **Keep the lid on**  Kazan Kebab thrives on steam and pressure.
- **Cook outdoors** on open fire for smoky authenticity.
- **Let it rest** for 10 minutes before serving to let juices redistribute.

##  Serving Suggestions

Serve Kazan Kebab family-style right from the pot. Pair it with fresh flatbread or naan, a side of pickled onions, and a refreshing tomato-cucumber salad.

Traditionally, it's enjoyed with a cup of hot black tea  a perfect balance to its rich, meaty flavors.

##  Final Thoughts

Kazan Kebab is more than just a recipe  it's a ritual of patience and love. The longer you let the flavors develop, the richer and more irresistible the result. 

So next time you crave comfort food that tells a story, light up your stove (or your campfire), and let the magic of the kazan do the rest.`},{id:"why-americans-love-steak",slug:"why-americans-love-steak",title:"Why Americans Love a Good Steak  and How Halal Makes It Better",subtitle:"Exploring steak culture with halal-certified quality",category:"News",author:"Team Shahirzada",date:"2025-01-28",image:"https://images.unsplash.com/photo-1657143378324-83c1609f32a8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwc3RlYWslMjBkaW5uZXJ8ZW58MXx8fHwxNzYxMzE1MDMxfDA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Steak culture is thriving in the U.S., but nothing compares to the purity and flavor of halal-certified, never-frozen beef from Shahirzada Fresh Market.",featured:!1,content:["Americans cherish steak nights  a celebration of quality and simplicity.","Halal beef elevates this tradition with ethical sourcing and exceptional freshness.","Visit our Naperville location for ribeye, striploin, and filet cuts that make every bite memorable."]},{id:"choose-best-steak",slug:"choose-best-steak",title:"How to Choose the Best Steak in Town",subtitle:"Expert butcher tips for selecting premium cuts",category:"Guide",author:"Butcher Rahim",date:"2025-02-02",image:"https://images.unsplash.com/photo-1690983325970-185c8a6c0ba6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJibGVkJTIwcmliZXllJTIwc3RlYWt8ZW58MXx8fHwxNzYxMzkzNzk0fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",excerpt:"A step-by-step guide to picking the perfect steakfresh, halal, and never frozenfrom Shahirzada Fresh Market in Naperville.",featured:!0,tags:["steak","halal","butcher-tips","Naperville"],readTime:5,content:`## How to Choose the Best Steak in Town
**By Butcher Rahim | Shahirzada Fresh Market  Naperville, IL**

There's nothing quite like cutting into a perfectly cooked steakthe sear, the aroma, and that first juicy bite. But before you fire up the grill, one question matters most: how do you choose the right steak?

At **Shahirzada Fresh Market**, a halal butcher at 3124 Illinois Rte 59 #158, Naperville, we believe a great steak starts with quality halal meat, expert butchering, and genuine freshness. Here's your guide.

### 1) Start with Fresh, Never-Frozen Meat
Frozen steaks can lose moisture and cook unevenly. We cut fresh dailyno thawing, no compromisesso your steak sears beautifully right away.

### 2) Look for Color and Marbling
Choose vibrant red beef with fine white marbling. 
- **Ribeye:** richest marbling, big flavor.
- **New York Strip:** balanced marbling, firmer bite.
- **Tenderloin:** lean and buttery for those who prefer less fat.

### 3) Understand Grades (and Handling)
Labels like Select, Choice, and Prime are helpful, but ethical sourcing and careful handling matter most. Our beef is **USDA-inspected and halal-certified**processed with integrity and kept immaculate from farm to counter.

### 4) Match the Cut to the Occasion
- **Ribeye:** grill or cast-iron; deep flavor.
- **Sirloin:** leaner, great weeknight choice.
- **Tenderloin/Filet:** ultra-tender; cook gently to medium-rare.
- **T-Bone/Porterhouse:** strip + tenderloin in one.
- **Flank/Skirt:** thin, quick; perfect for marinades and fajitas.

Our butchers help you pair the right cut with your recipe and cooking method.

### 5) Smell and Feel the Quality
Fresh beef has a clean scent and a firm, springy feelnever sticky or sour. We inspect every piece before it hits the case.

### 6) Ask Your Butcher
We love questions. Ask about trim level, thickness, and cooking tipswe'll even prep custom cuts on the spot.

### 7) Choose Local, Choose Halal
Buying from a local halal butcher supports your community and ensures humane, transparent practices. Every cut at Shahirzada is **100% halal-certified** and **never frozen**.`,meta_title:"How to Choose the Best Steak in Town | Shahirzada Fresh Market Naperville",meta_description:"Learn how to pick the perfect halal steakfresh, never frozenplus cuts, marbling, and cooking tips from Shahirzada Fresh Market in Naperville, IL.",keywords:["halal steak","best steak Naperville","Shahirzada Fresh Market","how to choose steak","ribeye vs strip","never frozen halal meat"]},{id:"italian-meatballs",slug:"italian-meatballs",title:"Italian Meatballs Made to Perfection with Our Halal Meats",subtitle:"Authentic Italian comfort food with halal quality",category:"Recipe",author:"Chef Giulia",date:"2025-02-05",image:"https://images.unsplash.com/photo-1565086869529-8c7802cca7a0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpdGFsaWFuJTIwbWVhdGJhbGxzJTIwcGFzdGF8ZW58MXx8fHwxNzYxMzY0MTE0fDA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Experience authentic Italian comfort food using fresh halal beef and lamb from Shahirzada Fresh Market  soft, juicy, and full of flavor.",featured:!1,content:["Mix equal parts halal beef and lamb with breadcrumbs, garlic, and herbs.","Pan-sear until golden, then simmer in tomato sauce for 30 minutes.","Serve with spaghetti or crusty bread  simple and delicious."]},{id:"best-halal-burgers",slug:"best-halal-burgers",title:"How to Make the Best Halal Hamburgers at Home",subtitle:"Never-frozen ground beef for unmatched juiciness",category:"Recipe",author:"Chef Marco",date:"2025-02-10",image:"https://images.unsplash.com/photo-1551000484-9feb8d3c2b2c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXJnZXIlMjBiZWVmJTIwZ291cm1ldHxlbnwxfHx8fDE3NjEzNjQxMTV8MA&ixlib=rb-4.1.0&q=80&w=1080",excerpt:"Perfecting a halal burger starts with the freshest beef. Learn how Shahirzada Fresh Market's never-frozen grind gives your burgers unmatched juiciness.",featured:!1,content:["Form loose patties from freshly ground halal beef  no fillers, no freezing.","Season generously and grill until lightly charred.","Top with caramelized onions, cheese, and a soft bun for an unbeatable burger night."]}],categories:[{id:"recipe",name:"Recipe",icon:""},{id:"guide",name:"Guide",icon:""},{id:"news",name:"News",icon:""},{id:"event",name:"Event",icon:""}]},zS=()=>{const[e,t]=x.useState(null),[n,s]=x.useState(null),[i,a]=x.useState(null),[o,c]=x.useState(null);return x.useEffect(()=>{t(Vye),s(Wye);let d=!0;const h=async()=>{try{const m=await fetch(`${qr}/menu`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt}});if(!m.ok)throw new Error(`Menu fetch failed with status ${m.status}`);const g=await m.json();if(!g||!Array.isArray(g.categories))throw new Error("Supabase menu returned invalid payload");d&&(console.log(" Menu loaded from Supabase:",g.categories.length,"categories"),a(g))}catch(m){console.error(" Menu fetch error:",m?.message||m),d&&a(Hye)}},f=async()=>{try{const m=await fetch(`${qr}/blog/posts`,{headers:{Authorization:`Bearer ${Nt}`,apikey:Nt}});if(m.ok){const g=await m.json();console.log(" Blog posts loaded from server:",g.posts?.length||0,"posts"),c(g)}else console.log(" Server blog fetch failed. Using local fallback. Visit /migrate-blog-posts to upload."),c(DP)}catch(m){console.log(" Blog fetch error (using local fallback):",m.message||m),c(DP)}};return h(),f(),()=>{d=!1}},[]),{config:e,hours:n,menu:i,blog:o}};var qye=(e,t,n,s,i,a,o,c)=>{let d=document.documentElement,h=["light","dark"];function f(y){(Array.isArray(e)?e:[e]).forEach(b=>{let j=b==="class",S=j&&a?i.map(_=>a[_]||_):i;j?(d.classList.remove(...S),d.classList.add(a&&a[y]?a[y]:y)):d.setAttribute(b,y)}),m(y)}function m(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let y=localStorage.getItem(t)||n,b=o&&y==="system"?g():y;f(b)}catch{}},Gye=x.createContext(void 0),Kye={setTheme:e=>{},themes:[]},Yye=()=>{var e;return(e=x.useContext(Gye))!=null?e:Kye};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:o,themes:c,nonce:d,scriptProps:h})=>{let f=JSON.stringify([n,t,a,e,c,o,s,i]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${qye.toString()})(${f})`}})});const Jye=({...e})=>{const{theme:t="system"}=Yye();return r.jsx(bue,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function Xye(e,t,n=3){return t.filter(s=>s.id!==e.id&&s.category===e.category).slice(0,n)}const LP="kazan-kebab-image-url";function Qye(){const[e,t]=x.useState(!1),[n,s]=x.useState(!1);return x.useEffect(()=>{if(localStorage.getItem(LP)){s(!0);return}(async()=>{t(!0);try{console.log("[AutoUpload] Uploading Kazan Kebab image to Supabase Storage...");const o=await YL(Nw,"kazan-kebab.png");console.log("[AutoUpload] Upload successful! URL:",o),localStorage.setItem(LP,o),s(!0),window.dispatchEvent(new CustomEvent("kazan-image-uploaded",{detail:{url:o}}))}catch(o){console.error("[AutoUpload] Failed to upload Kazan image:",o)}finally{t(!1)}})()},[]),null}const Zye=()=>{const e=Je(t3);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"SMS Consent Checkbox"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"A warm, trustworthy design for collecting SMS consent during checkout"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Checkout Experience Preview"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name *"}),r.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number *"}),r.jsx("input",{type:"tel",placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!0})]}),r.jsx(q3,{brandColor:"#6B0F1A",accentColor:"#E8D5BA"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email (optional)"}),r.jsx("input",{type:"email",placeholder:"your@email.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!0})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Current State"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"px-4 py-2 rounded-lg font-mono text-sm",style:{backgroundColor:e?"#6B0F1A":"#e5e7eb",color:e?"white":"#374151"},children:["smsConsentAtom: ",e?"true":"false"]}),e&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),r.jsx("span",{className:"text-sm font-medium",children:"User has consented to SMS"})]})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["This state is persisted to localStorage with key: ",r.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded",children:"tabsy-sms-consent"})]})]}),r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-amber-900",children:" Design Features"}),r.jsxs("ul",{className:"space-y-2 text-sm text-amber-800",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Custom animated checkbox"})," with spring physics and ripple effect"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Warm color transitions"})," using brand colors (#6B0F1A)"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Distinctive typography"}),' mixing serif italic for "Tabsy" branding']})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Interactive states"})," with hover, active, and checked animations"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"TCPA compliant"})," with clear opt-in language and STOP/HELP instructions"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Accessible"})," with proper ARIA labels and keyboard support"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Persistent state"})," saved to localStorage via Jotai atomWithStorage"]})]})]})]})]})})},e0e=()=>{const e=Je(bd),t=Je(wd);Je(xx);const n=5e3;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Modern Tip Selector"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"A warm, generous tipping experience that feels like giving a gift"})]}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 mb-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Checkout Preview"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Subtotal: ",lt(n/100)]})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Try selecting preset percentages or entering a custom tip amount"})]}),r.jsx(G3,{brandColor:"#6B0F1A",subtotal:n})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Tip Percentage"}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:e}),r.jsx("span",{className:"text-lg text-gray-600",children:"%"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 font-mono",children:"tipPercentageAtom"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Custom Tip"}),r.jsx("div",{className:"flex items-baseline gap-2",children:r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:lt(t/100)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 font-mono",children:"customTipAtom (in cents)"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Calculated Tip Amount"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),r.jsx("span",{className:"font-semibold",children:lt(n/100)})]}),e>0&&t===0&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsxs("span",{children:["Tip (",e,"%):"]}),r.jsx("span",{className:"font-bold",children:lt(n*(e/100)/100)})]}),t>0&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsx("span",{children:"Tip (Custom):"}),r.jsx("span",{className:"font-bold",children:lt(t/100)})]}),r.jsxs("div",{className:"border-t pt-2 flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Total with tip:"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:lt((n+(t>0?t:Math.round(n*(e/100))))/100)})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-100 to-orange-100 rounded-2xl p-6 border-2 border-amber-200",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 text-amber-900 flex items-center gap-2",children:[r.jsx("span",{children:""}),"Design Features"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-amber-900",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Warm, generous aesthetic"})," - feels like giving a gift, not paying a fee"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Animated heart icon"})," that fills and pulses when tip is selected"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Sparkle effects"})," on selected preset buttons"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Smooth animations"})," with spring physics and staggered reveals"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Custom dollar input"})," with real-time cents conversion"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Reactive thank you card"})," that appears when tip is added"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Brand color integration"})," with warm gradients and tints"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Persistent state"})," via Jotai atoms (tipPercentageAtom, customTipAtom)"]})]})]})]}),r.jsxs("div",{className:"mt-6 bg-gray-900 rounded-2xl p-6 text-white",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Technical Implementation"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-300 font-mono",children:[r.jsx("li",{children:" Integrated with Jotai state management"}),r.jsx("li",{children:" Automatic totals recalculation via cartTotalsAtom"}),r.jsx("li",{children:" Persisted to localStorage"}),r.jsx("li",{children:" Custom tip converts dollars to cents (Stripe-ready)"}),r.jsx("li",{children:" Percentage presets: 15%, 18%, 20%, 25%"}),r.jsx("li",{children:" Motion library for smooth animations"}),r.jsx("li",{children:" Fully accessible with keyboard support"})]})]})]})})},t0e=300*1e3,n0e="/version.json";let vc=null,Sp=null;async function t6(){try{const e=await fetch(`${n0e}?t=${Date.now()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});return e.ok?await e.json():(console.warn("Version file not found - skipping version check"),null)}catch(e){return console.warn("Failed to fetch version info:",e),null}}async function r0e(){const e=await t6();return e?vc===null?(vc=e.version,console.log("Current version:",vc),!1):e.version!==vc?(console.log("New version detected:",e.version),!0):!1:!1}function s0e(){confirm("A new version of the app is available! Click OK to reload and get the latest features.")?window.location.reload():setTimeout(()=>{confirm("Please reload to get the latest version of the app.")&&window.location.reload()},60*1e3)}function i0e(){n6(),t6().then(e=>{e&&(vc=e.version,console.log("Version check started. Current version:",vc))}),Sp=setInterval(async()=>{await r0e()&&s0e()},t0e)}function n6(){Sp&&(clearInterval(Sp),Sp=null)}const a0e=({id:e,name:t,thumbnail:n,qty:s,unitPrice:i,lineTotal:a,priceUnit:o,unitLabel:c,selections:d,notes:h,brandColor:f,onUpdateQty:m,onUpdateNotes:g,onRemove:y,onEdit:b})=>{const[j,S]=x.useState(!1),[_,N]=x.useState(h||""),[C,T]=x.useState(s),[M,P]=x.useState(!1),E=hx(o),R=iS(o),q=fx(o),V=px(o),Q=mx(o,c),G=E?aS(o):"",A=Fr(i),J=Fr(a),$=E?`Weight${G?` (${G})`:""}`:"Quantity";x.useEffect(()=>{P(_!==(h||"")||C!==s)},[_,C,h,s]),x.useEffect(()=>{T(s)},[s]);const F=d?.variants&&d.variants.length>0||d?.addons&&d.addons.length>0||h,B=()=>{_!==h&&g(e,_),C!==s&&m(e,C),P(!1),S(!1),Ne.success("Item updated successfully",{duration:2e3})},O=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),B())},Z=z=>{const L=V>0?Number(z.toFixed(V)):Math.round(z);return Math.max(q,L)},H=()=>{const z=C-R;if(z<q){y(e);return}T(Z(z))},U=()=>{const z=Z(C+R);T(z)},D=E?`${Aa(C,o)}${G?` ${G}`:""}`:C,ee=E?`${Aa(s,o)}${G?` ${G}`:""}`:`${s}`;return r.jsxs(W.div,{className:"rounded-xl border border-gray-200 bg-white hover:shadow-sm transition-all duration-200 ease-in-out",layout:!0,children:[r.jsxs("button",{onClick:()=>S(!j),className:"w-full p-3 text-left flex items-center gap-3 rounded-xl",children:[r.jsx("div",{className:`${j?"w-16 h-16":"w-14 h-14"} rounded-md overflow-hidden bg-gray-100 flex-shrink-0 transition-all duration-200`,children:r.jsx(Kn,{src:n,alt:t,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-medium leading-5 truncate text-gray-800",children:t}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:E?r.jsxs(r.Fragment,{children:[ee," @ ",A,Q&&r.jsx("span",{className:`text-gray-400 whitespace-nowrap ${Q.startsWith("/")?"ml-0":"ml-1"}`.trim(),children:Q})]}):r.jsxs(r.Fragment,{children:[ee," ",A]})}),F&&!j&&r.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Customized"})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:J}),r.jsx(Mi,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${j?"rotate-180":""}`})]})]}),r.jsx(st,{initial:!1,children:j&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"border-t border-gray-100 mt-2 pt-3 pb-3 pl-[4.5rem] pr-3 space-y-3",children:[d?.variants&&d.variants.length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:"Options"}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:d.variants.map((z,L)=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 text-xs text-gray-700",children:[z.label,": ",z.value]},L))})]}),d?.addons&&d.addons.length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:"Add-ons"}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:d.addons.map((z,L)=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 text-xs text-gray-700",children:[z.label,z.qty&&z.qty>1&&` (${z.qty})`]},L))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Special instructions"}),r.jsx(ao,{value:_,onChange:z=>N(z.target.value),onKeyDown:O,placeholder:"e.g., No onions, extra sauce...",className:"rounded-lg border-gray-200 text-sm placeholder-gray-400 p-2 resize-none h-[72px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:$}),r.jsxs("div",{className:"inline-flex h-9 items-center border border-gray-200 rounded-xl overflow-hidden mt-1",children:[r.jsx("button",{onClick:z=>{z.stopPropagation(),H()},disabled:C<=q,className:"w-8 h-8 flex items-center justify-center hover:bg-gray-50 transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":`Decrease ${$.toLowerCase()}`,children:r.jsx(Ph,{className:"w-4 h-4 text-gray-600"})}),E?r.jsx(mS,{value:C,unit:o,min:q,decimals:V,onCommit:z=>T(z)}):r.jsx("span",{className:"px-4 text-sm font-medium text-gray-800 min-w-[2.5rem] text-center",children:D}),r.jsx("button",{onClick:z=>{z.stopPropagation(),U()},className:"w-8 h-8 flex items-center justify-center hover:bg-gray-50 transition-colors","aria-label":`Increase ${$.toLowerCase()}`,children:r.jsx(Us,{className:"w-4 h-4 text-gray-600"})})]})]}),r.jsxs("div",{className:"flex gap-2 pt-1",children:[r.jsxs(re,{variant:M?"default":"outline",size:"sm",onClick:z=>{z.stopPropagation(),M?B():b(e)},className:`flex-1 h-9 rounded-lg transition-all ${M?"text-white shadow-sm":"border-gray-300 hover:bg-gray-50"}`,style:M?{backgroundColor:f}:void 0,title:M?"Save your updates to this item":"Save item options",children:[r.jsx(WI,{className:"w-3.5 h-3.5 mr-1.5"}),M?"Save Changes":"Save Options"]}),r.jsxs(re,{variant:"ghost",size:"sm",onClick:z=>{z.stopPropagation(),y(e)},className:"h-9 rounded-lg text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Rh,{className:"w-3.5 h-3.5 mr-1.5"}),"Remove"]})]})]})})})]})},o0e={frequentlyBoughtTogether:{"avocado-toast":["cold-brew","orange-juice","breakfast-burrito"],"french-toast":["coffee-latte","bacon-strips","fresh-fruit"],"breakfast-burrito":["avocado-toast","hash-browns","orange-juice"],"truffle-burger":["french-fries","craft-beer","onion-rings"],"caesar-salad":["garlic-bread","iced-tea","soup-of-day"],"fish-tacos":["chips-guac","margarita","mexican-rice"],carbonara:["garlic-bread","house-wine","caesar-salad"],"margherita-pizza":["buffalo-wings","soda","tiramisu"],"chocolate-lava":["espresso","vanilla-ice-cream","port-wine"],tiramisu:["espresso","cappuccino","limoncello"],"craft-beer":["truffle-burger","buffalo-wings","nachos"],"house-wine":["carbonara","salmon-special","cheese-board"]},bestSellers:{breakfast:["avocado-toast","french-toast","breakfast-burrito"],lunch:["truffle-burger","caesar-salad","fish-tacos"],pasta:["carbonara","margherita-pizza"],desserts:["chocolate-lava","tiramisu","cheesecake"],drinks:["craft-beer","house-wine","cold-brew","margarita"]},crossCategoryPairs:{entree:["french-fries","onion-rings","side-salad","craft-beer","iced-tea"],salad:["falafel","iced-tea","lemonade"],main:["chocolate-lava","tiramisu","ice-cream"],breakfast:["coffee-latte","orange-juice","cold-brew"]}};function l0e(e,t,n=o0e,s=3){const i=[],a=new Set(e.map(f=>f.sku)),o=new Set(a),c=e.some(f=>{const m=t.find(g=>g.id===f.sku);return m&&["lunch","breakfast","pasta"].includes(m.id)}),d=e.some(f=>{const m=t.find(g=>g.id===f.sku);return m&&m.id==="drinks"}),h=e.some(f=>{const m=t.find(g=>g.id===f.sku);return m&&m.id==="desserts"});if(c&&!d){const f=t.filter(m=>!o.has(m.id)&&["drinks","beverages"].some(g=>m.id.includes(g)||m.name.toLowerCase().includes("drink")));i.push(...f.slice(0,1).map(m=>({...m,reason:"category-pairing",reasonText:" Complete your meal"})))}if(c&&!h&&i.length<s){const f=t.filter(m=>!o.has(m.id)&&m.id.includes("dessert"));i.push(...f.slice(0,1).map(m=>({...m,reason:"category-pairing",reasonText:" Save room for dessert"})))}if(i.length<s){const f=t.filter(m=>m.popular&&!o.has(m.id));i.push(...f.slice(0,s-i.length).map(m=>({...m,reason:"best-seller",reasonText:" Customer favorite"})))}return i.slice(0,s)}const c0e=({cartItems:e,menuItems:t,brandColor:n,onAdd:s})=>{const[i,a]=x.useState(new Set),o=x.useMemo(()=>{if(e.length===0||t.length===0)return[];const h=e.map(m=>({sku:m.itemId}));return l0e(h,t,void 0,3).map(m=>({id:m.id,name:m.name,imageUrl:m.imageUrl||m.image||"https://source.unsplash.com/400x400/?food",price:m.price,reason:m.reasonText}))},[e,t]),c=(h,f)=>{s(h),a(m=>new Set(m).add(h.id)),Ne.success(` ${h.name} added to your order`,{duration:2e3}),d(f),setTimeout(()=>{a(m=>{const g=new Set(m);return g.delete(h.id),g})},2e3)},d=h=>{const m=h.closest(".upsell-card")?.querySelector("img");if(!m)return;const g=m.cloneNode(!0),y=h.getBoundingClientRect();g.style.position="fixed",g.style.left=`${y.left+y.width/2-30}px`,g.style.top=`${y.top+y.height/2-30}px`,g.style.width="60px",g.style.height="60px",g.style.zIndex="9999",g.style.borderRadius="8px",g.style.objectFit="cover",g.style.boxShadow="0 4px 20px rgba(0,0,0,0.2)",g.style.transition="all 600ms cubic-bezier(0.4, 0, 0.2, 1)",g.style.pointerEvents="none",document.body.appendChild(g),requestAnimationFrame(()=>{g.style.transform="translate(250px, -200px) scale(0) rotate(360deg)",g.style.opacity="0"}),setTimeout(()=>{g.remove()},600)};return e.length===0||o.length===0?null:r.jsxs("div",{className:"mt-6 rounded-xl bg-gray-50 p-4 border border-gray-100",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-800 mb-1",children:"You'll love these too "}),r.jsx("p",{className:"text-xs text-gray-500",children:"Carefully selected to complement your order."})]}),r.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3",children:o.map((h,f)=>{const m=i.has(h.id);return r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.1,duration:.1},className:"upsell-card rounded-xl border border-gray-200 bg-white p-3 flex flex-col hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 mb-2 shadow-sm",children:r.jsx(Kn,{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover"})}),r.jsx("h4",{className:"text-xs font-medium leading-tight text-gray-800 text-center mb-1 line-clamp-1",children:h.name}),r.jsxs("p",{className:"text-xs text-gray-500 text-center mb-2",children:["$",h.price.toFixed(2)]}),r.jsx("button",{onClick:g=>c(h,g.currentTarget),disabled:m,"aria-label":`Add ${h.name} to your current order`,title:"Add to your current order",className:`
                    upsell-add-btn w-full h-9 rounded-lg text-sm font-medium transition-all
                    flex items-center justify-center gap-1
                    ${m?"bg-green-600 text-white":"text-white hover:scale-[1.03] active:scale-[0.98]"}
                  `,style:m?void 0:{backgroundColor:n},children:m?r.jsxs(W.span,{initial:{scale:.8},animate:{scale:1},className:"flex items-center justify-center gap-1",children:[r.jsx(In,{className:"w-3.5 h-3.5"}),"Added "]}):"Add"})]},h.id)})})]})},d0e=({subtotal:e,currentTip:t,presets:n,brandColor:s,onChange:i,fulfillmentType:a="pickup"})=>{const[o,c]=x.useState("percent"),[d,h]=x.useState(""),[f,m]=x.useState(!1),g=Ls/100,{tipAmountCents:y,exceedsUberMax:b,cappedTipCents:j}=x.useMemo(()=>{const M=t.mode==="percent"?e*t.value/100:t.value,P=Math.round(M*100),E=a==="delivery"&&P>Ls;return{tipAmountCents:P,exceedsUberMax:E,cappedTipCents:E?Ls:P}},[e,t,a]),S=M=>{i({mode:"percent",value:M}),m(!1),h(""),c("percent")},_=()=>{const M=parseFloat(d);!isNaN(M)&&M>=0&&(i({mode:o,value:M}),m(!1),h(""))},N=(M,P)=>M==="percent"?e*P/100:P,C=M=>t.mode==="percent"&&t.value===M,T=t.mode==="amount"||t.mode==="percent"&&!n.includes(t.value);return r.jsxs("div",{className:"rounded-xl bg-gray-50 p-4 border border-gray-100 space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Add a tip"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.map(M=>r.jsxs("button",{onClick:()=>S(M),"aria-pressed":C(M),className:"px-3 h-9 rounded-full border text-sm transition-all aria-pressed:text-white",style:C(M)?{backgroundColor:s,borderColor:s}:{},children:[M,"%"]},M)),r.jsx("button",{onClick:()=>{f||i({mode:"percent",value:0}),m(!f)},"aria-pressed":T||f,className:"px-3 h-9 rounded-full border text-sm transition-all aria-pressed:text-white",style:T||f?{backgroundColor:s,borderColor:s,color:"white"}:{},children:"Custom"})]}),r.jsx(st,{children:f&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 space-y-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Custom tip"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(re,{variant:o==="percent"?"default":"outline",size:"sm",onClick:()=>c("percent"),className:"flex-1",style:o==="percent"?{backgroundColor:s,color:"white"}:{},children:[r.jsx(Yu,{className:"w-3.5 h-3.5 mr-1"}),"Percent"]}),r.jsxs(re,{variant:o==="amount"?"default":"outline",size:"sm",onClick:()=>c("amount"),className:"flex-1",style:o==="amount"?{backgroundColor:s,color:"white"}:{},children:[r.jsx(ii,{className:"w-3.5 h-3.5 mr-1"}),"Amount"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[o==="amount"&&r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm pointer-events-none z-10",children:"$"}),r.jsx(Me,{type:"number",value:d,onChange:M=>h(M.target.value),autoFocus:!0,placeholder:o==="percent"?"e.g., 18":"e.g., 5.00",paddingLeft:o==="amount"?32:12,paddingRight:o==="percent"?32:12,min:"0",step:o==="percent"?"1":"0.01",onKeyDown:M=>{M.key==="Enter"&&_()}}),o==="percent"&&r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm pointer-events-none z-10",children:"%"})]}),r.jsx(re,{onClick:_,style:{backgroundColor:s},className:"text-white",children:"Apply"})]})]})})}),t.value>0&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Tip amount: $",N(t.mode,t.value).toFixed(2)]}),r.jsx(st,{children:b&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"flex items-start gap-2.5 p-3 bg-amber-50 border border-amber-200 rounded-lg mt-2",children:[r.jsx(Su,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-xs text-amber-800 space-y-1",children:[r.jsxs("p",{className:"font-medium",children:["Uber Direct has a maximum tip of $",g.toFixed(2)]}),r.jsxs("p",{className:"text-amber-700",children:["Your tip of $",(y/100).toFixed(2)," exceeds this limit. The courier will receive $",(j/100).toFixed(2)," and you won't be charged for the excess."]}),r.jsxs("button",{type:"button",onClick:()=>i({mode:"amount",value:g}),className:"font-medium underline hover:no-underline text-amber-800",children:["Set tip to $",g.toFixed(2)]})]})]})})})]})},u0e=({selected:e,onChange:t,brandColor:n,pickupEta:s="2030 mins",deliveryEta:i="3045 mins"})=>{const o=(c=>{const d=c.replace("#",""),h=parseInt(d.substring(0,2),16),f=parseInt(d.substring(2,4),16),m=parseInt(d.substring(4,6),16);return`rgba(${h}, ${f}, ${m}, 0.08)`})(n);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"text-xs text-gray-500 font-medium",children:["Fulfillment ",e===null&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 rounded-2xl bg-gray-50 border border-gray-100 p-2",children:[r.jsxs("button",{type:"button",onClick:()=>t("pickup"),className:`
            relative h-14 rounded-xl border-2 flex flex-col justify-center items-center gap-1 text-sm font-medium transition-all duration-200
            ${e==="pickup"?"border-current shadow-sm":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-100"}
          `,style:e==="pickup"?{borderColor:n,backgroundColor:o,color:n}:void 0,children:[r.jsx(Dn,{className:"w-5 h-5",style:{color:e==="pickup"?n:"#6B7280"}}),r.jsx("span",{className:e==="pickup"?"text-xs font-medium":"text-xs font-medium text-gray-700",children:"Pickup"}),e==="pickup"&&r.jsx(W.div,{layoutId:"fulfillment-glow",className:"absolute inset-0 rounded-xl pointer-events-none",style:{boxShadow:`0 0 0 2px ${o} inset`},transition:{type:"spring",bounce:.2,duration:.4}})]}),r.jsxs("button",{type:"button",onClick:()=>t("delivery"),className:`
            relative h-14 rounded-xl border-2 flex flex-col justify-center items-center gap-1 text-sm font-medium transition-all duration-200
            ${e==="delivery"?"border-current shadow-sm":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-100"}
          `,style:e==="delivery"?{borderColor:n,backgroundColor:o,color:n}:void 0,children:[r.jsx(zs,{className:"w-5 h-5",style:{color:e==="delivery"?n:"#6B7280"}}),r.jsx("span",{className:e==="delivery"?"text-xs font-medium":"text-xs font-medium text-gray-700",children:"Delivery"}),e==="delivery"&&r.jsx(W.div,{layoutId:"fulfillment-glow",className:"absolute inset-0 rounded-xl pointer-events-none",style:{boxShadow:`0 0 0 2px ${o} inset`},transition:{type:"spring",bounce:.2,duration:.4}})]})]})]})};function h0e(e,t=[]){let n=[];function s(a,o){const c=x.createContext(o);c.displayName=a+"Context";const d=n.length;n=[...n,o];const h=m=>{const{scope:g,children:y,...b}=m,j=g?.[e]?.[d]||c,S=x.useMemo(()=>b,Object.values(b));return r.jsx(j.Provider,{value:S,children:y})};h.displayName=a+"Provider";function f(m,g){const y=g?.[e]?.[d]||c,b=x.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(o=>x.createContext(o));return function(c){const d=c?.[e]||a;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[s,f0e(i,...t)]}function f0e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var m0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],r6=m0e.reduce((e,t)=>{const n=Mg(`Primitive.${t}`),s=x.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),BS="Progress",VS=100,[p0e]=h0e(BS),[g0e,x0e]=p0e(BS),s6=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:a=y0e,...o}=e;(i||i===0)&&!$P(i)&&console.error(v0e(`${i}`,"Progress"));const c=$P(i)?i:VS;s!==null&&!FP(s,c)&&console.error(b0e(`${s}`,"Progress"));const d=FP(s,c)?s:null,h=gg(d)?a(d,c):void 0;return r.jsx(g0e,{scope:n,value:d,max:c,children:r.jsx(r6.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":gg(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":o6(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});s6.displayName=BS;var i6="ProgressIndicator",a6=x.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,i=x0e(i6,n);return r.jsx(r6.div,{"data-state":o6(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:t})});a6.displayName=i6;function y0e(e,t){return`${Math.round(e/t*100)}%`}function o6(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gg(e){return typeof e=="number"}function $P(e){return gg(e)&&!isNaN(e)&&e>0}function FP(e,t){return gg(e)&&!isNaN(e)&&e<=t&&e>=0}function v0e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${VS}\`.`}function b0e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${VS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var w0e=s6,j0e=a6;function S0e({className:e,value:t,indicatorClassName:n,...s}){return r.jsx(w0e,{"data-slot":"progress",className:_e("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:r.jsx(j0e,{"data-slot":"progress-indicator",className:_e("bg-primary h-full w-full flex-1 transition-all",n),style:{transform:`translateX(-${100-(t||0)}%)`}})})}const N0e=({subtotalCents:e,earnPerDollar:t=10,rewardThreshold:n=500,loyaltyHref:s="/loyalty",isLoggedIn:i,currentStars:a=0,brandColor:o="#6B0F1A",onNavigate:c})=>{const d=n5(e,t),h=a+d,f=n&&h>=n,m=n?Math.min(100,h/n*100):0,g=n?Math.max(0,n-h):0,y=()=>f?" Reward unlocked! You can redeem a free item.":g<=100?`You're almost there! ${g} more stars to unlock a reward.`:`Earn ${g} more stars for a free treat `,b=j=>{c?c(j):typeof window<"u"&&(window.location.href=j)};return e===0?r.jsx("div",{className:"mt-4 rounded-xl border border-gray-200 bg-gray-50 p-4",children:r.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[r.jsx(Bt,{className:"w-5 h-5"}),r.jsx("p",{className:"text-sm",children:"Add items to see your stars"})]})}):r.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-4 rounded-xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 p-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-2 right-2 opacity-20",children:r.jsx(fi,{className:"w-8 h-8 text-amber-600"})}),r.jsx("div",{className:"flex items-start justify-between mb-3 relative z-10",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i?r.jsx(Va,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}):r.jsx(Bt,{className:"w-5 h-5 fill-amber-400 text-amber-400 flex-shrink-0"}),r.jsxs(W.p,{initial:{scale:1.05},animate:{scale:1},className:"font-bold text-amber-900",children:["You'll earn ",r.jsx("span",{className:"text-xl",children:d})," Stars!"]},d)]}),i?r.jsxs("p",{className:"text-sm text-amber-900/80",children:["Current balance: ",r.jsxs("span",{className:"font-semibold",children:[a," "]})]}):r.jsx("p",{className:"text-sm text-amber-900/80",children:"Create an account to track your rewards and redeem perks."})]})}),n&&r.jsxs("div",{className:"mb-3 relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-amber-900/70 mb-1.5",children:[r.jsx("span",{children:"Progress to next reward"}),r.jsxs("span",{className:"font-medium",children:[Math.min(h,n)," / ",n," "]})]}),r.jsx("div",{className:"relative overflow-hidden rounded-full",children:r.jsx(S0e,{value:m,className:"h-2.5 bg-amber-100",indicatorClassName:"bg-gradient-to-r from-amber-400 to-orange-400"})}),r.jsx("p",{className:"text-xs text-amber-700 mt-1.5",children:y()})]}),f&&r.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-3 rounded-lg bg-emerald-50 border-2 border-emerald-200 px-3 py-2.5 flex items-start gap-2 relative z-10",children:[r.jsx(Ra,{className:"w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 text-sm text-emerald-800",children:[r.jsx("p",{className:"font-medium",children:"Reward unlocked!"}),r.jsx("p",{className:"text-emerald-700",children:"Visit Loyalty to redeem your free item."})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2.5 relative z-10",children:i?r.jsxs(re,{size:"sm",className:"text-white hover:opacity-90 transition-opacity",style:{backgroundColor:o},onClick:()=>b(s),children:[r.jsx(Va,{className:"w-4 h-4 mr-1.5"}),"View Loyalty"]}):r.jsxs(r.Fragment,{children:[r.jsxs(re,{size:"sm",className:"text-white hover:opacity-90 transition-opacity",style:{backgroundColor:o},onClick:()=>b("/login?next=/products"),children:[r.jsx(Bt,{className:"w-4 h-4 mr-1.5"}),"Log in / Create account"]}),r.jsx("button",{onClick:()=>b(s),className:"text-sm text-amber-900 underline hover:text-amber-800 transition-colors px-2",children:"What is Loyalty?"})]})}),r.jsx("p",{className:"text-xs text-amber-600/80 mt-3 italic relative z-10",children:i?"Stars never expire. Redeem anytime for free items and exclusive perks.":"Sign up to start earning stars on every order. 100% free to join!"})]})},UP=({items:e,itemCount:t,subtotalCents:n,tip:s,deliveryType:i,fulfillmentType:a,totals:o,brandColor:c,loyaltyConfig:d,menuItems:h=[],onUpdateQty:f,onUpdateNotes:m,onRemove:g,onEdit:y,onRecommendationAdd:b,onTipChange:j,onDeliveryTypeChange:S,onContinue:_,onContinueBlocked:N,continueDisabled:C=!1,showDeliveryError:T=!1,onClearCart:M,onNavigate:P,onMinimize:E,deliveryAddress:R,onAddressSelect:q,taxRate:V=0,serviceFeeRate:Q=0})=>{const{user:G,loyaltyBalance:A}=Yr(),J=Je(n3),$=Je(hs),F=B=>`$${(B/100).toFixed(2)}`;return r.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.25,ease:"easeInOut"},className:"flex flex-col h-full",children:[r.jsxs("header",{className:"flex-shrink-0 bg-white border-b h-14 flex items-center justify-between px-4 pr-14 lg:pr-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[E&&r.jsx(W.button,{onClick:E,whileHover:{scale:1.05},whileTap:{scale:.95},className:"hidden lg:flex h-9 w-9 rounded-full bg-gray-100 hover:bg-gray-200 items-center justify-center transition-all hover:shadow-md group","aria-label":"Minimize cart",title:"Minimize cart",children:r.jsx(bY,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-800 transition-colors"})}),r.jsxs("h3",{className:"font-semibold text-gray-900",children:["Your Cart ",t>0&&r.jsxs("span",{className:"text-gray-500 font-normal",children:["(",t,")"]})]})]}),e.length>0&&r.jsx("button",{onClick:M,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Clear"})]}),r.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Step 1 of 3"}),r.jsxs("div",{className:"flex gap-1.5",children:[r.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:c}}),r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-200"}),r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-200"})]})]})}),e.length===0?r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${c}20`},children:r.jsx(nl,{className:"w-8 h-8",style:{color:c}})}),r.jsx("h3",{className:"font-medium mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add items from the menu to get started"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-3 pb-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:e.map(B=>r.jsx(a0e,{id:B.id,itemId:B.sku,name:B.name,thumbnail:B.image||"https://source.unsplash.com/200x200/?food",qty:B.qty,unitPrice:B.price,lineTotal:B.price*B.qty,priceUnit:B.priceUnit,unitLabel:B.unitLabel,notes:B.note,brandColor:c,onUpdateQty:f,onUpdateNotes:m,onRemove:g,onEdit:y},B.id))}),r.jsx("div",{className:"border-t border-gray-100"}),r.jsx(c0e,{cartItems:e.map(B=>({itemId:B.sku,qty:B.qty})),menuItems:h,brandColor:c,onAdd:b}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Fulfillment Method"}),r.jsx(u0e,{selected:a??null,onChange:S,brandColor:c}),i==="delivery"&&q&&r.jsx("div",{className:"mt-4",children:r.jsx(K3,{onAddressSelect:q,initialAddress:R,brandColor:c,googleMapsApiKey:void 0})})]}),r.jsxs("div",{children:[r.jsx(d0e,{subtotal:n/100,currentTip:s,presets:[10,15,20],brandColor:c,onChange:j,fulfillmentType:i}),r.jsx("p",{className:"text-xs text-gray-600 mt-2",children:i==="delivery"?"100% of your tip goes directly to your Uber Direct courier.":"Tips are optional for pickup orders."})]}),r.jsx(Y3,{brandColor:c}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{className:$>0?"font-medium text-gray-400 line-through":"font-medium",children:F(J)})]}),$>0&&r.jsxs("div",{className:"flex justify-between text-sm",style:{color:c},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-",F($)]})]}),$>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal after discount"}),r.jsx("span",{className:"font-medium",children:F(o.subtotal)})]}),o.deliveryFee&&o.deliveryFee>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),o.deliveryFeePending?r.jsxs("span",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx("span",{className:"h-4 w-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin","aria-label":"Calculating delivery fee"}),"Calculating"]}):r.jsx("span",{className:"font-medium",children:F(o.deliveryFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Application fee",Q>0&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",(Q*100).toFixed(1),"%)"]})]}),r.jsx("span",{className:"font-medium",children:F(o.serviceFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Tax",V>0&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",(V*100).toFixed(2),"%)"]})]}),r.jsx("span",{className:"font-medium",children:F(o.tax)})]}),o.tip>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{className:"font-medium",children:F(o.tip)})]}),r.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold",children:"Total"}),o.deliveryFeePending?r.jsxs("span",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx("span",{className:"h-4 w-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin","aria-label":"Calculating total"}),"Calculating"]}):r.jsx("span",{className:"font-bold text-lg",style:{color:c},children:F(o.total)})]})})]}),d?.enabled&&r.jsx(N0e,{subtotalCents:o.subtotal,earnPerDollar:d.earnPerDollar,rewardThreshold:d.rewardThreshold,loyaltyHref:d.loyaltyHref,isLoggedIn:!!G,currentStars:A,brandColor:c,onNavigate:P})]})}),r.jsxs("footer",{className:"flex-shrink-0 bg-white border-t p-4 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]",children:[r.jsx(re,{size:"lg",className:"w-full text-white hover:opacity-90",style:{backgroundColor:c},onClick:()=>{if(C){N?.();return}_()},disabled:C,children:"Continue to Checkout"}),a===null&&r.jsx("p",{className:"text-xs text-red-600 text-center mt-2 font-medium",children:" Please select Pickup or Delivery to continue"}),T&&r.jsx("p",{className:"text-xs text-red-600 text-center mt-2",children:"We couldn't calculate delivery for this address. Please update the address or contact us."})]})]})]})},_0e=/\D/g,k0e=e=>e.replace(_0e,""),WS=e=>{const t=k0e(e);return t.length===11&&t.startsWith("1")?`+${t}`:t.length===10?`+1${t}`:null},HS=Object.freeze(Object.defineProperty({__proto__:null,toE164PhoneNumber:WS},Symbol.toStringTag,{value:"Module"}));let zP=null,$v=null;function C0e(e){return e?((!$v||zP!==e)&&($v=M3(e),zP=e),$v):null}const BP=({deliveryType:e,totals:t,brandColor:n,onBack:s,onSubmit:i,deliveryQuote:a,onDeliveryQuote:o,isActiveViewport:c=!0,initialAddress:d,taxRate:h=0,serviceFeeRate:f=0})=>{const{user:m,isAuthenticated:g}=Yr(),{items:y}=jl(),{config:b}=zS(),j=x.useMemo(()=>b?.stripe?.publishableKey||import.meta?.env?.VITE_STRIPE_PUBLISHABLE_KEY||null,[b?.stripe?.publishableKey]),[S,_]=x.useState(j),[N,C]=x.useState(!0),[T,M]=x.useState(null),[P,E]=x.useState(()=>{const se=m?.phone??"",ue=m?.name?.trim().split(/\s+/)||[],de=ue[0]||"",le=ue.slice(1).join(" ")||"";return{customer:{first_name:de,last_name:le,phone:se,email:m?.email||""},delivery:e==="delivery"&&d?{line1:d.line1,line2:d.line2||"",city:d.city,state:d.state,zip:d.zip,instructions:d.instructions||""}:void 0,paymentMethod:"card"}});x.useEffect(()=>{if(m&&g){const se=m?.name?.trim().split(/\s+/)||[],ue=se[0]||"",de=se.slice(1).join(" ")||"";E(le=>({...le,customer:{...le.customer,first_name:le.customer.first_name||ue,last_name:le.customer.last_name||de,phone:le.customer.phone||m?.phone||"",email:m?.email||le.customer.email}}))}},[m,g]);const[R,q]=x.useState(e==="delivery"&&a?"success":"idle"),[V,Q]=x.useState(null);x.useRef(null);const[G,A]=x.useState(0),J=e==="delivery"?"delivery":"pickup",[$,F]=x.useState(null),[B,O]=x.useState(!1),[Z,H]=x.useState(null),U=x.useRef(null),D=x.useMemo(()=>yS(y),[y]),ee=x.useMemo(()=>vS(y),[y]);x.useEffect(()=>{let se=!1;async function ue(){C(!0),M(null);try{const de=await Bue();if(se)return;if(de?.publishableKey){_(de.publishableKey);return}if(j){_(j);return}_(null),M("Stripe publishable key is not configured.")}catch(de){if(se)return;j?(console.warn("Falling back to embedded Stripe publishable key after config fetch failure:",de),_(j)):(_(null),M(de?.message||"Failed to load Stripe configuration."))}finally{se||C(!1)}}return ue(),()=>{se=!0}},[j]);const z=x.useMemo(()=>C0e(S),[S]),L=x.useMemo(()=>{if($?.clientSecret)return{clientSecret:$.clientSecret}},[$?.clientSecret]),X=()=>{A(se=>se+1)},K=x.useRef(P.customer);return x.useEffect(()=>{K.current=P.customer},[P.customer]),x.useEffect(()=>{e==="delivery"&&a?q("success"):e==="delivery"&&!a&&q("idle")},[e,a]),x.useEffect(()=>{if(!c){O(!1),U.current&&clearTimeout(U.current);return}if(!N){if(!S){H("Stripe payments are not configured yet."),F(null);return}if(!t.total||t.total<=0){H("Cart total must be greater than zero.");return}if($&&$.amount===t.total){P.paymentIntentId||E(se=>({...se,paymentIntentId:$.paymentIntentId}));return}return U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{let se=!1;O(!0),H(null);const ue=t.platformFee??t.serviceFee??t.fees??0,de=J==="delivery"?t.tip:0,le=t.stripeFeeEstimate??yd(t.total),je=J==="delivery"?"uber_direct":"pickup",qe=Math.max(t.total-le-ue-(t.deliveryFee||0)-de,0),ot={subtotal:t.subtotal,deliveryFee:t.deliveryFee||0,tabsyFee:ue,stripeProcessingFee:le,tax:t.tax,tip:t.tip,discount:t.discount||0,total:t.total,...t.breakdown||{},netPayoutEstimate:qe};return g3({amount:t.total,subtotal:t.subtotal,serviceFee:t.serviceFee,deliveryFee:t.deliveryFee||0,tax:t.tax,tip:t.tip,discount:t.discount||0,currency:t.currency,platformFee:ue,stripeFeeEstimate:le,deliveryProvider:je,fulfillmentType:J,breakdown:ot,orderItems:D,orderItemsSummary:ee,paymentIntentId:$?.paymentIntentId||P.paymentIntentId,customer:{firstName:K.current.first_name,lastName:K.current.last_name,email:K.current.email,phone:WS(K.current.phone)??K.current.phone}}).then(kt=>{se||(F(kt),E(rn=>({...rn,paymentIntentId:kt.paymentIntentId})))}).catch(kt=>{se||H(kt?.message||"Unable to initialize secure payment.")}).finally(()=>{se||O(!1)}),()=>{se=!0}},1e3),()=>{U.current&&clearTimeout(U.current)}}},[c,S,N,t.total,$?.amount,J]),c?N?r.jsx("div",{className:"flex flex-1 items-center justify-center p-6 text-center",children:r.jsxs("div",{children:[r.jsx(et,{className:"w-6 h-6 animate-spin text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading secure payment settings"})]})}):S?!z||!L?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[r.jsx(et,{className:"w-6 h-6 animate-spin text-gray-500"}),r.jsx("p",{className:"text-sm text-gray-600",children:Z||"Preparing secure checkout..."})]}):r.jsx(wS,{stripe:z,options:L,children:r.jsx(E0e,{deliveryType:e,totals:t,brandColor:n,onBack:s,onSubmit:i,deliveryQuote:a,onDeliveryQuote:o,formData:P,setFormData:E,paymentIntentError:Z,paymentIntentLoading:B,quoteStatus:R,quoteError:V,onRetryQuote:X,taxRate:h,serviceFeeRate:f,isLoggedIn:g})}):r.jsx("div",{className:"flex flex-1 items-center justify-center p-6 text-center",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Payments are not ready yet"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:T||"Stripe publishable key is missing. Please contact support to finish checkout."})]})}):null},E0e=({deliveryType:e,totals:t,brandColor:n,onBack:s,onSubmit:i,deliveryQuote:a,onDeliveryQuote:o,formData:c,setFormData:d,paymentIntentError:h,paymentIntentLoading:f,quoteStatus:m,quoteError:g,onRetryQuote:y,taxRate:b=0,serviceFeeRate:j=0,isLoggedIn:S=!1})=>{const _=V3(),N=z3(),[C,T]=x.useState(!1),[M,P]=x.useState(null),[E,R]=x.useState(!1),[q,V]=x.useState(null),Q=x.useRef(null),[G,A]=x.useState(!1),[J,$]=x.useState("contact"),F=x.useRef({contact:null,delivery:null,payment:null,review:null}),B=e==="delivery"?"delivery":"pickup",O=z=>{$(z),setTimeout(()=>{F.current[z]?.scrollIntoView({behavior:"smooth",block:"start"})},100)};x.useEffect(()=>{(f||h)&&R(!1)},[f,h]);const Z=async z=>{await new Promise(X=>setTimeout(X,300));const L=Ki.findUserByEmailOrPhone(z.includes("@")?z:void 0,!z.includes("@")&&z.length>3?z:void 0);V(L?{exists:!0,name:L.name||"there"}:null)},H=(z,L)=>{if(z==="customer.phone"){const X=L.trim();d(K=>({...K,customer:{...K.customer,phone:X}})),X.length>3&&(Q.current&&clearTimeout(Q.current),V(null),Q.current=setTimeout(()=>{Z(X)},1e3));return}if(z.startsWith("customer.")){const X=z.split(".")[1];d(K=>({...K,customer:{...K.customer,[X]:L}})),X==="email"&&L.length>3&&(Q.current&&clearTimeout(Q.current),V(null),Q.current=setTimeout(()=>{Z(L)},1e3))}else if(z.startsWith("delivery.")){const X=z.split(".")[1];d(K=>({...K,delivery:{...K.delivery,[X]:L}}))}else d(X=>({...X,[z]:L}))};x.useEffect(()=>()=>{Q.current&&clearTimeout(Q.current)},[]);const U=()=>{if(!c.customer.first_name||!c.customer.last_name)return"Please enter your first and last name";if(!c.customer.phone||c.customer.phone.trim().length<5)return"Please enter a valid phone number";if(!c.customer.email)return"Please enter your email address";if(e==="delivery"){if(!c.delivery?.line1||!c.delivery?.city||!c.delivery?.zip)return"Please complete the delivery address";if(a&&a.expiresAt){const z=new Date(a.expiresAt).getTime();if(Date.now()>=z)return"Delivery quote has expired. Please update your address to get a new quote."}}return null},D=async z=>{z.preventDefault(),P(null);const L=U();if(L){P(L);return}if(e==="delivery"&&(!a||m!=="success")){P("Delivery quote is still being prepared. Please wait a moment.");return}if(c.paymentMethod==="card"){if(f){P("Secure payment is still being prepared. Please wait a moment.");return}if(h){P(h);return}if(!_||!N){P("Payment form is not ready yet. Please refresh and try again.");return}if(!E){P("Payment form is still loading. Please wait a moment.");return}}T(!0);try{let X=c.paymentIntentId;if(c.paymentMethod==="card"){const{error:K,paymentIntent:se}=await _.confirmPayment({elements:N,redirect:"if_required",confirmParams:{payment_method_data:{billing_details:{name:`${c.customer.first_name} ${c.customer.last_name}`.trim(),email:c.customer.email,phone:WS(c.customer.phone)??c.customer.phone}}}});if(K)throw new Error(K.message||"Payment authorization failed.");X=se?.id||X,d(ue=>({...ue,paymentIntentId:X}))}await i({...c,paymentIntentId:X})}catch(X){P(X?.message||"Failed to place order. Please try again.")}finally{T(!1)}},ee=z=>`$${(z/100).toFixed(2)}`;return r.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.25,ease:"easeInOut"},className:"flex flex-col h-full",children:[r.jsxs("header",{className:"flex-shrink-0 bg-white border-b h-14 flex items-center gap-3 px-4 pr-14 lg:pr-4",children:[r.jsx("button",{onClick:s,className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Go back",children:r.jsx(Fs,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Checkout Details"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Enter your info and payment method"})]})]}),r.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Step 2 of 3"}),r.jsxs("div",{className:"flex gap-1.5",children:[r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-300"}),r.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:n}}),r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-200"})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("form",{onSubmit:D,className:"px-4 py-4 space-y-3",children:[r.jsxs("div",{ref:z=>F.current.contact=z,className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>O("contact"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:J==="contact"?n:"#9CA3AF"},children:"1"}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Contact"}),J!=="contact"&&c.customer.first_name&&r.jsxs("p",{className:"text-xs text-gray-500",children:[c.customer.first_name," ",c.customer.last_name]})]})]}),r.jsx(W.div,{animate:{rotate:J==="contact"?180:0},transition:{duration:.2},children:r.jsx(Mi,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx(st,{children:J==="contact"&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsxs("div",{className:"px-4 pb-4 space-y-3 border-t border-gray-100 pt-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"first_name",className:"text-sm",children:"First Name *"}),r.jsx(Me,{id:"first_name",value:c.customer.first_name,onChange:z=>H("customer.first_name",z.target.value),className:"mt-1 h-10",required:!0})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"last_name",className:"text-sm",children:"Last Name *"}),r.jsx(Me,{id:"last_name",value:c.customer.last_name,onChange:z=>H("customer.last_name",z.target.value),className:"mt-1 h-10",required:!0})]})]}),r.jsxs("div",{children:[r.jsx(Le,{htmlFor:"phone",className:"text-sm",children:"Phone Number *"}),r.jsx(Me,{id:"phone",type:"tel",value:c.customer.phone,onChange:z=>H("customer.phone",z.target.value),placeholder:"+1234567890",className:"mt-1 h-10",required:!0}),q&&q.exists&&c.customer.phone&&r.jsx(st,{children:r.jsxs(W.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-sm text-gray-600 italic mt-2",children:[" We found an existing account for ",q.name,"."," ",r.jsx("button",{type:"button",onClick:()=>A(!0),className:"underline",style:{color:n},children:"Log in"})," ","or continue as guest."]})})]}),r.jsxs("div",{children:[r.jsxs(Le,{htmlFor:"email",className:"text-sm",children:["Email *",S&&r.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"(from your account)"})]}),r.jsx(Me,{id:"email",type:"email",value:c.customer.email,onChange:z=>!S&&H("customer.email",z.target.value),placeholder:"you@example.com",className:`mt-1 h-10 ${S?"bg-gray-100 cursor-not-allowed":""}`,readOnly:S,disabled:S,required:!0}),S&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Signed in as ",c.customer.email]})]})]})})})]}),e==="delivery"&&c.delivery&&r.jsxs("div",{ref:z=>F.current.delivery=z,className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>O("delivery"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:J==="delivery"?n:"#9CA3AF"},children:"2"}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Delivery"}),J!=="delivery"&&c.delivery.line1&&r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[180px]",children:c.delivery.line1})]})]}),r.jsx(W.div,{animate:{rotate:J==="delivery"?180:0},transition:{duration:.2},children:r.jsx(Mi,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx(st,{children:J==="delivery"&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100 pt-3",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[c.delivery.line1,r.jsx("br",{}),c.delivery.line2&&r.jsxs(r.Fragment,{children:[c.delivery.line2,r.jsx("br",{})]}),c.delivery.city,", ",c.delivery.state," ",c.delivery.zip]}),c.delivery.instructions&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2 italic",children:["Note: ",c.delivery.instructions]})]})})})]}),r.jsxs("div",{ref:z=>F.current.payment=z,className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>O("payment"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:J==="payment"?n:"#9CA3AF"},children:e==="delivery"?"3":"2"}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Payment"}),J!=="payment"&&r.jsx("p",{className:"text-xs text-gray-500",children:"Credit / Debit Card"})]})]}),r.jsx(W.div,{animate:{rotate:J==="payment"?180:0},transition:{duration:.2},children:r.jsx(Mi,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx("div",{className:`grid transition-[grid-template-rows] duration-200 ease-in-out ${J==="payment"?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:r.jsx("div",{className:"overflow-hidden min-h-0",children:r.jsxs("div",{className:"px-4 pb-4 space-y-3 border-t border-gray-100 pt-3",children:[r.jsx("div",{className:`w-full p-3 rounded-lg border-2 transition-all ${c.paymentMethod==="card"?"border-current bg-gray-50":"border-gray-200 hover:border-gray-300"}`,style:c.paymentMethod==="card"?{borderColor:n}:{},children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Th,{className:"w-5 h-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-sm font-medium",children:"Credit / Debit Card"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Pay securely with Stripe"})]})]})}),r.jsxs("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-4",children:[f?r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[r.jsx(et,{className:"w-4 h-4 animate-spin"}),"Initializing secure payment..."]}):h?r.jsx("p",{className:"text-sm text-red-600",children:h}):r.jsx(W3,{options:{layout:"tabs"},onReady:()=>R(!0),onLoadError:z=>{console.error("PaymentElement load error:",z),R(!1),P("Failed to load secure payment form. Please refresh and try again.")}}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:" Securely processed via Stripe Connect."}),e==="delivery"&&r.jsxs("p",{className:"text-xs mt-1",children:[m==="loading"&&r.jsx("span",{className:"text-gray-500",children:"Calculating Uber courier quote..."}),m==="success"&&a&&r.jsxs("span",{className:"text-gray-600",children:["Delivery via Uber Direct  ",a.etaMinutes?`${a.etaMinutes} min ETA`:"ETA provided after dispatch"]}),m==="error"&&r.jsxs("span",{className:"text-red-600",children:[g||"Unable to fetch delivery quote. Please verify the address."," ",r.jsx("button",{type:"button",onClick:y,className:"underline hover:no-underline font-medium",children:"Retry"})]})]})]})]})})})]}),r.jsxs("div",{ref:z=>F.current.review=z,className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>O("review"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:J==="review"?n:"#9CA3AF"},children:e==="delivery"?"4":"3"}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Review"}),J!=="review"&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Total: ",ee(t.total)]})]})]}),r.jsx(W.div,{animate:{rotate:J==="review"?180:0},transition:{duration:.2},children:r.jsx(Mi,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx(st,{children:J==="review"&&r.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-gray-100 pt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:ee(t.subtotal)})]}),t.discount&&t.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",style:{color:n},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-",ee(t.discount)]})]}),t.deliveryFee&&t.deliveryFee>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:ee(t.deliveryFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Application fee",j>0&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",(j*100).toFixed(1),"%)"]})]}),r.jsx("span",{children:ee(t.serviceFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Tax",b>0&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",(b*100).toFixed(2),"%)"]})]}),r.jsx("span",{children:ee(t.tax)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:ee(t.tip)})]}),r.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold",children:"Total"}),r.jsx("span",{className:"font-bold text-xl",style:{color:n},children:ee(t.total)})]})}),B==="delivery"&&a&&m==="success"&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Delivery powered by Uber Direct  ETA ~",a.etaMinutes??60," minutes"]})]})})})]}),M&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:M})]})}),r.jsxs("footer",{className:"flex-shrink-0 bg-white border-t p-4 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]",children:[c.paymentMethod==="card"&&!f&&!h&&!E&&r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Initializing the secure payment form this usually takes just a second."}),r.jsx(re,{size:"lg",type:"submit",disabled:C||f||!!h||c.paymentMethod==="card"&&(!c.paymentIntentId||!E)||e==="delivery"&&(!a||m!=="success"),className:"w-full text-white hover:opacity-90",style:{backgroundColor:n},onClick:D,children:C?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-5 h-5 mr-2 animate-spin"}),"Placing Order..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Place Order  ",ee(t.total)]})})]}),r.jsx(Kr,{open:G,onOpenChange:A,children:r.jsxs(kr,{className:"sm:max-w-md",children:[r.jsxs(Ws,{children:[r.jsx(ps,{children:"Welcome back"}),r.jsx(Hs,{children:"Sign in to speed up checkout and access your past orders."})]}),r.jsx("div",{className:"mt-4",children:r.jsx(kS,{onSuccess:()=>A(!1),brandColor:n})})]})})]})},VP=({orderId:e,orderNumber:t,eta:n,deliveryType:s,items:i,totals:a,brandColor:o,loyalty:c,onTrackOrder:d,onViewOrderDetails:h,onBackToMenu:f,onNewOrder:m})=>{const{config:g}=zS(),y=yd(a.total),b=Math.max(a.total-y-a.serviceFee-(a.deliveryFee||0),0),j=_=>`$${(_/100).toFixed(2)}`,S=_=>new Date(_).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,ease:"easeOut"},className:"flex flex-col h-full",children:[r.jsx("header",{className:"flex-shrink-0 bg-gradient-to-br from-green-50 to-emerald-50 border-b border-green-100 py-6 px-4 pr-14 lg:pr-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(W.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:r.jsx(Hr,{className:"w-9 h-9 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Order Confirmed! "}),r.jsx("p",{className:"text-gray-600",children:"We've received your order"})]})}),r.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Step 3 of 3"}),r.jsxs("div",{className:"flex gap-1.5",children:[r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-300"}),r.jsx("div",{className:"w-8 h-1 rounded-full bg-gray-300"}),r.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:o}})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[c&&r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white",style:{backgroundColor:o},children:r.jsx(Bt,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["You earned ",c.starsEarned," "]}),r.jsxs("p",{className:"text-xs text-gray-600",children:["New balance: ",c.newBalance.toLocaleString()," "]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium",children:"Order Details"}),r.jsxs("span",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:["#",t]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[s==="pickup"?r.jsx(nn,{className:"w-5 h-5 text-gray-600 mt-0.5"}):r.jsx(bn,{className:"w-5 h-5 text-gray-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:s==="pickup"?"Pickup":"Delivery"}),r.jsx("p",{className:"text-xs text-gray-500",children:s==="pickup"?g?`${g.address.line1}, ${g.address.city}, ${g.address.state} ${g.address.zip}`:"Pickup available at our Naperville location":"Your delivery address"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"w-5 h-5 text-gray-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:s==="pickup"?"Ready by":"Estimated arrival"}),r.jsx("p",{className:"text-xs text-gray-500",children:S(n)})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Order Summary"}),r.jsx("div",{className:"space-y-2",children:i.map((_,N)=>{const C=_.quantityDisplay||`${_.qty}`;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-700",children:[C," ",_.name]}),r.jsx("span",{className:"font-medium",children:j(_.price*_.qty)})]},N)})}),r.jsxs("div",{className:"border-t border-gray-200 mt-3 pt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{children:j(a.subtotal)})]}),a.discount&&a.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",style:{color:o},children:[r.jsx("span",{className:"font-medium",children:"Promo Discount"}),r.jsxs("span",{className:"font-semibold",children:["-",j(a.discount)]})]}),a.deliveryFee&&a.deliveryFee>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsx("span",{children:j(a.deliveryFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Platform fee"}),r.jsx("span",{children:j(a.serviceFee)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsx("span",{children:j(a.tax)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Tip"}),r.jsx("span",{children:j(a.tip)})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold",children:"Total Paid"}),r.jsx("span",{className:"font-bold text-lg",style:{color:o},children:j(a.total)})]}),b>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Est. net to kitchen after fees: ",r.jsx("strong",{children:j(b)})]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What's Next?"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1.5",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1",children:""}),r.jsx("span",{children:"You'll receive SMS updates about your order"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1",children:""}),r.jsx("span",{children:s==="pickup"?"We'll notify you when your order is ready for pickup":"Track your delivery in real-time"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"mt-1",children:""}),r.jsx("span",{children:"Questions? Call us anytime"})]})]})]})]}),r.jsxs("footer",{className:"flex-shrink-0 bg-white border-t p-4 space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s==="delivery"&&d&&r.jsxs(re,{size:"lg",className:"w-full text-white",style:{backgroundColor:o},onClick:d,children:[r.jsx(nn,{className:"w-5 h-5 mr-2"}),"Track Delivery"]}),h&&r.jsxs(re,{size:"lg",className:`w-full text-white ${s!=="delivery"||!d?"col-span-2":""}`,style:{backgroundColor:o},onClick:h,children:[r.jsx($I,{className:"w-5 h-5 mr-2"}),"View Order Details"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(re,{size:"lg",variant:"outline",className:"w-full",onClick:f,children:[r.jsx(XK,{className:"w-4 h-4 mr-2"}),"Back to Menu"]}),r.jsx(re,{size:"lg",variant:"outline",className:"w-full",onClick:m,children:"Start New Order"})]})]})]})};function T0e(e){const t=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(e).matches,[n,s]=x.useState(t);return x.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const i=window.matchMedia(e),a=o=>s(o.matches);return s(i.matches),i.addEventListener("change",a),()=>{i.removeEventListener("change",a)}},[e]),n}const P0e=({brandColor:e,onNavigate:t,menu:n,className:s="",hasAnnouncementBar:i=!1,topOffsetMobile:a,topOffsetDesktop:o,loyaltyConfig:c})=>{const{items:d,clearCart:h,updateItemQty:f,removeItem:m,addItem:g}=jl(),{refreshUser:y}=Yr(),b=wt(T3),j=Je(sS),S=Je(ui),_=Je(hs),[N,C]=Hn(cS),[T,M]=Hn(dS),P=wt(e3),[E,R]=x.useState({mode:"percent",value:15}),[q,V]=x.useState(!1),[Q,G]=Hn(vd),[A,J]=x.useState("review"),[$,F]=x.useState(null),[B,O]=x.useState(null),[Z,H]=x.useState(!1),[U,D]=x.useState(!1),[ee,z]=x.useState(!1),L=x.useRef(null),X=N==="delivery"?"delivery":"pickup",K=T0e("(min-width: 1024px)");x.useEffect(()=>{N!=="pickup"&&N!=="delivery"&&N!==null&&C(null)},[N,C]);const se=d.reduce((xe,ft)=>xe+ft.qty,0),ue=se>0||A==="confirmed",de=x.useMemo(()=>{if(!n||!n.categories)return console.log(" Menu data not available yet for recommendations"),[];try{const xe=n.categories.flatMap(ft=>ft.items.map(it=>({...it,categoryId:ft.id})));return console.log(" Loaded",xe.length,"products for AI recommendations"),xe}catch(xe){return console.error("Failed to process menu items for recommendations:",xe),[]}},[n]);x.useEffect(()=>{X==="pickup"&&O(null)},[X,T]),x.useEffect(()=>{if(X!=="delivery"||!T){O(null),L.current=null,H(!1),D(!1);return}const xe=T;if(!xe.line1||!xe.city||!xe.state||!xe.zip)return;const ft=`${xe.line1}|${xe.line2||""}|${xe.city}|${xe.state}|${xe.zip}`;if(B&&L.current===ft)return;L.current=ft;let it=!1;const Xt=setTimeout(async()=>{H(!0);try{console.log(" Creating delivery quote for address:",{line1:xe.line1,city:xe.city,state:xe.state,zip:xe.zip});const jt=d.map(Qt=>{const{quantity:dr,descriptionSuffix:Jr,quantityDisplay:Be,unit:St,rawQuantity:Ct,isWeightBased:$t}=YD(Qt.qty,Qt.priceUnit);return{name:Jr?`${Qt.name} ${Jr}`:Qt.name,quantity:dr,price:Qt.price*Qt.qty,size:Be,unit:St,quantityDisplay:Be,rawQuantity:$t?Ct:void 0,weight:$t?Ct:void 0}}),Xn=await x3({address:{line1:xe.line1,line2:xe.line2,city:xe.city,state:xe.state,zip:xe.zip,country:xe.country,latitude:xe.latitude,longitude:xe.longitude},items:jt});if(it||L.current!==ft)return;console.log(" Delivery quote received:",Xn),O(Xn),D(!1)}catch(jt){if(it||L.current!==ft)return;console.error(" Failed to fetch delivery quote:",jt),O(null);const Xn=bS(jt);Ne.error(Xn),D(!0)}finally{it||H(!1)}},600);return()=>{it=!0,clearTimeout(Xt)}},[X,T,d]);const le=x.useMemo(()=>{const xe=d.reduce((on,vs)=>on+vs.price*vs.qty,0),ft=Math.round(xe*cg),it=0,Jn=_,Xt=xe>0?ft/xe:0,jt=X==="delivery"?B?.feeCents??null:0,Xn=X==="delivery"&&(Z||jt===null),Qt=typeof jt=="number"?jt:0,dr=xe+ft+Qt+it-Jn,Jr=Math.round(dr*j),Be=E.mode==="percent"?Math.round(xe*E.value/100):Math.round(E.value*100),St=X==="delivery"?Math.min(Be,Ls):Be,Ct=dr+Jr+St,$t=yd(Ct),Js=X==="delivery"?St:0,Wt=Math.max(Ct-$t-ft-Qt-Js,0);return{subtotal:xe,customItemsFee:it>0?it:void 0,deliveryFee:Qt>0?Qt:void 0,serviceFee:ft,platformFee:ft,serviceFeeRate:Xt,discount:Jn>0?Jn:void 0,tax:Jr,tip:St,total:Ct,currency:"USD",courier:X==="delivery"?"uber_direct":null,fulfillmentType:X,stripeFeeEstimate:$t,deliveryFeePending:Xn,breakdown:{subtotal:xe,deliveryFee:Qt,tabsyFee:ft,stripeProcessingFee:$t,tax:Jr,tip:St,discount:Jn,total:Ct,netPayoutEstimate:Wt}}},[d,X,B,E.mode,E.value,j,_]),je=(xe,ft)=>{f(xe,ft)},qe=(xe,ft)=>{console.log("Update notes:",xe,ft)},ot=xe=>{m(xe)},kt=xe=>{console.log("Edit item:",xe)},rn=xe=>{const ft={sku:xe.id,name:xe.name,price:Math.round(xe.price*100),priceUnit:yi(xe.unit||xe.priceUnit||"each"),unitLabel:xe.unitLabel,qty:1,image:xe.imageUrl,mods:[],note:""};g(ft)},sn=x.useCallback(xe=>{O(xe)},[]),Rr=x.useCallback(xe=>{C(xe==="delivery"?"delivery":"pickup"),xe==="pickup"&&(O(null),P())},[P,C]),an=()=>{J("details")},Ze=()=>{J("review")},Lt=X==="delivery"&&!!T?.line1&&!!T?.city&&!!T?.state&&!!T?.zip,yt=N===null||X==="delivery"&&(!Lt||Z||U||!B),tt=X==="delivery"&&Lt&&U,cr={phone:"+1 (772) 773-7680",email:"info@tabsy.us",address:"3124 Illinois Rte 59 Suite 154, Naperville, IL 60564"},wi=(xe,ft)=>({id:xe.id,number:xe.shortCode,mode:xe.fulfillmentType,eta:xe.fulfillmentType==="delivery"?xe.deliveryEta||xe.pickupEta||xe.createdAt:xe.pickupEta||xe.createdAt,items:xe.items.map(it=>{const Jn=it.quantity>0?Math.round(it.totalPriceCents/it.quantity):it.unitPriceCents,Xt=it.quantityDisplay||formatQuantityDisplay(it.quantity,it.unit||void 0);return{id:it.id,name:it.name,qty:it.quantity,quantityDisplay:Xt,unit:it.unit,unitLabel:it.unitLabel,price:Jn}}),totals:{subtotal:xe.totals.subtotalCents,deliveryFee:xe.totals.deliveryFeeCents||0,serviceFee:xe.totals.serviceFeeCents,tax:xe.totals.taxCents,tip:xe.totals.tipCents,total:xe.totals.totalCents},loyalty:ft}),ta=async xe=>{if(d.length===0){Ne.error("Cart is empty");return}const ft=X==="delivery"?"delivery":"pickup";try{console.log(" Placing order...",{deliveryType:ft,hasDeliveryQuote:!!B,deliveryQuote:B,formData:{...xe,delivery:xe.delivery},totals:le});const{order:it,loyalty:Jn}=await b({form:xe,deliveryType:ft,totals:{subtotal:le.subtotal,deliveryFee:le.deliveryFee||0,serviceFee:le.serviceFee,tax:le.tax,tip:le.tip,total:le.total,discount:le.discount||0},tipMode:E.mode,promoId:S?.id,promoCode:S?.code,deliveryQuote:ft==="delivery"?B:null});console.log(" Order placed successfully:",it);let Xt=Jn??null;try{const jt=await Ih({email:xe.customer.email,phone:xe.customer.phone});if(jt?.profile){const Xn=jt.profile.stars??0;Xt?Xt={...Xt,newBalance:Xn}:Xt={profileId:jt.profile.id,starsEarned:0,newBalance:Xn,referralCode:jt.profile.referralCode??null,awardedAt:new Date().toISOString()}}}catch(jt){console.warn("Unable to synchronize loyalty profile after order",jt)}H3(it,Xt),Kj(l5(it,Xt)),y(),F(wi(it,Xt)),J("confirmed"),Ne.success("Order placed successfully!")}catch(it){console.error(" Order placement failed:",it),Ne.error(it?.message||"Failed to place order. Please try again.")}},Ys=()=>{$&&(V(!1),G(!0),t(`/track/${$.id}`))},ji=()=>{$&&(V(!1),G(!0),h(),J("review"),F(null),O(null),t(`/account/orders/${$.id}`))},Yn=()=>{V(!1),G(!0),h(),J("review"),F(null),O(null),t("/products")},xs=()=>{h(),J("review"),F(null),V(!1),G(!0),O(null)};x.useEffect(()=>{if(A==="confirmed"){d.length>0&&(J("review"),F(null));return}q&&A!=="review"&&d.length===0&&J("review")},[q,A,d.length]),x.useEffect(()=>{if(typeof window<"u")return q?(document.body.setAttribute("data-cart-open","true"),document.body.style.overflow="hidden"):(document.body.removeAttribute("data-cart-open"),document.body.style.overflow=""),()=>{document.body.removeAttribute("data-cart-open"),document.body.style.overflow=""}},[q]);const ys=a??(i?"104px":"64px"),uo=o??(i?"120px":"80px");return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"cartBackdrop","aria-hidden":"true"}),ue&&r.jsxs(r.Fragment,{children:[r.jsx(st,{children:Q&&se>0&&r.jsxs(W.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",damping:20,stiffness:300},className:"hidden lg:block !fixed !bottom-6 !right-6 z-[9999]",style:{position:"fixed",bottom:"24px",right:"24px"},children:[r.jsx(W.div,{className:"absolute inset-0 rounded-full",style:{backgroundColor:e},animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),r.jsxs(W.button,{whileHover:{scale:1.1,rotate:[0,-5,5,-5,0]},whileTap:{scale:.95},className:"relative rounded-full shadow-2xl text-white flex items-center justify-center w-16 h-16 group",style:{backgroundColor:e},onClick:()=>G(!1),"aria-label":"Open cart",title:"Open cart",children:[r.jsx(nl,{className:"w-7 h-7 transition-transform group-hover:scale-110"}),r.jsx(W.span,{initial:{scale:0},animate:{scale:1},className:"absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 bg-red-600 text-white text-[10px] font-bold rounded-full min-w-[20px] h-[20px] px-1 flex items-center justify-center shadow-lg border-2 border-white",children:se}),r.jsx(W.div,{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-white/0 via-white/20 to-white/0",animate:{rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"linear"}})]})]})}),r.jsx(st,{children:!Q&&r.jsxs(r.Fragment,{children:[r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"hidden lg:block fixed inset-0 bg-black/30 backdrop-blur-sm z-[90]",style:{top:uo},onClick:()=>G(!0),"aria-label":"Close cart"}),r.jsx(W.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"cart-drawer hidden lg:flex fixed right-0 bottom-0 bg-white shadow-2xl flex-col border-l border-gray-200 overflow-hidden z-[100]",style:{width:"var(--drawer-w)",top:uo},children:r.jsxs(st,{mode:"wait",children:[A==="review"&&r.jsx(UP,{items:d,itemCount:se,subtotalCents:le.subtotal,tip:E,deliveryType:X,fulfillmentType:N,totals:le,deliveryFeePending:le.deliveryFeePending,brandColor:e,serviceFeeRate:le.serviceFeeRate??0,loyaltyConfig:c,menuItems:de,onUpdateQty:je,onUpdateNotes:qe,onRemove:ot,onEdit:kt,onRecommendationAdd:rn,onTipChange:R,onDeliveryTypeChange:Rr,onContinue:an,onContinueBlocked:()=>z(!0),continueDisabled:yt,showDeliveryError:tt,onClearCart:h,onNavigate:t,onMinimize:()=>G(!0),deliveryAddress:T,onAddressSelect:M,taxRate:j},"review"),A==="details"&&r.jsx(BP,{deliveryType:X,totals:le,brandColor:e,onBack:Ze,onSubmit:ta,deliveryQuote:B,onDeliveryQuote:sn,isActiveViewport:K,initialAddress:T,taxRate:j,serviceFeeRate:le.serviceFeeRate??0},"details"),A==="confirmed"&&$&&r.jsx(VP,{orderId:$.id,orderNumber:$.number,eta:$.eta,deliveryType:$.mode,items:$.items,totals:$.totals,brandColor:e,loyalty:$.loyalty,onTrackOrder:X==="delivery"?Ys:void 0,onViewOrderDetails:ji,onBackToMenu:Yn,onNewOrder:xs},"confirmed")]})})]})})]}),r.jsxs("div",{className:"lg:hidden",style:{pointerEvents:"none"},children:[d.length>0&&!q&&r.jsx("div",{className:"fixed z-[9999]",style:{position:"fixed",bottom:"80px",right:"20px",pointerEvents:"auto",touchAction:"manipulation"},children:r.jsxs("button",{className:"relative rounded-full shadow-2xl text-white flex items-center justify-center w-14 h-14 group active:shadow-lg active:scale-95 transition-transform",style:{backgroundColor:e,touchAction:"manipulation"},onClick:()=>V(!0),"aria-label":"Open cart",title:"Open cart",children:[r.jsx(nl,{className:"w-6 h-6 transition-transform group-active:scale-90"}),r.jsx("span",{className:"absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 bg-red-600 text-white text-[10px] font-bold rounded-full min-w-[20px] h-[20px] px-1 flex items-center justify-center shadow-lg border-2 border-white",children:se})]})}),q&&r.jsxs(W.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"cart-drawer fixed inset-0 bg-white flex flex-col z-[100] overflow-hidden",style:{top:ys,pointerEvents:"auto",touchAction:"pan-y"},children:[r.jsx("button",{onClick:()=>V(!1),className:"absolute top-2 right-3 z-[110] h-10 w-10 rounded-full bg-gray-100 hover:bg-gray-200 active:bg-gray-300 grid place-items-center transition-colors shadow-sm",style:{touchAction:"manipulation"},"aria-label":"Close cart",children:r.jsx(ir,{className:"w-5 h-5 text-gray-700"})}),r.jsxs(st,{mode:"wait",children:[A==="review"&&r.jsx(UP,{items:d,itemCount:se,subtotalCents:le.subtotal,tip:E,deliveryType:X,fulfillmentType:N,totals:le,deliveryFeePending:le.deliveryFeePending,brandColor:e,serviceFeeRate:le.serviceFeeRate??0,loyaltyConfig:c,menuItems:de,onUpdateQty:je,onUpdateNotes:qe,onRemove:ot,onEdit:kt,onRecommendationAdd:rn,onTipChange:R,onDeliveryTypeChange:Rr,onContinue:an,onContinueBlocked:()=>z(!0),continueDisabled:yt,showDeliveryError:tt,onClearCart:h,onNavigate:t,deliveryAddress:T,onAddressSelect:M,taxRate:j},"review-mobile"),A==="details"&&r.jsx(BP,{deliveryType:X,totals:le,brandColor:e,onBack:Ze,onSubmit:ta,deliveryQuote:B,onDeliveryQuote:sn,isActiveViewport:!K,initialAddress:T,taxRate:j,serviceFeeRate:le.serviceFeeRate??0},"details-mobile"),A==="confirmed"&&$&&r.jsx(VP,{orderId:$.id,orderNumber:$.number,eta:$.eta,deliveryType:$.mode,items:$.items,totals:$.totals,brandColor:e,loyalty:$.loyalty,onTrackOrder:X==="delivery"?Ys:void 0,onViewOrderDetails:ji,onBackToMenu:Yn,onNewOrder:xs},"confirmed-mobile")]})]}),q&&r.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:xe=>{xe.target===xe.currentTarget&&V(!1)},className:"fixed inset-0 bg-black/40 z-[90] lg:hidden pointer-events-auto",style:{top:ys}})]}),ee&&r.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"We can't deliver to this address"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Uber Direct supports a limited delivery radius. Please double-check your address or contact uswe'll help place the order or arrange pickup."}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Shahirizada Fresh Market"}),r.jsx("div",{className:"text-gray-700",children:cr.address}),r.jsxs("div",{className:"text-gray-700",children:["Phone: ",cr.phone]}),r.jsxs("div",{className:"text-gray-700",children:["Email: ",cr.email]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx(re,{className:"flex-1",variant:"outline",onClick:()=>z(!1),children:"Close"}),r.jsx(re,{className:"flex-1 text-white",style:{backgroundColor:e},onClick:()=>{z(!1),t("/contact")},children:"Contact Support"})]})]})})]})},R0e=e=>{const t=e.startsWith("#")?e.slice(1):e;return Object.fromEntries(new URLSearchParams(t))},A0e=({onNavigate:e})=>{const[t,n]=x.useState("request"),[s,i]=x.useState(""),[a,o]=x.useState(""),[c,d]=x.useState(!1),[h,f]=x.useState(null),[m,g]=x.useState(null),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{const N=window.location.hash||"",C=R0e(N),T=new URL(window.location.href),M=T.searchParams.get("code"),P=C.access_token,E=C.refresh_token;if((C.type||T.searchParams.get("type"))==="recovery"||P||E||M){n("update"),d(!0),g(null);try{if(P&&E){const{error:q}=await Fe.auth.setSession({access_token:P,refresh_token:E});if(q)throw q}else if(M){const{error:q}=await Fe.auth.exchangeCodeForSession(M);if(q)throw q}else if(N.includes("type=recovery")){const{error:q}=await Fe.auth.exchangeCodeForSession(N);if(q)throw q}else throw new Error("Recovery link is missing required parameters.");f("Session confirmed. Please set your new password.")}catch(q){console.error("Recovery exchange error",q),g(q.message||"Invalid or expired reset link."),n("request")}finally{d(!1)}}})()},[]);const j=async _=>{_.preventDefault(),d(!0),f(null),g(null);try{const N=`${window.location.origin}/reset-password`,{error:C}=await Fe.auth.resetPasswordForEmail(s.trim(),{redirectTo:N});if(C)throw C;f("Check your email for a password reset link.")}catch(N){g(N.message||"Unable to send reset email.")}finally{d(!1)}},S=async _=>{_.preventDefault(),d(!0),f(null),g(null);try{const{error:N}=await Fe.auth.updateUser({password:a});if(N)throw N;b(!0),f("Password updated. You can now sign in.")}catch(N){g(N.message||"Unable to update password.")}finally{d(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(we,{className:"max-w-md w-full p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:r.jsx(Ig,{className:"w-5 h-5 text-amber-700"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:t==="request"?"Forgot Password":"Set New Password"}),r.jsx("p",{className:"text-sm text-gray-600",children:t==="request"?"Send a reset link to your email.":"Enter your new password."})]})]}),t==="request"?r.jsxs(r.Fragment,{children:[r.jsxs("form",{className:"space-y-3",onSubmit:j,children:[r.jsx(Me,{type:"email",placeholder:"you@example.com",value:s,onChange:_=>i(_.target.value),required:!0}),m&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2",children:m}),h&&r.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2",children:h}),r.jsx(re,{type:"submit",className:"w-full",disabled:c,children:c?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send reset link"})]}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm pt-2",children:[r.jsx("button",{onClick:()=>e("/login"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Back to Login"}),r.jsx("span",{className:"text-gray-300",children:""}),r.jsxs("button",{onClick:()=>e("/products"),className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center gap-1",children:["Continue Shopping",r.jsx(fs,{className:"w-3 h-3"})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("form",{className:"space-y-3",onSubmit:S,children:[r.jsx(Me,{type:"password",placeholder:"New password",value:a,onChange:_=>o(_.target.value),required:!0,disabled:y}),m&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2",children:m}),h&&r.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2",children:h}),!y&&r.jsx(re,{type:"submit",className:"w-full",disabled:c,children:c?r.jsxs(r.Fragment,{children:[r.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update password"})]}),y&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs(re,{onClick:()=>e("/products"),className:"w-full",variant:"default",children:["Continue Shopping",r.jsx(fs,{className:"w-4 h-4 ml-2"})]}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Sign in to your account"})]})]})]})})},I0e=({config:e})=>r.jsxs("div",{className:"min-h-screen",children:[r.jsx("div",{className:"py-10 sm:py-12 md:py-16 text-white text-center",style:{backgroundColor:e.theme.brand},children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-white mb-3 sm:mb-4",style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",lineHeight:"1.2"},children:"Privacy Policy & Terms of Use"}),r.jsxs("p",{className:"text-white/90",children:["Effective Date: ",new Date().toLocaleDateString()]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"prose prose-lg max-w-none text-gray-600",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-8",children:r.jsxs("p",{className:"text-sm text-blue-700 m-0",children:[r.jsx("strong",{children:"Note:"})," This document outlines how ",e.name," collects, uses, and protects your data. By using our services, you agree to these terms."]})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Information We Collect"}),r.jsx("p",{children:"We collect information to provide better services to all our users. The types of information we collect include:"}),r.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Personal Identification:"})," Name, phone number, email address, and physical address for delivery."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Order Information:"})," Details of the products you purchase, special instructions, and transaction history."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payment Information:"})," We use third-party payment processors (Stripe) to handle payments. We do not store your full credit card information on our servers."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information, and usage data to improve our platform."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Location Data:"})," We may collect your location to facilitate delivery services and estimated arrival times."]})]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. How We Use Your Information"}),r.jsx("p",{children:"Your information is used for the following purposes:"}),r.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Order Fulfillment:"})," To process and deliver your orders via our delivery partners (including Uber Direct)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Communication:"})," To send order confirmations, updates, and delivery notifications via SMS (Twilio) or email."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Customer Support:"})," To assist you with inquiries, refunds, or issues with your orders."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Loyalty Program:"})," To track your points and rewards if you participate in our loyalty program."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Improvement:"})," To analyze trends and improve our website, menu, and services."]})]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. Data Sharing and Third Parties"}),r.jsx("p",{children:"We do not sell your personal data. However, we share necessary information with trusted third-party service providers to operate our business:"}),r.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Payment Processing:"})," We use ",r.jsx("strong",{children:"Stripe"})," for secure payment processing. Your payment details are tokenized and processed directly by Stripe."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Delivery Services:"})," We partner with ",r.jsx("strong",{children:"Uber Direct"})," and other local couriers to deliver your orders. We share your name, phone number, and delivery address with them solely for delivery purposes."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Notifications:"})," We use ",r.jsx("strong",{children:"Twilio"})," to send automated SMS updates regarding your order status."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Maps & Address Validation:"})," We use ",r.jsx("strong",{children:"Google Maps API"})," to validate addresses and calculate delivery routes."]})]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. Cookies and Local Storage"}),r.jsx("p",{children:"We use local storage and cookies to enhance your experience, such as remembering your cart items, guest profile, and login status. You can control cookie preferences through your browser settings, though this may affect site functionality."}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Data Security"}),r.jsx("p",{children:"We implement industry-standard security measures to protect your personal information. Payment transactions are encrypted using SSL technology. While we strive to protect your data, no method of transmission over the Internet is 100% secure."}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Your Rights"}),r.jsx("p",{children:"You have the right to access, correct, or delete your personal information. If you wish to exercise these rights or have questions about your data, please contact us."}),r.jsx("hr",{className:"my-10 border-gray-200"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Terms of Use"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"1. Acceptance of Terms"}),r.jsx("p",{className:"mb-4",children:"By accessing our website and placing orders, you agree to be bound by these Terms of Use and our Privacy Policy."}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2. Orders and Cancellations"}),r.jsx("p",{className:"mb-4",children:"We reserve the right to refuse or cancel any order for any reason, including availability, errors in pricing, or suspicion of fraud. If we cancel an order, we will issue a full refund."}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3. Refund Policy"}),r.jsx("p",{className:"mb-4",children:"We take pride in our fresh products. If you are unsatisfied with your order, please contact us within 24 hours of delivery/pickup. Refunds are issued at our discretion based on the nature of the issue."}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"4. User Conduct"}),r.jsx("p",{className:"mb-4",children:"You agree not to misuse our services, including but not limited to submitting false orders, interfering with our site's security, or using our content without permission."}),r.jsx("hr",{className:"my-10 border-gray-200"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Us"}),r.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our Terms, please contact us:"}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),r.jsx("p",{children:e.address.line1}),r.jsxs("p",{children:[e.address.city,", ",e.address.state," ",e.address.zip]}),r.jsxs("p",{className:"mt-4",children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("a",{href:`mailto:${e.contact.email}`,className:"text-blue-600 hover:underline",children:e.contact.email})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",r.jsx("a",{href:`tel:${e.contact.phone}`,className:"text-blue-600 hover:underline",children:e.contact.phone})]})]})]})})]}),O0e=({config:e,onNavigate:t})=>{const n=[{icon:Dn,title:"Ordering",description:"How to place an order, modify cart, and payment methods."},{icon:zs,title:"Delivery & Pickup",description:"Delivery areas, fees, and pickup instructions."},{icon:Da,title:"Returns & Refunds",description:"Our policy on freshness and refunds."},{icon:Th,title:"Account & Billing",description:"Manage your profile, rewards, and payment history."}],s=[{question:"Where do you deliver?",answer:`We currently offer local delivery in ${e.address.city} and surrounding areas. You can check if we deliver to your address during checkout.`},{question:"How do I track my order?",answer:'Once your order is confirmed, you will receive a tracking link via SMS or email. You can also track your order status in the "My Orders" section of your account.'},{question:"What if an item is out of stock?",answer:"We strive to keep our inventory updated in real-time. If an item becomes unavailable after you place an order, we will contact you immediately to offer a substitution or a refund."},{question:"Can I cancel or modify my order?",answer:"Please contact us as soon as possible if you need to make changes. If the order has not yet been prepared, we can usually accommodate modifications."}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"py-16 sm:py-24 text-center text-white relative overflow-hidden",style:{backgroundColor:e.theme.brand},children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"container mx-auto px-4 relative z-10",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-6",children:"How can we help you?"}),r.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[r.jsx(gi,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search for answers...",className:"w-full pl-12 pr-4 py-3 rounded-xl text-gray-900 shadow-lg focus:outline-none focus:ring-2 focus:ring-white/50"})]})]})})]}),r.jsxs("div",{className:"container mx-auto px-4 py-12 -mt-8 relative z-20",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:n.map((i,a)=>r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:r.jsxs(we,{className:"p-6 h-full hover:shadow-lg transition-shadow cursor-pointer bg-white",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4",style:{backgroundColor:`${e.theme.brand}15`},children:r.jsx(i.icon,{className:"w-6 h-6",style:{color:e.theme.brand}})}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:i.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})},i.title))}),r.jsxs("div",{className:"max-w-3xl mx-auto mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Frequently Asked Questions"}),r.jsx("div",{className:"space-y-4",children:s.map((i,a)=>r.jsxs(we,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-2 text-lg",children:i.question}),r.jsx("p",{className:"text-gray-600",children:i.answer})]},a))})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Still need help?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[r.jsxs(we,{className:"p-6 flex flex-col items-center",children:[r.jsx(sr,{className:"w-8 h-8 mb-4 text-gray-400"}),r.jsx("h3",{className:"font-semibold mb-2",children:"Call Us"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Talk to a support specialist"}),r.jsx("a",{href:`tel:${e.contact.phone}`,children:r.jsx(re,{variant:"outline",className:"w-full",children:e.contact.phone})})]}),r.jsxs(we,{className:"p-6 flex flex-col items-center",children:[r.jsx(Mn,{className:"w-8 h-8 mb-4 text-gray-400"}),r.jsx("h3",{className:"font-semibold mb-2",children:"Email Us"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Response within 24 hours"}),r.jsx("a",{href:`mailto:${e.contact.email}`,children:r.jsx(re,{variant:"outline",className:"w-full",children:"Send Email"})})]}),r.jsxs(we,{className:"p-6 flex flex-col items-center",children:[r.jsx(Uc,{className:"w-8 h-8 mb-4 text-gray-400"}),r.jsx("h3",{className:"font-semibold mb-2",children:"Chat"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Available during business hours"}),r.jsx(re,{variant:"outline",className:"w-full",onClick:()=>t?.("/contact"),children:"Start Chat"})]})]})]})]})]})},M0e=({config:e})=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"py-16 sm:py-20 text-center text-white relative overflow-hidden",style:{backgroundColor:e.theme.brand},children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"container mx-auto px-4 relative z-10",children:r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx(hJ,{className:"w-12 h-12 mx-auto mb-4 opacity-90"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Delete Your Account"}),r.jsxs("p",{className:"mt-3 opacity-90",children:[e.name," App (us.tabsy.shahirizada)"]})]})})]}),r.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(we,{className:"p-6 sm:p-8 mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[r.jsx(Ra,{className:"w-5 h-5",style:{color:e.theme.brand}}),"Steps to Request Account Deletion"]}),r.jsxs("ol",{className:"space-y-4",children:[r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{backgroundColor:e.theme.brand},children:"1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Send an email to one of our support addresses"}),r.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Use ",r.jsx("strong",{children:"partner@sfdify.com"})," or ",r.jsx("strong",{children:"info@sfdify.com"})]})]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{backgroundColor:e.theme.brand},children:"2"}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:'Include "Account Deletion Request" in the subject line'})})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{backgroundColor:e.theme.brand},children:"3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Provide the following information in your email:"}),r.jsxs("ul",{className:"text-gray-600 text-sm mt-2 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Your registered email address or phone number"}),r.jsxs("li",{children:["Restaurant/branch name: ",r.jsx("strong",{children:e.name})]}),r.jsxs("li",{children:["App ID: ",r.jsx("strong",{children:"us.tabsy.shahirizada"})]})]})]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-medium",style:{backgroundColor:e.theme.brand},children:"4"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Wait for confirmation"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"We will verify your identity and process your request within 7 business days."})]})]})]})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(we,{className:"p-6 sm:p-8 mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5",style:{color:e.theme.brand}}),"What Data Will Be Deleted"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Immediately Deleted:"}),r.jsxs("ul",{className:"text-gray-600 text-sm space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Your profile information (name, email, phone number)"}),r.jsx("li",{children:"Saved addresses"}),r.jsx("li",{children:"Loyalty points and rewards"}),r.jsx("li",{children:"Saved payment methods"}),r.jsx("li",{children:"Cart and wishlist items"}),r.jsx("li",{children:"App preferences and settings"})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-amber-700 mb-2 flex items-center gap-2",children:[r.jsx(Jt,{className:"w-4 h-4"}),"Retained for 30 Days (then deleted):"]}),r.jsx("ul",{className:"text-gray-600 text-sm space-y-1 list-disc list-inside",children:r.jsx("li",{children:"Order history (for refund/dispute purposes)"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Retained for Legal Compliance:"}),r.jsxs("ul",{className:"text-gray-600 text-sm space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Transaction records (retained for 7 years as required by tax law)"}),r.jsx("li",{children:"This data is anonymized and cannot be linked back to you"})]})]})]})]})}),r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsxs(we,{className:"p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Mn,{className:"w-5 h-5",style:{color:e.theme.brand}}),"Contact Us"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:"mailto:partner@sfdify.com?subject=Account Deletion Request - us.tabsy.shahirizada",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border-2 border-transparent hover:border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Primary Contact:"}),r.jsx("span",{className:"block text-lg font-medium",style:{color:e.theme.brand},children:"partner@sfdify.com"})]}),r.jsxs("a",{href:"mailto:info@sfdify.com?subject=Account Deletion Request - us.tabsy.shahirizada",className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border-2 border-transparent hover:border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Alternative Contact:"}),r.jsx("span",{className:"block text-lg font-medium",style:{color:e.theme.brand},children:"info@sfdify.com"})]})]})]})}),r.jsx("p",{className:"text-center text-gray-500 text-sm mt-8",children:"Questions? We're here to help. Response time is typically within 24-48 hours."})]})]}),D0e=()=>{if(typeof window>"u")return"other";const e=navigator.userAgent||navigator.vendor||window.opera||"";return/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":/android/i.test(e)?"android":"other"},L0e=()=>typeof window>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),WP="shahirizada_app_banner_dismissed",$0e=()=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:16,height:16},children:r.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),F0e=()=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:16,height:16},children:r.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),U0e="https://share.shahirizadameatmarket.com",z0e=({onVisibilityChange:e})=>{const[t,n]=x.useState("loading"),[s,i]=x.useState("ios");x.useEffect(()=>{t!=="loading"&&e?.(t==="visible")},[t,e]),x.useEffect(()=>{if(!L0e()){n("hidden");return}const c=localStorage.getItem(WP);if(c){const d=parseInt(c,10),h=1440*60*1e3;if(Date.now()-d<7*h){n("hidden");return}}i(D0e()),n("visible")},[]);const a=()=>{n("hidden"),localStorage.setItem(WP,Date.now().toString())},o=()=>{window.location.href=U0e};return t!=="visible"?null:r.jsx("div",{style:{position:"fixed",left:0,right:0,top:0,zIndex:99999,width:"100%",backgroundColor:"#1a1a1a",height:64},children:r.jsxs("div",{style:{height:64,paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,maxWidth:1024,margin:"0 auto"},children:[r.jsx("button",{type:"button",onClick:a,style:{padding:6,marginLeft:-4,borderRadius:9999,flexShrink:0,color:"rgba(255,255,255,0.5)",background:"none",border:"none",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},"aria-label":"Dismiss",children:r.jsx(ir,{size:20,strokeWidth:1.5})}),r.jsx("div",{style:{flexShrink:0},children:r.jsx("img",{src:GM,alt:"Shahirizada Fresh Market",style:{width:40,height:40,borderRadius:10,boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),r.jsxs("div",{style:{flex:1,minWidth:0,paddingLeft:8,paddingRight:8},children:[r.jsx("p",{style:{color:"white",fontSize:13,fontWeight:600,lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",margin:0},children:"Shahirizada Fresh Market"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.55)",fontSize:11,marginTop:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",margin:0},children:"Order fresh halal meats"})]}),r.jsxs("button",{type:"button",onClick:o,style:{display:"flex",alignItems:"center",gap:6,paddingLeft:12,paddingRight:12,paddingTop:6,paddingBottom:6,borderRadius:9999,flexShrink:0,backgroundColor:"rgba(255,255,255,0.12)",border:"none",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"rgba(255,255,255,0.2)"},children:[r.jsx("span",{style:{color:"white",opacity:.9,display:"flex"},children:s==="ios"?r.jsx($0e,{}):r.jsx(F0e,{})}),r.jsx("span",{style:{color:"rgba(255,255,255,0.95)",fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Get"})]})]})})},B0e=({config:e,onNavigate:t})=>{const[n,s]=x.useState(""),[i,a]=x.useState(!1),o=async d=>{d.preventDefault(),n&&(a(!0),await new Promise(h=>setTimeout(h,1e3)),a(!1),s(""),Ne.success("You'll be the first to know when gift cards launch!"))},c=[{icon:DI,title:"Premium Meats",description:"Fresh halal cuts, never frozen  from ribeyes to ground beef"},{icon:gJ,title:"Catering Orders",description:"Perfect for weddings, events, and family gatherings"},{icon:Nr,title:"Special Occasions",description:"Birthdays, holidays, or just because  share the gift of quality"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[r.jsxs("div",{className:"relative py-16 sm:py-20 md:py-28 overflow-hidden",style:{backgroundColor:e.theme.brand},children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 rounded-full opacity-10",style:{background:"radial-gradient(circle, white 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute -bottom-32 -left-32 w-[500px] h-[500px] rounded-full opacity-10",style:{background:"radial-gradient(circle, white 0%, transparent 70%)"}})]}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsxs(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6",style:{backgroundColor:"rgba(255,255,255,0.15)"},children:[r.jsx(fi,{className:"w-4 h-4 text-amber-300"}),r.jsx("span",{className:"text-white/90 text-sm font-medium tracking-wide",children:"Coming Soon"})]}),r.jsx("h1",{className:"text-white mb-4 font-serif",style:{fontSize:"clamp(2rem, 6vw, 3.5rem)",lineHeight:"1.1"},children:"Gift Cards"}),r.jsx("p",{className:"text-white/85 max-w-2xl mx-auto mb-10",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",lineHeight:"1.6"},children:"Share the taste of premium halal quality with your loved ones"})]}),r.jsxs(W.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.3,duration:.7},className:"relative max-w-md mx-auto",children:[r.jsx("div",{className:"absolute inset-0 transform rotate-3 translate-x-2 translate-y-2 rounded-2xl opacity-30",style:{backgroundColor:e.theme.accent}}),r.jsx("div",{className:"absolute inset-0 transform -rotate-2 -translate-x-1 translate-y-1 rounded-2xl opacity-20",style:{backgroundColor:"white"}}),r.jsxs("div",{className:"relative rounded-2xl p-8 shadow-2xl border border-white/20",style:{background:`linear-gradient(135deg, ${e.theme.accent} 0%, #f5ebe0 50%, ${e.theme.accent} 100%)`},children:[r.jsxs("div",{className:"flex items-start justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:e.theme.brand},children:r.jsx(Va,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Gift Card"}),r.jsx("p",{className:"font-serif text-lg",style:{color:e.theme.brand},children:e.name})]})]}),r.jsx(Th,{className:"w-8 h-8 text-gray-400"})]}),r.jsxs("div",{className:"text-left mb-6",children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Value"}),r.jsx("p",{className:"font-serif text-4xl",style:{color:e.theme.brand},children:"$50  $500"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hu,{className:"w-5 h-5",style:{color:e.theme.brand}}),r.jsx("span",{className:"text-sm text-gray-600",children:"With Love"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"100% Halal"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Never Frozen"})]})]}),r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 opacity-10",style:{background:`radial-gradient(circle at top right, ${e.theme.brand} 0%, transparent 70%)`}})]})]})]})})]}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-8 relative z-20",children:r.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsxs(we,{className:"max-w-xl mx-auto p-6 sm:p-8 shadow-xl border-0",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Mn,{className:"w-10 h-10 mx-auto mb-3",style:{color:e.theme.brand}}),r.jsx("h3",{className:"text-xl font-medium mb-2",children:"Be the First to Know"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Get notified when gift cards become available"})]}),r.jsxs("form",{onSubmit:o,className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(Me,{type:"email",placeholder:"Enter your email",value:n,onChange:d=>s(d.target.value),className:"flex-1",required:!0}),r.jsxs(re,{type:"submit",disabled:i,className:"text-white shrink-0",style:{backgroundColor:e.theme.brand},children:[i?"Submitting...":"Notify Me",r.jsx(fs,{className:"w-4 h-4 ml-2"})]})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-serif mb-3",children:"Perfect for Every Occasion"}),r.jsxs("p",{className:"text-gray-600 max-w-xl mx-auto",children:["A ",e.name," gift card is the gift of premium quality  fresh halal meats for any celebration"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:c.map((d,h)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.1},children:r.jsxs(we,{className:"p-6 h-full text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:e.theme.accent},children:r.jsx(d.icon,{className:"w-7 h-7",style:{color:e.theme.brand}})}),r.jsx("h3",{className:"font-medium mb-2",children:d.title}),r.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})},d.title))})]}),r.jsx("div",{className:"py-16",style:{backgroundColor:e.theme.accent},children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-2xl mx-auto text-center",children:[r.jsx(Va,{className:"w-12 h-12 mx-auto mb-4",style:{color:e.theme.brand}}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-serif mb-4",children:"Need a Custom Gift Arrangement?"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"While we prepare our gift card program, we're happy to help with custom meat packages, bulk orders for events, or special gift bundles. Contact us to discuss your needs."}),r.jsxs(re,{size:"lg",onClick:()=>t("/contact"),className:"text-white",style:{backgroundColor:e.theme.brand},children:["Contact Us",r.jsx(fs,{className:"w-4 h-4 ml-2"})]})]})})})]})},V0e=({config:e,onNavigate:t})=>{const n=[{icon:Hu,title:"Family Environment",description:"Join a close-knit team that values respect, integrity, and collaboration"},{icon:Jt,title:"Flexible Scheduling",description:"We work with your schedule  part-time and full-time positions available"},{icon:DI,title:"Employee Discounts",description:"Enjoy generous discounts on all our premium halal products"},{icon:fK,title:"Growth Opportunities",description:"Learn the craft of butchery and advance within our expanding team"}],s=[{title:"Halal Butcher",type:"Full-time",description:"Skilled butcher experienced in halal meat preparation and customer service"},{title:"Counter Associate",type:"Part-time / Full-time",description:"Friendly team member to assist customers and maintain product displays"},{title:"Delivery Driver",type:"Part-time",description:"Reliable driver to deliver fresh orders to our local customers"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[r.jsxs("div",{className:"relative py-16 sm:py-20 md:py-28 overflow-hidden",style:{backgroundColor:e.theme.brand},children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] rounded-full opacity-5",style:{background:"radial-gradient(circle, white 0%, transparent 60%)"}})}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsx("div",{className:"max-w-3xl mx-auto text-center",children:r.jsxs(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6",style:{backgroundColor:"rgba(255,255,255,0.15)"},children:[r.jsx(fi,{className:"w-4 h-4 text-amber-300"}),r.jsx("span",{className:"text-white/90 text-sm font-medium tracking-wide",children:"We're Hiring"})]}),r.jsx("h1",{className:"text-white mb-4 font-serif",style:{fontSize:"clamp(2rem, 6vw, 3.5rem)",lineHeight:"1.1"},children:"Join Our Team"}),r.jsx("p",{className:"text-white/85 max-w-2xl mx-auto mb-8",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)",lineHeight:"1.6"},children:"Be part of Naperville's premier halal butcher  where tradition meets quality, and every team member matters"}),r.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-center gap-2 text-white/70",children:[r.jsx(bn,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm",children:[e.address.city,", ",e.address.state]})]})]})})})]}),r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-serif mb-3",children:"Why Work With Us"}),r.jsxs("p",{className:"text-gray-600 max-w-xl mx-auto",children:["At ",e.name,", we believe in taking care of our team as well as we take care of our customers"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:n.map((i,a)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},children:r.jsxs(we,{className:"p-6 h-full text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:e.theme.accent},children:r.jsx(i.icon,{className:"w-7 h-7",style:{color:e.theme.brand}})}),r.jsx("h3",{className:"font-medium mb-2",children:i.title}),r.jsx("p",{className:"text-sm text-gray-600",children:i.description})]})},i.title))})]}),r.jsx("div",{className:"bg-gray-50 py-16 sm:py-20",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-serif mb-3",children:"Open Positions"}),r.jsx("p",{className:"text-gray-600 max-w-xl mx-auto",children:"We're always looking for passionate people who share our commitment to quality"})]}),r.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:s.map((i,a)=>r.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},children:r.jsx(we,{className:"p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-medium text-lg",children:i.title}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:e.theme.accent,color:e.theme.brand},children:i.type})]}),r.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),r.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t("/contact"),className:"shrink-0",children:["Apply",r.jsx(fs,{className:"w-4 h-4 ml-1"})]})]})})},i.title))}),r.jsx(W.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.4},className:"text-center text-gray-500 text-sm mt-8",children:"Don't see a position that fits? We'd still love to hear from you!"})]})}),r.jsx("div",{className:"py-16",style:{backgroundColor:e.theme.accent},children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-2xl mx-auto text-center",children:[r.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4",style:{color:e.theme.brand}}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-serif mb-4",children:"Ready to Join Our Family?"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Send us your resume and a brief introduction. We look forward to meeting you!"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("a",{href:`mailto:${e.contact.email}?subject=Career Inquiry - ${e.name}`,children:r.jsxs(re,{size:"lg",className:"text-white w-full sm:w-auto",style:{backgroundColor:e.theme.brand},children:[r.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Email Your Resume"]})}),r.jsxs(re,{size:"lg",variant:"outline",onClick:()=>t("/contact"),className:"w-full sm:w-auto",children:["Visit the Store",r.jsx(fs,{className:"w-4 h-4 ml-2"})]})]})]})})})]})};function W0e(){const{config:e,hours:t,menu:n,blog:s}=zS(),[i,a]=x.useState(!0),[o,c]=x.useState(!0),[d,h]=x.useState(!1),f=40,m=64,g=()=>typeof window<"u"&&window.location.pathname||"/",[y,b]=x.useState(g()),[j,S]=x.useState(!1),_=()=>{S(!0)},N=Q=>{console.log("Selected order mode:",Q),C("/products")};x.useEffect(()=>{if(e){const Q={"/":e.seo.title,"/products":`Products | ${e.name}`,"/menu":`Products | ${e.name}`,"/checkout":`Checkout | ${e.name}`,"/about":`About Us | ${e.name}`,"/events":`Events & Catering | ${e.name}`,"/blog":`Blog | ${e.name}`,"/contact":`Contact | ${e.name}`,"/login":`Sign In | ${e.name}`,"/verify":`Verify Code | ${e.name}`,"/reset-password":`Reset Password | ${e.name}`,"/account":`My Account | ${e.name}`,"/account/orders":`My Orders | ${e.name}`,"/account/rewards":`My Rewards | ${e.name}`,"/account/referrals":`Referrals | ${e.name}`,"/track":`Track Order | ${e.name}`,"/loyalty":`Loyalty Rewards | ${e.name}`,"/privacy-policy":`Privacy Policy | ${e.name}`,"/support":`Support Center | ${e.name}`,"/how-to-delete-account":`Delete Account | ${e.name}`};let G=e.seo.title;y.startsWith("/status/")?G=`Order Status | ${e.name}`:y.startsWith("/confirm/")?G=`Order Confirmed | ${e.name}`:y.startsWith("/track/")?G=`Track Order | ${e.name}`:y.startsWith("/account/orders/")?G=`Order Details | ${e.name}`:G=Q[y]||e.seo.title,document.title=G;let A=document.querySelector('meta[name="viewport"]');A||(A=document.createElement("meta"),A.setAttribute("name","viewport"),document.head.appendChild(A)),A.setAttribute("content","width=device-width, initial-scale=1, viewport-fit=cover");const J=document.querySelector('meta[name="description"]');J&&J.setAttribute("content",e.seo.description)}},[y,e]),x.useEffect(()=>{window.scrollTo(0,0)},[y]),x.useEffect(()=>{typeof document<"u"&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.height="",document.documentElement.style.overflow="",document.body.style.touchAction="pan-y",document.documentElement.style.touchAction="pan-y",document.body.offsetHeight)},[]),x.useEffect(()=>{const Q=()=>{const G=window.location.pathname||"/";b(G)};return window.addEventListener("popstate",Q),()=>window.removeEventListener("popstate",Q)},[]),x.useEffect(()=>{if(typeof window<"u"){const G=new URLSearchParams(window.location.search).get("ref");G&&Ag(async()=>{const{trackReferralClick:A}=await Promise.resolve().then(()=>zZ);return{trackReferralClick:A}},void 0).then(({trackReferralClick:A})=>{A(G)})}},[]),x.useEffect(()=>(i0e(),()=>n6()),[]),x.useEffect(()=>{y.startsWith("/admin")&&US().catch(Q=>{console.warn("[OneSignal] Init failed (non-critical):",Q)})},[y]);const C=Q=>{typeof window<"u"&&window.history.pushState({},"",Q);const G=Q.split("?")[0];b(G)};if(y==="/admin"||y.startsWith("/admin/")){console.log("Rendering Admin route");try{return r.jsx(t2,{children:r.jsx(MP,{})})}catch(Q){return console.error("Error rendering Admin:",Q),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:r.jsxs("div",{className:"max-w-md bg-white p-8 rounded-lg shadow-lg",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Admin Route Error"}),r.jsx("p",{className:"mb-4",children:"Failed to render the admin page. Check console for details."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("a",{href:"/admin-simple",className:"block px-4 py-2 bg-blue-600 text-white rounded text-center",children:"Try Simple Admin Test"}),r.jsx("a",{href:"/admin-health",className:"block px-4 py-2 bg-green-600 text-white rounded text-center",children:"Run Health Check"}),r.jsx("a",{href:"/",className:"block px-4 py-2 bg-gray-600 text-white rounded text-center",children:"Go Home"})]})]})})}}if(y==="/reset-password")return r.jsx(A0e,{onNavigate:C});if(y==="/admin-simple")return r.jsx(Fye,{});if(y==="/migrate-blog")return r.jsx(Uye,{});if(y==="/admin-health")return r.jsx(zye,{});if(!e||!t||!n||!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const T=()=>{if(y.startsWith("/status/")){const Q=y.split("/")[2];return r.jsx(Wue,{orderId:Q,onNavigate:C,config:e})}if(y.startsWith("/confirm/")){const Q=y.split("/")[2];return r.jsx(khe,{orderId:Q,onNavigate:C,config:e})}if(y.startsWith("/blog/")&&y!=="/blog"){const Q=y.split("/")[2],G=s?.posts||[],A=G.find(J=>J.slug===Q);if(A){const J=Xye(A,G,3);return r.jsx(gfe,{post:A,relatedPosts:J,brandColor:e.theme.brand,onNavigate:C,onPostClick:$=>C(`/blog/${$}`)})}}if(y.startsWith("/track/")){const Q=y.split("/")[2];return r.jsx(dP,{orderNumber:Q,onNavigate:C,brandColor:e.theme.brand})}if(y.startsWith("/account/orders/")&&y!=="/account/orders"){const Q=y.split("/")[3];return r.jsx(ime,{orderId:Q,onNavigate:C,config:e,brandColor:e.theme.brand})}switch(y){case"/":return r.jsx(XT,{config:e,hours:t,menu:n,blog:s,onNavigate:C,onOrderNow:()=>C("/products")});case"/products":case"/menu":return r.jsx(Aue,{config:e,menu:n,onNavigate:C,showAnnouncementBar:i});case"/checkout":return r.jsx(ife,{onNavigate:C,brandColor:e.theme.brand});case"/blog":return r.jsx(mfe,{posts:s?.posts||[],categories:s?.categories||[],brandColor:e.theme.brand,brandName:e.name,onPostClick:Q=>C(`/blog/${Q}`)});case"/about":return r.jsx(ofe,{config:e});case"/events":return r.jsx(lfe,{config:e});case"/contact":return r.jsx(dfe,{config:e,hours:t,onNavigate:C});case"/login":return r.jsx(yfe,{onNavigate:C,brandColor:e.theme.brand});case"/verify":return r.jsx(vfe,{onNavigate:C,brandColor:e.theme.brand});case"/account":return r.jsx(Nfe,{onNavigate:C,brandColor:e.theme.brand});case"/account/orders":return r.jsx(kfe,{onNavigate:C,brandColor:e.theme.brand});case"/account/rewards":return r.jsx(ame,{onNavigate:C,brandColor:e.theme.brand});case"/account/referrals":return r.jsx(ome,{onNavigate:C,config:e,brandColor:e.theme.brand});case"/track":return r.jsx(dP,{onNavigate:C,brandColor:e.theme.brand});case"/loyalty":return r.jsx(cme,{onNavigate:C,onOrderNow:_,brandColor:e.theme.brand});case"/admin":return r.jsx(MP,{});case"/demo/universal-modal":return r.jsx(Ome,{});case"/demo/ordering-flow":return r.jsx(upe,{});case"/demo/sms-consent":return r.jsx(Zye,{});case"/demo/tip-selector":return r.jsx(e0e,{});case"/upload-blog-images":return r.jsx(ppe,{});case"/privacy-policy":return r.jsx(I0e,{config:e});case"/support":return r.jsx(O0e,{config:e,onNavigate:C});case"/how-to-delete-account":return r.jsx(M0e,{config:e});case"/gift-cards":return r.jsx(B0e,{config:e,onNavigate:C});case"/careers":return r.jsx(V0e,{config:e,onNavigate:C});default:return r.jsx(XT,{config:e,hours:t,menu:n,blog:s,onNavigate:C,onOrderNow:_})}},M=y==="/login"||y==="/verify"||y==="/admin",P=!!(e.announcement&&!M&&i),E=!M&&o&&d,R=(E?m:0)+(P?f:0),q=64+R,V=80+R;return r.jsx(t2,{children:r.jsxs("div",{className:"w-full min-h-screen flex flex-col",children:[r.jsx(Qye,{}),!M&&o&&r.jsx(z0e,{brandColor:e.theme.brand,onVisibilityChange:h}),P&&r.jsx(bce,{message:e.announcement,brandColor:e.theme.brand,topOffset:E?m:0,onClose:()=>a(!1)}),r.jsx(Mse,{brandName:e.name,brandColor:e.theme.brand,phone:e.contact.phone,onNavigate:C,currentPath:y,hasAnnouncementBar:P,topOffset:R}),r.jsxs("main",{className:"w-full flex-1",style:{paddingTop:`${q}px`},children:[r.jsx("style",{children:`
              @media (min-width: 640px) {
                main {
                  padding-top: ${V}px !important;
                }
              }
            `}),T()]}),!M&&r.jsx(Nce,{config:e,onNavigate:C}),!M&&r.jsx(wce,{brandColor:e.theme.brand,phone:e.contact.phone,address:e.address,onNavigate:C}),r.jsx(Jye,{}),!M&&r.jsx(P0e,{brandColor:e.theme.brand,onNavigate:C,menu:n,hasAnnouncementBar:P,topOffsetMobile:`${64+R}px`,topOffsetDesktop:`${80+R}px`,loyaltyConfig:e.loyalty}),r.jsx(Bye,{open:j,onClose:()=>S(!1),onSelectMode:N,brandColor:e.theme.brand})]})})}const H0e=()=>{if(typeof window>"u")return"development";const e=window.location.hostname;return e==="shahirizadameatmarket.com"||e==="www.shahirizadameatmarket.com"?"production":e==="test.shahirizadameatmarket.com"?"test":"development"};bG({dsn:"https://585e5e305b51004a62c76213edd0fa7f@o4510465657864192.ingest.us.sentry.io/4510465659043840",environment:H0e(),enabled:typeof window<"u"&&!["localhost","127.0.0.1"].includes(window.location.hostname),integrations:[pG(),Jq({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,sendDefaultPii:!0});const q0e=()=>{if(typeof window>"u"||typeof document>"u")return;const e=["#__stripe-dev-tools","#__stripe-testing-tools-toggle","stripe-testing-tools-toggle","stripe-testing-provider",'[aria-label="Stripe Testing Tools"]','[data-testid="stripe-testing-tools-toggle"]',".StripeTestingTools",".StripeTestingTools__Toggle"],t=()=>{document.body.classList.add("hide-stripe-test-helper"),e.forEach(s=>{document.querySelectorAll(s).forEach(i=>{i.remove()})})};t();const n=new MutationObserver(()=>t());n.observe(document.documentElement,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",()=>n.disconnect())};q0e();PG.createRoot(document.getElementById("root")).render(r.jsx(_G,{fallback:({error:e})=>r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center p-8 max-w-md",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"We've been notified and are working to fix the issue."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:opacity-90 transition-opacity",children:"Refresh Page"})]})}),showDialog:!0,children:r.jsx(QG,{children:r.jsx(W0e,{})})}));
